function Eh(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ch(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ud={exports:{}},ri={},Dd={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ja=Symbol.for("react.element"),_h=Symbol.for("react.portal"),Ph=Symbol.for("react.fragment"),Rh=Symbol.for("react.strict_mode"),Th=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Lh=Symbol.for("react.context"),Ih=Symbol.for("react.forward_ref"),Oh=Symbol.for("react.suspense"),Uh=Symbol.for("react.memo"),Dh=Symbol.for("react.lazy"),hc=Symbol.iterator;function $h(e){return e===null||typeof e!="object"?null:(e=hc&&e[hc]||e["@@iterator"],typeof e=="function"?e:null)}var $d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fd=Object.assign,zd={};function ns(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||$d}ns.prototype.isReactComponent={};ns.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ns.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bd(){}Bd.prototype=ns.prototype;function du(e,t,n){this.props=e,this.context=t,this.refs=zd,this.updater=n||$d}var fu=du.prototype=new Bd;fu.constructor=du;Fd(fu,ns.prototype);fu.isPureReactComponent=!0;var mc=Array.isArray,Md=Object.prototype.hasOwnProperty,pu={current:null},Vd={key:!0,ref:!0,__self:!0,__source:!0};function Wd(e,t,n){var r,s={},l=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Md.call(t,r)&&!Vd.hasOwnProperty(r)&&(s[r]=t[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var c=Array(u),p=0;p<u;p++)c[p]=arguments[p+2];s.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:ja,type:e,key:l,ref:i,props:s,_owner:pu.current}}function Fh(e,t){return{$$typeof:ja,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function hu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ja}function zh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gc=/\/+/g;function Pi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?zh(""+e.key):t.toString(36)}function gl(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ja:case _h:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Pi(i,0):r,mc(s)?(n="",e!=null&&(n=e.replace(gc,"$&/")+"/"),gl(s,t,n,"",function(p){return p})):s!=null&&(hu(s)&&(s=Fh(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(gc,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",mc(e))for(var u=0;u<e.length;u++){l=e[u];var c=r+Pi(l,u);i+=gl(l,t,n,c,s)}else if(c=$h(e),typeof c=="function")for(e=c.call(e),u=0;!(l=e.next()).done;)l=l.value,c=r+Pi(l,u++),i+=gl(l,t,n,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ga(e,t,n){if(e==null)return e;var r=[],s=0;return gl(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Bh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ze={current:null},xl={transition:null},Mh={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:xl,ReactCurrentOwner:pu};function Hd(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!hu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=ns;Y.Fragment=Ph;Y.Profiler=Th;Y.PureComponent=du;Y.StrictMode=Rh;Y.Suspense=Oh;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Mh;Y.act=Hd;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Fd({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=pu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Md.call(t,c)&&!Vd.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var p=0;p<c;p++)u[p]=arguments[p+2];r.children=u}return{$$typeof:ja,type:e.type,key:s,ref:l,props:r,_owner:i}};Y.createContext=function(e){return e={$$typeof:Lh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ah,_context:e},e.Consumer=e};Y.createElement=Wd;Y.createFactory=function(e){var t=Wd.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Ih,render:e}};Y.isValidElement=hu;Y.lazy=function(e){return{$$typeof:Dh,_payload:{_status:-1,_result:e},_init:Bh}};Y.memo=function(e,t){return{$$typeof:Uh,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=xl.transition;xl.transition={};try{e()}finally{xl.transition=t}};Y.unstable_act=Hd;Y.useCallback=function(e,t){return ze.current.useCallback(e,t)};Y.useContext=function(e){return ze.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return ze.current.useDeferredValue(e)};Y.useEffect=function(e,t){return ze.current.useEffect(e,t)};Y.useId=function(){return ze.current.useId()};Y.useImperativeHandle=function(e,t,n){return ze.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return ze.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return ze.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return ze.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return ze.current.useReducer(e,t,n)};Y.useRef=function(e){return ze.current.useRef(e)};Y.useState=function(e){return ze.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return ze.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return ze.current.useTransition()};Y.version="18.3.1";Dd.exports=Y;var f=Dd.exports;const Qd=Ch(f),Vh=Eh({__proto__:null,default:Qd},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=f,Hh=Symbol.for("react.element"),Qh=Symbol.for("react.fragment"),qh=Object.prototype.hasOwnProperty,Kh=Wh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Gh={key:!0,ref:!0,__self:!0,__source:!0};function qd(e,t,n){var r,s={},l=null,i=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)qh.call(t,r)&&!Gh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Hh,type:e,key:l,ref:i,props:s,_owner:Kh.current}}ri.Fragment=Qh;ri.jsx=qd;ri.jsxs=qd;Ud.exports=ri;var a=Ud.exports,Kd={exports:{}},nt={},Gd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(z,j){var M=z.length;z.push(j);e:for(;0<M;){var Q=M-1>>>1,J=z[Q];if(0<s(J,j))z[Q]=j,z[M]=J,M=Q;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var j=z[0],M=z.pop();if(M!==j){z[0]=M;e:for(var Q=0,J=z.length,ne=J>>>1;Q<ne;){var Se=2*(Q+1)-1,Me=z[Se],Ae=Se+1,je=z[Ae];if(0>s(Me,M))Ae<J&&0>s(je,Me)?(z[Q]=je,z[Ae]=M,Q=Ae):(z[Q]=Me,z[Se]=M,Q=Se);else if(Ae<J&&0>s(je,M))z[Q]=je,z[Ae]=M,Q=Ae;else break e}}return j}function s(z,j){var M=z.sortIndex-j.sortIndex;return M!==0?M:z.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var c=[],p=[],x=1,w=null,N=3,C=!1,P=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(z){for(var j=n(p);j!==null;){if(j.callback===null)r(p);else if(j.startTime<=z)r(p),j.sortIndex=j.expirationTime,t(c,j);else break;j=n(p)}}function E(z){if(_=!1,y(z),!P)if(n(c)!==null)P=!0,ge(R);else{var j=n(p);j!==null&&Ye(E,j.startTime-z)}}function R(z,j){P=!1,_&&(_=!1,v(B),B=-1),C=!0;var M=N;try{for(y(j),w=n(c);w!==null&&(!(w.expirationTime>j)||z&&!q());){var Q=w.callback;if(typeof Q=="function"){w.callback=null,N=w.priorityLevel;var J=Q(w.expirationTime<=j);j=e.unstable_now(),typeof J=="function"?w.callback=J:w===n(c)&&r(c),y(j)}else r(c);w=n(c)}if(w!==null)var ne=!0;else{var Se=n(p);Se!==null&&Ye(E,Se.startTime-j),ne=!1}return ne}finally{w=null,N=M,C=!1}}var U=!1,$=null,B=-1,A=5,T=-1;function q(){return!(e.unstable_now()-T<A)}function X(){if($!==null){var z=e.unstable_now();T=z;var j=!0;try{j=$(!0,z)}finally{j?D():(U=!1,$=null)}}else U=!1}var D;if(typeof m=="function")D=function(){m(X)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,te=K.port2;K.port1.onmessage=X,D=function(){te.postMessage(null)}}else D=function(){I(X,0)};function ge(z){$=z,U||(U=!0,D())}function Ye(z,j){B=I(function(){z(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){P||C||(P=!0,ge(R))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return N},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(z){switch(N){case 1:case 2:case 3:var j=3;break;default:j=N}var M=N;N=j;try{return z()}finally{N=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,j){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var M=N;N=z;try{return j()}finally{N=M}},e.unstable_scheduleCallback=function(z,j,M){var Q=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Q+M:Q):M=Q,z){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=M+J,z={id:x++,callback:j,priorityLevel:z,startTime:M,expirationTime:J,sortIndex:-1},M>Q?(z.sortIndex=M,t(p,z),n(c)===null&&z===n(p)&&(_?(v(B),B=-1):_=!0,Ye(E,M-Q))):(z.sortIndex=J,t(c,z),P||C||(P=!0,ge(R))),z},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(z){var j=N;return function(){var M=N;N=j;try{return z.apply(this,arguments)}finally{N=M}}}})(Yd);Gd.exports=Yd;var Yh=Gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jh=f,tt=Yh;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Jd=new Set,la={};function cr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(la[e]=t,e=0;e<t.length;e++)Jd.add(t[e])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,Zh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xc={},vc={};function Xh(e){return oo.call(vc,e)?!0:oo.call(xc,e)?!1:Zh.test(e)?vc[e]=!0:(xc[e]=!0,!1)}function em(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tm(e,t,n,r){if(t===null||typeof t>"u"||em(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Be(e,t,n,r,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Te={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Te[e]=new Be(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Te[t]=new Be(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Te[e]=new Be(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Te[e]=new Be(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Te[e]=new Be(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Te[e]=new Be(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Te[e]=new Be(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Te[e]=new Be(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Te[e]=new Be(e,5,!1,e.toLowerCase(),null,!1,!1)});var mu=/[\-:]([a-z])/g;function gu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mu,gu);Te[t]=new Be(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mu,gu);Te[t]=new Be(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mu,gu);Te[t]=new Be(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Te[e]=new Be(e,1,!1,e.toLowerCase(),null,!1,!1)});Te.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Te[e]=new Be(e,1,!1,e.toLowerCase(),null,!0,!0)});function xu(e,t,n,r){var s=Te.hasOwnProperty(t)?Te[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tm(t,n,s,r)&&(n=null),r||s===null?Xh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=Jh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ya=Symbol.for("react.element"),Tr=Symbol.for("react.portal"),Ar=Symbol.for("react.fragment"),vu=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),Zd=Symbol.for("react.provider"),Xd=Symbol.for("react.context"),yu=Symbol.for("react.forward_ref"),co=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),wu=Symbol.for("react.memo"),ln=Symbol.for("react.lazy"),ef=Symbol.for("react.offscreen"),yc=Symbol.iterator;function Os(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var pe=Object.assign,Ri;function Qs(e){if(Ri===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ri=t&&t[1]||""}return`
`+Ri+e}var Ti=!1;function Ai(e,t){if(!e||Ti)return"";Ti=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var r=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){r=p}e.call(t.prototype)}else{try{throw Error()}catch(p){r=p}e()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),l=r.stack.split(`
`),i=s.length-1,u=l.length-1;1<=i&&0<=u&&s[i]!==l[u];)u--;for(;1<=i&&0<=u;i--,u--)if(s[i]!==l[u]){if(i!==1||u!==1)do if(i--,u--,0>u||s[i]!==l[u]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=u);break}}}finally{Ti=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Qs(e):""}function nm(e){switch(e.tag){case 5:return Qs(e.type);case 16:return Qs("Lazy");case 13:return Qs("Suspense");case 19:return Qs("SuspenseList");case 0:case 2:case 15:return e=Ai(e.type,!1),e;case 11:return e=Ai(e.type.render,!1),e;case 1:return e=Ai(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ar:return"Fragment";case Tr:return"Portal";case uo:return"Profiler";case vu:return"StrictMode";case co:return"Suspense";case fo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Xd:return(e.displayName||"Context")+".Consumer";case Zd:return(e._context.displayName||"Context")+".Provider";case yu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wu:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case ln:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function rm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===vu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Sn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function tf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function sm(e){var t=tf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=sm(e))}function nf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=tf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Al(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ho(e,t){var n=t.checked;return pe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Sn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function rf(e,t){t=t.checked,t!=null&&xu(e,"checked",t,!1)}function mo(e,t){rf(e,t);var n=Sn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?go(e,t.type,n):t.hasOwnProperty("defaultValue")&&go(e,t.type,Sn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function go(e,t,n){(t!=="number"||Al(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var qs=Array.isArray;function Vr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Sn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return pe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(qs(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Sn(n)}}function sf(e,t){var n=Sn(t.value),r=Sn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function kc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function af(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?af(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Za,lf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Za=Za||document.createElement("div"),Za.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Za.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ia(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},am=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(e){am.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Js[t]=Js[e]})});function of(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Js.hasOwnProperty(e)&&Js[e]?(""+t).trim():t+"px"}function uf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=of(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var lm=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yo(e,t){if(t){if(lm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bo=null;function bu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,Wr=null,Hr=null;function Sc(e){if(e=_a(e)){if(typeof No!="function")throw Error(O(280));var t=e.stateNode;t&&(t=oi(t),No(e.stateNode,e.type,t))}}function cf(e){Wr?Hr?Hr.push(e):Hr=[e]:Wr=e}function df(){if(Wr){var e=Wr,t=Hr;if(Hr=Wr=null,Sc(e),t)for(e=0;e<t.length;e++)Sc(t[e])}}function ff(e,t){return e(t)}function pf(){}var Li=!1;function hf(e,t,n){if(Li)return e(t,n);Li=!0;try{return ff(e,t,n)}finally{Li=!1,(Wr!==null||Hr!==null)&&(pf(),df())}}function oa(e,t){var n=e.stateNode;if(n===null)return null;var r=oi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var ko=!1;if(Gt)try{var Us={};Object.defineProperty(Us,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Us,Us),window.removeEventListener("test",Us,Us)}catch{ko=!1}function im(e,t,n,r,s,l,i,u,c){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(x){this.onError(x)}}var Zs=!1,Ll=null,Il=!1,So=null,om={onError:function(e){Zs=!0,Ll=e}};function um(e,t,n,r,s,l,i,u,c){Zs=!1,Ll=null,im.apply(om,arguments)}function cm(e,t,n,r,s,l,i,u,c){if(um.apply(this,arguments),Zs){if(Zs){var p=Ll;Zs=!1,Ll=null}else throw Error(O(198));Il||(Il=!0,So=p)}}function dr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function mf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function jc(e){if(dr(e)!==e)throw Error(O(188))}function dm(e){var t=e.alternate;if(!t){if(t=dr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return jc(s),e;if(l===r)return jc(s),t;l=l.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=l;else{for(var i=!1,u=s.child;u;){if(u===n){i=!0,n=s,r=l;break}if(u===r){i=!0,r=s,n=l;break}u=u.sibling}if(!i){for(u=l.child;u;){if(u===n){i=!0,n=l,r=s;break}if(u===r){i=!0,r=l,n=s;break}u=u.sibling}if(!i)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function gf(e){return e=dm(e),e!==null?xf(e):null}function xf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xf(e);if(t!==null)return t;e=e.sibling}return null}var vf=tt.unstable_scheduleCallback,Ec=tt.unstable_cancelCallback,fm=tt.unstable_shouldYield,pm=tt.unstable_requestPaint,xe=tt.unstable_now,hm=tt.unstable_getCurrentPriorityLevel,Nu=tt.unstable_ImmediatePriority,yf=tt.unstable_UserBlockingPriority,Ol=tt.unstable_NormalPriority,mm=tt.unstable_LowPriority,wf=tt.unstable_IdlePriority,si=null,Tt=null;function gm(e){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(si,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:ym,xm=Math.log,vm=Math.LN2;function ym(e){return e>>>=0,e===0?32:31-(xm(e)/vm|0)|0}var Xa=64,el=4194304;function Ks(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ul(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,i=n&268435455;if(i!==0){var u=i&~s;u!==0?r=Ks(u):(l&=i,l!==0&&(r=Ks(l)))}else i=n&~s,i!==0?r=Ks(i):l!==0&&(r=Ks(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wt(t),s=1<<n,r|=e[n],t&=~s;return r}function wm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-wt(l),u=1<<i,c=s[i];c===-1?(!(u&n)||u&r)&&(s[i]=wm(u,t)):c<=t&&(e.expiredLanes|=u),l&=~u}}function jo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function bf(){var e=Xa;return Xa<<=1,!(Xa&4194240)&&(Xa=64),e}function Ii(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function Nm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wt(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function ku(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ae=0;function Nf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kf,Su,Sf,jf,Ef,Eo=!1,tl=[],hn=null,mn=null,gn=null,ua=new Map,ca=new Map,un=[],km="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cc(e,t){switch(e){case"focusin":case"focusout":hn=null;break;case"dragenter":case"dragleave":mn=null;break;case"mouseover":case"mouseout":gn=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ca.delete(t.pointerId)}}function Ds(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=_a(t),t!==null&&Su(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Sm(e,t,n,r,s){switch(t){case"focusin":return hn=Ds(hn,e,t,n,r,s),!0;case"dragenter":return mn=Ds(mn,e,t,n,r,s),!0;case"mouseover":return gn=Ds(gn,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return ua.set(l,Ds(ua.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,ca.set(l,Ds(ca.get(l)||null,e,t,n,r,s)),!0}return!1}function Cf(e){var t=er(e.target);if(t!==null){var n=dr(t);if(n!==null){if(t=n.tag,t===13){if(t=mf(n),t!==null){e.blockedOn=t,Ef(e.priority,function(){Sf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);bo=r,n.target.dispatchEvent(r),bo=null}else return t=_a(n),t!==null&&Su(t),e.blockedOn=n,!1;t.shift()}return!0}function _c(e,t,n){vl(e)&&n.delete(t)}function jm(){Eo=!1,hn!==null&&vl(hn)&&(hn=null),mn!==null&&vl(mn)&&(mn=null),gn!==null&&vl(gn)&&(gn=null),ua.forEach(_c),ca.forEach(_c)}function $s(e,t){e.blockedOn===t&&(e.blockedOn=null,Eo||(Eo=!0,tt.unstable_scheduleCallback(tt.unstable_NormalPriority,jm)))}function da(e){function t(s){return $s(s,e)}if(0<tl.length){$s(tl[0],e);for(var n=1;n<tl.length;n++){var r=tl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(hn!==null&&$s(hn,e),mn!==null&&$s(mn,e),gn!==null&&$s(gn,e),ua.forEach(t),ca.forEach(t),n=0;n<un.length;n++)r=un[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<un.length&&(n=un[0],n.blockedOn===null);)Cf(n),n.blockedOn===null&&un.shift()}var Qr=Xt.ReactCurrentBatchConfig,Dl=!0;function Em(e,t,n,r){var s=ae,l=Qr.transition;Qr.transition=null;try{ae=1,ju(e,t,n,r)}finally{ae=s,Qr.transition=l}}function Cm(e,t,n,r){var s=ae,l=Qr.transition;Qr.transition=null;try{ae=4,ju(e,t,n,r)}finally{ae=s,Qr.transition=l}}function ju(e,t,n,r){if(Dl){var s=Co(e,t,n,r);if(s===null)Wi(e,t,r,$l,n),Cc(e,r);else if(Sm(s,e,t,n,r))r.stopPropagation();else if(Cc(e,r),t&4&&-1<km.indexOf(e)){for(;s!==null;){var l=_a(s);if(l!==null&&kf(l),l=Co(e,t,n,r),l===null&&Wi(e,t,r,$l,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else Wi(e,t,r,null,n)}}var $l=null;function Co(e,t,n,r){if($l=null,e=bu(r),e=er(e),e!==null)if(t=dr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=mf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $l=e,null}function _f(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hm()){case Nu:return 1;case yf:return 4;case Ol:case mm:return 16;case wf:return 536870912;default:return 16}default:return 16}}var dn=null,Eu=null,yl=null;function Pf(){if(yl)return yl;var e,t=Eu,n=t.length,r,s="value"in dn?dn.value:dn.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[l-r];r++);return yl=s.slice(e,1<r?1-r:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nl(){return!0}function Pc(){return!1}function rt(e){function t(n,r,s,l,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?nl:Pc,this.isPropagationStopped=Pc,this}return pe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nl)},persist:function(){},isPersistent:nl}),t}var rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cu=rt(rs),Ca=pe({},rs,{view:0,detail:0}),_m=rt(Ca),Oi,Ui,Fs,ai=pe({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_u,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Fs&&(Fs&&e.type==="mousemove"?(Oi=e.screenX-Fs.screenX,Ui=e.screenY-Fs.screenY):Ui=Oi=0,Fs=e),Oi)},movementY:function(e){return"movementY"in e?e.movementY:Ui}}),Rc=rt(ai),Pm=pe({},ai,{dataTransfer:0}),Rm=rt(Pm),Tm=pe({},Ca,{relatedTarget:0}),Di=rt(Tm),Am=pe({},rs,{animationName:0,elapsedTime:0,pseudoElement:0}),Lm=rt(Am),Im=pe({},rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Om=rt(Im),Um=pe({},rs,{data:0}),Tc=rt(Um),Dm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$m={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Fm[e])?!!t[e]:!1}function _u(){return zm}var Bm=pe({},Ca,{key:function(e){if(e.key){var t=Dm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?$m[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_u,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Mm=rt(Bm),Vm=pe({},ai,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=rt(Vm),Wm=pe({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_u}),Hm=rt(Wm),Qm=pe({},rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),qm=rt(Qm),Km=pe({},ai,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Gm=rt(Km),Ym=[9,13,27,32],Pu=Gt&&"CompositionEvent"in window,Xs=null;Gt&&"documentMode"in document&&(Xs=document.documentMode);var Jm=Gt&&"TextEvent"in window&&!Xs,Rf=Gt&&(!Pu||Xs&&8<Xs&&11>=Xs),Lc=" ",Ic=!1;function Tf(e,t){switch(e){case"keyup":return Ym.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Af(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Lr=!1;function Zm(e,t){switch(e){case"compositionend":return Af(t);case"keypress":return t.which!==32?null:(Ic=!0,Lc);case"textInput":return e=t.data,e===Lc&&Ic?null:e;default:return null}}function Xm(e,t){if(Lr)return e==="compositionend"||!Pu&&Tf(e,t)?(e=Pf(),yl=Eu=dn=null,Lr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Rf&&t.locale!=="ko"?null:t.data;default:return null}}var e0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!e0[e.type]:t==="textarea"}function Lf(e,t,n,r){cf(r),t=Fl(t,"onChange"),0<t.length&&(n=new Cu("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ea=null,fa=null;function t0(e){Wf(e,0)}function li(e){var t=Ur(e);if(nf(t))return e}function n0(e,t){if(e==="change")return t}var If=!1;if(Gt){var $i;if(Gt){var Fi="oninput"in document;if(!Fi){var Uc=document.createElement("div");Uc.setAttribute("oninput","return;"),Fi=typeof Uc.oninput=="function"}$i=Fi}else $i=!1;If=$i&&(!document.documentMode||9<document.documentMode)}function Dc(){ea&&(ea.detachEvent("onpropertychange",Of),fa=ea=null)}function Of(e){if(e.propertyName==="value"&&li(fa)){var t=[];Lf(t,fa,e,bu(e)),hf(t0,t)}}function r0(e,t,n){e==="focusin"?(Dc(),ea=t,fa=n,ea.attachEvent("onpropertychange",Of)):e==="focusout"&&Dc()}function s0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(fa)}function a0(e,t){if(e==="click")return li(t)}function l0(e,t){if(e==="input"||e==="change")return li(t)}function i0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:i0;function pa(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oo.call(t,s)||!Nt(e[s],t[s]))return!1}return!0}function $c(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fc(e,t){var n=$c(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$c(n)}}function Uf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Uf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Df(){for(var e=window,t=Al();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Al(e.document)}return t}function Ru(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function o0(e){var t=Df(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Uf(n.ownerDocument.documentElement,n)){if(r!==null&&Ru(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=Fc(n,l);var i=Fc(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var u0=Gt&&"documentMode"in document&&11>=document.documentMode,Ir=null,_o=null,ta=null,Po=!1;function zc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Po||Ir==null||Ir!==Al(r)||(r=Ir,"selectionStart"in r&&Ru(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&pa(ta,r)||(ta=r,r=Fl(_o,"onSelect"),0<r.length&&(t=new Cu("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ir)))}function rl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Or={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionend:rl("Transition","TransitionEnd")},zi={},$f={};Gt&&($f=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function ii(e){if(zi[e])return zi[e];if(!Or[e])return e;var t=Or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $f)return zi[e]=t[n];return e}var Ff=ii("animationend"),zf=ii("animationiteration"),Bf=ii("animationstart"),Mf=ii("transitionend"),Vf=new Map,Bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function En(e,t){Vf.set(e,t),cr(t,[e])}for(var Bi=0;Bi<Bc.length;Bi++){var Mi=Bc[Bi],c0=Mi.toLowerCase(),d0=Mi[0].toUpperCase()+Mi.slice(1);En(c0,"on"+d0)}En(Ff,"onAnimationEnd");En(zf,"onAnimationIteration");En(Bf,"onAnimationStart");En("dblclick","onDoubleClick");En("focusin","onFocus");En("focusout","onBlur");En(Mf,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Gs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Gs));function Mc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,cm(r,t,void 0,e),e.currentTarget=null}function Wf(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var i=r.length-1;0<=i;i--){var u=r[i],c=u.instance,p=u.currentTarget;if(u=u.listener,c!==l&&s.isPropagationStopped())break e;Mc(s,u,p),l=c}else for(i=0;i<r.length;i++){if(u=r[i],c=u.instance,p=u.currentTarget,u=u.listener,c!==l&&s.isPropagationStopped())break e;Mc(s,u,p),l=c}}}if(Il)throw e=So,Il=!1,So=null,e}function ie(e,t){var n=t[Io];n===void 0&&(n=t[Io]=new Set);var r=e+"__bubble";n.has(r)||(Hf(t,e,2,!1),n.add(r))}function Vi(e,t,n){var r=0;t&&(r|=4),Hf(n,e,r,t)}var sl="_reactListening"+Math.random().toString(36).slice(2);function ha(e){if(!e[sl]){e[sl]=!0,Jd.forEach(function(n){n!=="selectionchange"&&(f0.has(n)||Vi(n,!1,e),Vi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[sl]||(t[sl]=!0,Vi("selectionchange",!1,t))}}function Hf(e,t,n,r){switch(_f(t)){case 1:var s=Em;break;case 4:s=Cm;break;default:s=ju}n=s.bind(null,t,n,e),s=void 0,!ko||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Wi(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;u!==null;){if(i=er(u),i===null)return;if(c=i.tag,c===5||c===6){r=l=i;continue e}u=u.parentNode}}r=r.return}hf(function(){var p=l,x=bu(n),w=[];e:{var N=Vf.get(e);if(N!==void 0){var C=Cu,P=e;switch(e){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":C=Mm;break;case"focusin":P="focus",C=Di;break;case"focusout":P="blur",C=Di;break;case"beforeblur":case"afterblur":C=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":C=Rc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":C=Rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":C=Hm;break;case Ff:case zf:case Bf:C=Lm;break;case Mf:C=qm;break;case"scroll":C=_m;break;case"wheel":C=Gm;break;case"copy":case"cut":case"paste":C=Om;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":C=Ac}var _=(t&4)!==0,I=!_&&e==="scroll",v=_?N!==null?N+"Capture":null:N;_=[];for(var m=p,y;m!==null;){y=m;var E=y.stateNode;if(y.tag===5&&E!==null&&(y=E,v!==null&&(E=oa(m,v),E!=null&&_.push(ma(m,E,y)))),I)break;m=m.return}0<_.length&&(N=new C(N,P,null,n,x),w.push({event:N,listeners:_}))}}if(!(t&7)){e:{if(N=e==="mouseover"||e==="pointerover",C=e==="mouseout"||e==="pointerout",N&&n!==bo&&(P=n.relatedTarget||n.fromElement)&&(er(P)||P[Yt]))break e;if((C||N)&&(N=x.window===x?x:(N=x.ownerDocument)?N.defaultView||N.parentWindow:window,C?(P=n.relatedTarget||n.toElement,C=p,P=P?er(P):null,P!==null&&(I=dr(P),P!==I||P.tag!==5&&P.tag!==6)&&(P=null)):(C=null,P=p),C!==P)){if(_=Rc,E="onMouseLeave",v="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(_=Ac,E="onPointerLeave",v="onPointerEnter",m="pointer"),I=C==null?N:Ur(C),y=P==null?N:Ur(P),N=new _(E,m+"leave",C,n,x),N.target=I,N.relatedTarget=y,E=null,er(x)===p&&(_=new _(v,m+"enter",P,n,x),_.target=y,_.relatedTarget=I,E=_),I=E,C&&P)t:{for(_=C,v=P,m=0,y=_;y;y=Pr(y))m++;for(y=0,E=v;E;E=Pr(E))y++;for(;0<m-y;)_=Pr(_),m--;for(;0<y-m;)v=Pr(v),y--;for(;m--;){if(_===v||v!==null&&_===v.alternate)break t;_=Pr(_),v=Pr(v)}_=null}else _=null;C!==null&&Vc(w,N,C,_,!1),P!==null&&I!==null&&Vc(w,I,P,_,!0)}}e:{if(N=p?Ur(p):window,C=N.nodeName&&N.nodeName.toLowerCase(),C==="select"||C==="input"&&N.type==="file")var R=n0;else if(Oc(N))if(If)R=l0;else{R=s0;var U=r0}else(C=N.nodeName)&&C.toLowerCase()==="input"&&(N.type==="checkbox"||N.type==="radio")&&(R=a0);if(R&&(R=R(e,p))){Lf(w,R,n,x);break e}U&&U(e,N,p),e==="focusout"&&(U=N._wrapperState)&&U.controlled&&N.type==="number"&&go(N,"number",N.value)}switch(U=p?Ur(p):window,e){case"focusin":(Oc(U)||U.contentEditable==="true")&&(Ir=U,_o=p,ta=null);break;case"focusout":ta=_o=Ir=null;break;case"mousedown":Po=!0;break;case"contextmenu":case"mouseup":case"dragend":Po=!1,zc(w,n,x);break;case"selectionchange":if(u0)break;case"keydown":case"keyup":zc(w,n,x)}var $;if(Pu)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Lr?Tf(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Rf&&n.locale!=="ko"&&(Lr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Lr&&($=Pf()):(dn=x,Eu="value"in dn?dn.value:dn.textContent,Lr=!0)),U=Fl(p,B),0<U.length&&(B=new Tc(B,e,null,n,x),w.push({event:B,listeners:U}),$?B.data=$:($=Af(n),$!==null&&(B.data=$)))),($=Jm?Zm(e,n):Xm(e,n))&&(p=Fl(p,"onBeforeInput"),0<p.length&&(x=new Tc("onBeforeInput","beforeinput",null,n,x),w.push({event:x,listeners:p}),x.data=$))}Wf(w,t)})}function ma(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Fl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=oa(e,n),l!=null&&r.unshift(ma(e,l,s)),l=oa(e,t),l!=null&&r.push(ma(e,l,s))),e=e.return}return r}function Pr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Vc(e,t,n,r,s){for(var l=t._reactName,i=[];n!==null&&n!==r;){var u=n,c=u.alternate,p=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&p!==null&&(u=p,s?(c=oa(n,l),c!=null&&i.unshift(ma(n,c,u))):s||(c=oa(n,l),c!=null&&i.push(ma(n,c,u)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var p0=/\r\n?/g,h0=/\u0000|\uFFFD/g;function Wc(e){return(typeof e=="string"?e:""+e).replace(p0,`
`).replace(h0,"")}function al(e,t,n){if(t=Wc(t),Wc(e)!==t&&n)throw Error(O(425))}function zl(){}var Ro=null,To=null;function Ao(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Lo=typeof setTimeout=="function"?setTimeout:void 0,m0=typeof clearTimeout=="function"?clearTimeout:void 0,Hc=typeof Promise=="function"?Promise:void 0,g0=typeof queueMicrotask=="function"?queueMicrotask:typeof Hc<"u"?function(e){return Hc.resolve(null).then(e).catch(x0)}:Lo;function x0(e){setTimeout(function(){throw e})}function Hi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);da(t)}function xn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Qc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ss=Math.random().toString(36).slice(2),Rt="__reactFiber$"+ss,ga="__reactProps$"+ss,Yt="__reactContainer$"+ss,Io="__reactEvents$"+ss,v0="__reactListeners$"+ss,y0="__reactHandles$"+ss;function er(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yt]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Qc(e);e!==null;){if(n=e[Rt])return n;e=Qc(e)}return t}e=n,n=e.parentNode}return null}function _a(e){return e=e[Rt]||e[Yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ur(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function oi(e){return e[ga]||null}var Oo=[],Dr=-1;function Cn(e){return{current:e}}function oe(e){0>Dr||(e.current=Oo[Dr],Oo[Dr]=null,Dr--)}function le(e,t){Dr++,Oo[Dr]=e.current,e.current=t}var jn={},Ue=Cn(jn),qe=Cn(!1),ar=jn;function Yr(e,t){var n=e.type.contextTypes;if(!n)return jn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ke(e){return e=e.childContextTypes,e!=null}function Bl(){oe(qe),oe(Ue)}function qc(e,t,n){if(Ue.current!==jn)throw Error(O(168));le(Ue,t),le(qe,n)}function Qf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,rm(e)||"Unknown",s));return pe({},n,r)}function Ml(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||jn,ar=Ue.current,le(Ue,e),le(qe,qe.current),!0}function Kc(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Qf(e,t,ar),r.__reactInternalMemoizedMergedChildContext=e,oe(qe),oe(Ue),le(Ue,e)):oe(qe),le(qe,n)}var Ht=null,ui=!1,Qi=!1;function qf(e){Ht===null?Ht=[e]:Ht.push(e)}function w0(e){ui=!0,qf(e)}function _n(){if(!Qi&&Ht!==null){Qi=!0;var e=0,t=ae;try{var n=Ht;for(ae=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ht=null,ui=!1}catch(s){throw Ht!==null&&(Ht=Ht.slice(e+1)),vf(Nu,_n),s}finally{ae=t,Qi=!1}}return null}var $r=[],Fr=0,Vl=null,Wl=0,lt=[],it=0,lr=null,Qt=1,qt="";function Jn(e,t){$r[Fr++]=Wl,$r[Fr++]=Vl,Vl=e,Wl=t}function Kf(e,t,n){lt[it++]=Qt,lt[it++]=qt,lt[it++]=lr,lr=e;var r=Qt;e=qt;var s=32-wt(r)-1;r&=~(1<<s),n+=1;var l=32-wt(t)+s;if(30<l){var i=s-s%5;l=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Qt=1<<32-wt(t)+s|n<<s|r,qt=l+e}else Qt=1<<l|n<<s|r,qt=e}function Tu(e){e.return!==null&&(Jn(e,1),Kf(e,1,0))}function Au(e){for(;e===Vl;)Vl=$r[--Fr],$r[Fr]=null,Wl=$r[--Fr],$r[Fr]=null;for(;e===lr;)lr=lt[--it],lt[it]=null,qt=lt[--it],lt[it]=null,Qt=lt[--it],lt[it]=null}var et=null,Xe=null,ue=!1,yt=null;function Gf(e,t){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,et=e,Xe=xn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,et=e,Xe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=lr!==null?{id:Qt,overflow:qt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,et=e,Xe=null,!0):!1;default:return!1}}function Uo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Do(e){if(ue){var t=Xe;if(t){var n=t;if(!Gc(e,t)){if(Uo(e))throw Error(O(418));t=xn(n.nextSibling);var r=et;t&&Gc(e,t)?Gf(r,n):(e.flags=e.flags&-4097|2,ue=!1,et=e)}}else{if(Uo(e))throw Error(O(418));e.flags=e.flags&-4097|2,ue=!1,et=e}}}function Yc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;et=e}function ll(e){if(e!==et)return!1;if(!ue)return Yc(e),ue=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ao(e.type,e.memoizedProps)),t&&(t=Xe)){if(Uo(e))throw Yf(),Error(O(418));for(;t;)Gf(e,t),t=xn(t.nextSibling)}if(Yc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Xe=xn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Xe=null}}else Xe=et?xn(e.stateNode.nextSibling):null;return!0}function Yf(){for(var e=Xe;e;)e=xn(e.nextSibling)}function Jr(){Xe=et=null,ue=!1}function Lu(e){yt===null?yt=[e]:yt.push(e)}var b0=Xt.ReactCurrentBatchConfig;function zs(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var u=s.refs;i===null?delete u[l]:u[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function il(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jc(e){var t=e._init;return t(e._payload)}function Jf(e){function t(v,m){if(e){var y=v.deletions;y===null?(v.deletions=[m],v.flags|=16):y.push(m)}}function n(v,m){if(!e)return null;for(;m!==null;)t(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function s(v,m){return v=bn(v,m),v.index=0,v.sibling=null,v}function l(v,m,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<m?(v.flags|=2,m):y):(v.flags|=2,m)):(v.flags|=1048576,m)}function i(v){return e&&v.alternate===null&&(v.flags|=2),v}function u(v,m,y,E){return m===null||m.tag!==6?(m=Xi(y,v.mode,E),m.return=v,m):(m=s(m,y),m.return=v,m)}function c(v,m,y,E){var R=y.type;return R===Ar?x(v,m,y.props.children,E,y.key):m!==null&&(m.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ln&&Jc(R)===m.type)?(E=s(m,y.props),E.ref=zs(v,m,y),E.return=v,E):(E=Cl(y.type,y.key,y.props,null,v.mode,E),E.ref=zs(v,m,y),E.return=v,E)}function p(v,m,y,E){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=eo(y,v.mode,E),m.return=v,m):(m=s(m,y.children||[]),m.return=v,m)}function x(v,m,y,E,R){return m===null||m.tag!==7?(m=sr(y,v.mode,E,R),m.return=v,m):(m=s(m,y),m.return=v,m)}function w(v,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Xi(""+m,v.mode,y),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ya:return y=Cl(m.type,m.key,m.props,null,v.mode,y),y.ref=zs(v,null,m),y.return=v,y;case Tr:return m=eo(m,v.mode,y),m.return=v,m;case ln:var E=m._init;return w(v,E(m._payload),y)}if(qs(m)||Os(m))return m=sr(m,v.mode,y,null),m.return=v,m;il(v,m)}return null}function N(v,m,y,E){var R=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return R!==null?null:u(v,m,""+y,E);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ya:return y.key===R?c(v,m,y,E):null;case Tr:return y.key===R?p(v,m,y,E):null;case ln:return R=y._init,N(v,m,R(y._payload),E)}if(qs(y)||Os(y))return R!==null?null:x(v,m,y,E,null);il(v,y)}return null}function C(v,m,y,E,R){if(typeof E=="string"&&E!==""||typeof E=="number")return v=v.get(y)||null,u(m,v,""+E,R);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ya:return v=v.get(E.key===null?y:E.key)||null,c(m,v,E,R);case Tr:return v=v.get(E.key===null?y:E.key)||null,p(m,v,E,R);case ln:var U=E._init;return C(v,m,y,U(E._payload),R)}if(qs(E)||Os(E))return v=v.get(y)||null,x(m,v,E,R,null);il(m,E)}return null}function P(v,m,y,E){for(var R=null,U=null,$=m,B=m=0,A=null;$!==null&&B<y.length;B++){$.index>B?(A=$,$=null):A=$.sibling;var T=N(v,$,y[B],E);if(T===null){$===null&&($=A);break}e&&$&&T.alternate===null&&t(v,$),m=l(T,m,B),U===null?R=T:U.sibling=T,U=T,$=A}if(B===y.length)return n(v,$),ue&&Jn(v,B),R;if($===null){for(;B<y.length;B++)$=w(v,y[B],E),$!==null&&(m=l($,m,B),U===null?R=$:U.sibling=$,U=$);return ue&&Jn(v,B),R}for($=r(v,$);B<y.length;B++)A=C($,v,B,y[B],E),A!==null&&(e&&A.alternate!==null&&$.delete(A.key===null?B:A.key),m=l(A,m,B),U===null?R=A:U.sibling=A,U=A);return e&&$.forEach(function(q){return t(v,q)}),ue&&Jn(v,B),R}function _(v,m,y,E){var R=Os(y);if(typeof R!="function")throw Error(O(150));if(y=R.call(y),y==null)throw Error(O(151));for(var U=R=null,$=m,B=m=0,A=null,T=y.next();$!==null&&!T.done;B++,T=y.next()){$.index>B?(A=$,$=null):A=$.sibling;var q=N(v,$,T.value,E);if(q===null){$===null&&($=A);break}e&&$&&q.alternate===null&&t(v,$),m=l(q,m,B),U===null?R=q:U.sibling=q,U=q,$=A}if(T.done)return n(v,$),ue&&Jn(v,B),R;if($===null){for(;!T.done;B++,T=y.next())T=w(v,T.value,E),T!==null&&(m=l(T,m,B),U===null?R=T:U.sibling=T,U=T);return ue&&Jn(v,B),R}for($=r(v,$);!T.done;B++,T=y.next())T=C($,v,B,T.value,E),T!==null&&(e&&T.alternate!==null&&$.delete(T.key===null?B:T.key),m=l(T,m,B),U===null?R=T:U.sibling=T,U=T);return e&&$.forEach(function(X){return t(v,X)}),ue&&Jn(v,B),R}function I(v,m,y,E){if(typeof y=="object"&&y!==null&&y.type===Ar&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ya:e:{for(var R=y.key,U=m;U!==null;){if(U.key===R){if(R=y.type,R===Ar){if(U.tag===7){n(v,U.sibling),m=s(U,y.props.children),m.return=v,v=m;break e}}else if(U.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ln&&Jc(R)===U.type){n(v,U.sibling),m=s(U,y.props),m.ref=zs(v,U,y),m.return=v,v=m;break e}n(v,U);break}else t(v,U);U=U.sibling}y.type===Ar?(m=sr(y.props.children,v.mode,E,y.key),m.return=v,v=m):(E=Cl(y.type,y.key,y.props,null,v.mode,E),E.ref=zs(v,m,y),E.return=v,v=E)}return i(v);case Tr:e:{for(U=y.key;m!==null;){if(m.key===U)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(v,m.sibling),m=s(m,y.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else t(v,m);m=m.sibling}m=eo(y,v.mode,E),m.return=v,v=m}return i(v);case ln:return U=y._init,I(v,m,U(y._payload),E)}if(qs(y))return P(v,m,y,E);if(Os(y))return _(v,m,y,E);il(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(v,m.sibling),m=s(m,y),m.return=v,v=m):(n(v,m),m=Xi(y,v.mode,E),m.return=v,v=m),i(v)):n(v,m)}return I}var Zr=Jf(!0),Zf=Jf(!1),Hl=Cn(null),Ql=null,zr=null,Iu=null;function Ou(){Iu=zr=Ql=null}function Uu(e){var t=Hl.current;oe(Hl),e._currentValue=t}function $o(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function qr(e,t){Ql=e,Iu=zr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Qe=!0),e.firstContext=null)}function dt(e){var t=e._currentValue;if(Iu!==e)if(e={context:e,memoizedValue:t,next:null},zr===null){if(Ql===null)throw Error(O(308));zr=e,Ql.dependencies={lanes:0,firstContext:e}}else zr=zr.next=e;return t}var tr=null;function Du(e){tr===null?tr=[e]:tr.push(e)}function Xf(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Du(t)):(n.next=s.next,s.next=n),t.interleaved=n,Jt(e,r)}function Jt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var on=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ep(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function vn(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,re&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Jt(e,n)}return s=r.interleaved,s===null?(t.next=t,Du(r)):(t.next=s.next,s.next=t),r.interleaved=t,Jt(e,n)}function bl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ku(e,n)}}function Zc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=i:l=l.next=i,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ql(e,t,n,r){var s=e.updateQueue;on=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,p=c.next;c.next=null,i===null?l=p:i.next=p,i=c;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==i&&(u===null?x.firstBaseUpdate=p:u.next=p,x.lastBaseUpdate=c))}if(l!==null){var w=s.baseState;i=0,x=p=c=null,u=l;do{var N=u.lane,C=u.eventTime;if((r&N)===N){x!==null&&(x=x.next={eventTime:C,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var P=e,_=u;switch(N=t,C=n,_.tag){case 1:if(P=_.payload,typeof P=="function"){w=P.call(C,w,N);break e}w=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=_.payload,N=typeof P=="function"?P.call(C,w,N):P,N==null)break e;w=pe({},w,N);break e;case 2:on=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,N=s.effects,N===null?s.effects=[u]:N.push(u))}else C={eventTime:C,lane:N,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(p=x=C,c=w):x=x.next=C,i|=N;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;N=u,u=N.next,N.next=null,s.lastBaseUpdate=N,s.shared.pending=null}}while(!0);if(x===null&&(c=w),s.baseState=c,s.firstBaseUpdate=p,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);or|=i,e.lanes=i,e.memoizedState=w}}function Xc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var Pa={},At=Cn(Pa),xa=Cn(Pa),va=Cn(Pa);function nr(e){if(e===Pa)throw Error(O(174));return e}function Fu(e,t){switch(le(va,t),le(xa,e),le(At,Pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=vo(t,e)}oe(At),le(At,t)}function Xr(){oe(At),oe(xa),oe(va)}function tp(e){nr(va.current);var t=nr(At.current),n=vo(t,e.type);t!==n&&(le(xa,e),le(At,n))}function zu(e){xa.current===e&&(oe(At),oe(xa))}var de=Cn(0);function Kl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qi=[];function Bu(){for(var e=0;e<qi.length;e++)qi[e]._workInProgressVersionPrimary=null;qi.length=0}var Nl=Xt.ReactCurrentDispatcher,Ki=Xt.ReactCurrentBatchConfig,ir=0,fe=null,Ne=null,Ce=null,Gl=!1,na=!1,ya=0,N0=0;function Le(){throw Error(O(321))}function Mu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function Vu(e,t,n,r,s,l){if(ir=l,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Nl.current=e===null||e.memoizedState===null?E0:C0,e=n(r,s),na){l=0;do{if(na=!1,ya=0,25<=l)throw Error(O(301));l+=1,Ce=Ne=null,t.updateQueue=null,Nl.current=_0,e=n(r,s)}while(na)}if(Nl.current=Yl,t=Ne!==null&&Ne.next!==null,ir=0,Ce=Ne=fe=null,Gl=!1,t)throw Error(O(300));return e}function Wu(){var e=ya!==0;return ya=0,e}function Ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?fe.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ft(){if(Ne===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ce===null?fe.memoizedState:Ce.next;if(t!==null)Ce=t,Ne=e;else{if(e===null)throw Error(O(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ce===null?fe.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function wa(e,t){return typeof t=="function"?t(e):t}function Gi(e){var t=ft(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Ne,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var u=i=null,c=null,p=l;do{var x=p.lane;if((ir&x)===x)c!==null&&(c=c.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:e(r,p.action);else{var w={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};c===null?(u=c=w,i=r):c=c.next=w,fe.lanes|=x,or|=x}p=p.next}while(p!==null&&p!==l);c===null?i=r:c.next=u,Nt(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,fe.lanes|=l,or|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Yi(e){var t=ft(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);Nt(l,t.memoizedState)||(Qe=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function np(){}function rp(e,t){var n=fe,r=ft(),s=t(),l=!Nt(r.memoizedState,s);if(l&&(r.memoizedState=s,Qe=!0),r=r.queue,Hu(lp.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||Ce!==null&&Ce.memoizedState.tag&1){if(n.flags|=2048,ba(9,ap.bind(null,n,r,s,t),void 0,null),_e===null)throw Error(O(349));ir&30||sp(n,t,s)}return s}function sp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ap(e,t,n,r){t.value=n,t.getSnapshot=r,ip(t)&&op(e)}function lp(e,t,n){return n(function(){ip(t)&&op(e)})}function ip(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function op(e){var t=Jt(e,1);t!==null&&bt(t,e,1,-1)}function ed(e){var t=Ct();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=j0.bind(null,fe,e),[t.memoizedState,e]}function ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=fe.updateQueue,t===null?(t={lastEffect:null,stores:null},fe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function up(){return ft().memoizedState}function kl(e,t,n,r){var s=Ct();fe.flags|=e,s.memoizedState=ba(1|t,n,void 0,r===void 0?null:r)}function ci(e,t,n,r){var s=ft();r=r===void 0?null:r;var l=void 0;if(Ne!==null){var i=Ne.memoizedState;if(l=i.destroy,r!==null&&Mu(r,i.deps)){s.memoizedState=ba(t,n,l,r);return}}fe.flags|=e,s.memoizedState=ba(1|t,n,l,r)}function td(e,t){return kl(8390656,8,e,t)}function Hu(e,t){return ci(2048,8,e,t)}function cp(e,t){return ci(4,2,e,t)}function dp(e,t){return ci(4,4,e,t)}function fp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function pp(e,t,n){return n=n!=null?n.concat([e]):null,ci(4,4,fp.bind(null,t,e),n)}function Qu(){}function hp(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function mp(e,t){var n=ft();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Mu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function gp(e,t,n){return ir&21?(Nt(n,t)||(n=bf(),fe.lanes|=n,or|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Qe=!0),e.memoizedState=n)}function k0(e,t){var n=ae;ae=n!==0&&4>n?n:4,e(!0);var r=Ki.transition;Ki.transition={};try{e(!1),t()}finally{ae=n,Ki.transition=r}}function xp(){return ft().memoizedState}function S0(e,t,n){var r=wn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vp(e))yp(t,n);else if(n=Xf(e,t,n,r),n!==null){var s=Fe();bt(n,e,r,s),wp(n,t,r)}}function j0(e,t,n){var r=wn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vp(e))yp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,u=l(i,n);if(s.hasEagerState=!0,s.eagerState=u,Nt(u,i)){var c=t.interleaved;c===null?(s.next=s,Du(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=Xf(e,t,s,r),n!==null&&(s=Fe(),bt(n,e,r,s),wp(n,t,r))}}function vp(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function yp(e,t){na=Gl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ku(e,n)}}var Yl={readContext:dt,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},E0={readContext:dt,useCallback:function(e,t){return Ct().memoizedState=[e,t===void 0?null:t],e},useContext:dt,useEffect:td,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,kl(4194308,4,fp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return kl(4194308,4,e,t)},useInsertionEffect:function(e,t){return kl(4,2,e,t)},useMemo:function(e,t){var n=Ct();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ct();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=S0.bind(null,fe,e),[r.memoizedState,e]},useRef:function(e){var t=Ct();return e={current:e},t.memoizedState=e},useState:ed,useDebugValue:Qu,useDeferredValue:function(e){return Ct().memoizedState=e},useTransition:function(){var e=ed(!1),t=e[0];return e=k0.bind(null,e[1]),Ct().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fe,s=Ct();if(ue){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),_e===null)throw Error(O(349));ir&30||sp(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,td(lp.bind(null,r,l,e),[e]),r.flags|=2048,ba(9,ap.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Ct(),t=_e.identifierPrefix;if(ue){var n=qt,r=Qt;n=(r&~(1<<32-wt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ya++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=N0++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},C0={readContext:dt,useCallback:hp,useContext:dt,useEffect:Hu,useImperativeHandle:pp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:Gi,useRef:up,useState:function(){return Gi(wa)},useDebugValue:Qu,useDeferredValue:function(e){var t=ft();return gp(t,Ne.memoizedState,e)},useTransition:function(){var e=Gi(wa)[0],t=ft().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:rp,useId:xp,unstable_isNewReconciler:!1},_0={readContext:dt,useCallback:hp,useContext:dt,useEffect:Hu,useImperativeHandle:pp,useInsertionEffect:cp,useLayoutEffect:dp,useMemo:mp,useReducer:Yi,useRef:up,useState:function(){return Yi(wa)},useDebugValue:Qu,useDeferredValue:function(e){var t=ft();return Ne===null?t.memoizedState=e:gp(t,Ne.memoizedState,e)},useTransition:function(){var e=Yi(wa)[0],t=ft().memoizedState;return[e,t]},useMutableSource:np,useSyncExternalStore:rp,useId:xp,unstable_isNewReconciler:!1};function gt(e,t){if(e&&e.defaultProps){t=pe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Fo(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:pe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var di={isMounted:function(e){return(e=e._reactInternals)?dr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=wn(e),l=Kt(r,s);l.payload=t,n!=null&&(l.callback=n),t=vn(e,l,s),t!==null&&(bt(t,e,s,r),bl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Fe(),s=wn(e),l=Kt(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=vn(e,l,s),t!==null&&(bt(t,e,s,r),bl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Fe(),r=wn(e),s=Kt(n,r);s.tag=2,t!=null&&(s.callback=t),t=vn(e,s,r),t!==null&&(bt(t,e,r,n),bl(t,e,r))}};function nd(e,t,n,r,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,i):t.prototype&&t.prototype.isPureReactComponent?!pa(n,r)||!pa(s,l):!0}function bp(e,t,n){var r=!1,s=jn,l=t.contextType;return typeof l=="object"&&l!==null?l=dt(l):(s=Ke(t)?ar:Ue.current,r=t.contextTypes,l=(r=r!=null)?Yr(e,s):jn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function rd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&di.enqueueReplaceState(t,t.state,null)}function zo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},$u(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=dt(l):(l=Ke(t)?ar:Ue.current,s.context=Yr(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(Fo(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&di.enqueueReplaceState(s,s.state,null),ql(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function es(e,t){try{var n="",r=t;do n+=nm(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ji(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Bo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var P0=typeof WeakMap=="function"?WeakMap:Map;function Np(e,t,n){n=Kt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zl||(Zl=!0,Jo=r),Bo(e,t)},n}function kp(e,t,n){n=Kt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Bo(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){Bo(e,t),typeof r!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function sd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new P0;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=V0.bind(null,e,t,n),t.then(e,e))}function ad(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function ld(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Kt(-1,1),t.tag=2,vn(n,t,1))),n.lanes|=1),e)}var R0=Xt.ReactCurrentOwner,Qe=!1;function $e(e,t,n,r){t.child=e===null?Zf(t,null,n,r):Zr(t,e.child,n,r)}function id(e,t,n,r,s){n=n.render;var l=t.ref;return qr(t,s),r=Vu(e,t,n,r,l,s),n=Wu(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(ue&&n&&Tu(t),t.flags|=1,$e(e,t,r,s),t.child)}function od(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!ec(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,Sp(e,t,l,r,s)):(e=Cl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(n=n.compare,n=n!==null?n:pa,n(i,r)&&e.ref===t.ref)return Zt(e,t,s)}return t.flags|=1,e=bn(l,r),e.ref=t.ref,e.return=t,t.child=e}function Sp(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(pa(l,r)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Zt(e,t,s)}return Mo(e,t,n,r,s)}function jp(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Mr,Ze),Ze|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,le(Mr,Ze),Ze|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,le(Mr,Ze),Ze|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,le(Mr,Ze),Ze|=r;return $e(e,t,s,n),t.child}function Ep(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Mo(e,t,n,r,s){var l=Ke(n)?ar:Ue.current;return l=Yr(t,l),qr(t,s),n=Vu(e,t,n,r,l,s),r=Wu(),e!==null&&!Qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zt(e,t,s)):(ue&&r&&Tu(t),t.flags|=1,$e(e,t,n,s),t.child)}function ud(e,t,n,r,s){if(Ke(n)){var l=!0;Ml(t)}else l=!1;if(qr(t,s),t.stateNode===null)Sl(e,t),bp(t,n,r),zo(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var c=i.context,p=n.contextType;typeof p=="object"&&p!==null?p=dt(p):(p=Ke(n)?ar:Ue.current,p=Yr(t,p));var x=n.getDerivedStateFromProps,w=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";w||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==r||c!==p)&&rd(t,i,r,p),on=!1;var N=t.memoizedState;i.state=N,ql(t,r,i,s),c=t.memoizedState,u!==r||N!==c||qe.current||on?(typeof x=="function"&&(Fo(t,n,x,r),c=t.memoizedState),(u=on||nd(t,n,u,r,N,c,p))?(w||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),i.props=r,i.state=c,i.context=p,r=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,ep(e,t),u=t.memoizedProps,p=t.type===t.elementType?u:gt(t.type,u),i.props=p,w=t.pendingProps,N=i.context,c=n.contextType,typeof c=="object"&&c!==null?c=dt(c):(c=Ke(n)?ar:Ue.current,c=Yr(t,c));var C=n.getDerivedStateFromProps;(x=typeof C=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==w||N!==c)&&rd(t,i,r,c),on=!1,N=t.memoizedState,i.state=N,ql(t,r,i,s);var P=t.memoizedState;u!==w||N!==P||qe.current||on?(typeof C=="function"&&(Fo(t,n,C,r),P=t.memoizedState),(p=on||nd(t,n,p,r,N,P,c)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,P,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,P,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=P),i.props=r,i.state=P,i.context=c,r=p):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&N===e.memoizedState||(t.flags|=1024),r=!1)}return Vo(e,t,n,r,l,s)}function Vo(e,t,n,r,s,l){Ep(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Kc(t,n,!1),Zt(e,t,l);r=t.stateNode,R0.current=t;var u=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Zr(t,e.child,null,l),t.child=Zr(t,null,u,l)):$e(e,t,u,l),t.memoizedState=r.state,s&&Kc(t,n,!0),t.child}function Cp(e){var t=e.stateNode;t.pendingContext?qc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&qc(e,t.context,!1),Fu(e,t.containerInfo)}function cd(e,t,n,r,s){return Jr(),Lu(s),t.flags|=256,$e(e,t,n,r),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function _p(e,t,n){var r=t.pendingProps,s=de.current,l=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),le(de,s&1),e===null)return Do(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,l?(r=t.mode,l=t.child,i={mode:"hidden",children:i},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=hi(i,r,0,null),e=sr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Ho(n),t.memoizedState=Wo,e):qu(t,i));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return T0(e,t,i,r,u,s,n);if(l){l=r.fallback,i=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=bn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?l=bn(u,l):(l=sr(l,i,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,i=e.child.memoizedState,i=i===null?Ho(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~n,t.memoizedState=Wo,r}return l=e.child,e=l.sibling,r=bn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function qu(e,t){return t=hi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,r){return r!==null&&Lu(r),Zr(t,e.child,null,n),e=qu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function T0(e,t,n,r,s,l,i){if(n)return t.flags&256?(t.flags&=-257,r=Ji(Error(O(422))),ol(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=hi({mode:"visible",children:r.children},s,0,null),l=sr(l,s,i,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&Zr(t,e.child,null,i),t.child.memoizedState=Ho(i),t.memoizedState=Wo,l);if(!(t.mode&1))return ol(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,l=Error(O(419)),r=Ji(l,r,void 0),ol(e,t,i,r)}if(u=(i&e.childLanes)!==0,Qe||u){if(r=_e,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Jt(e,s),bt(r,e,s,-1))}return Xu(),r=Ji(Error(O(421))),ol(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=W0.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,Xe=xn(s.nextSibling),et=t,ue=!0,yt=null,e!==null&&(lt[it++]=Qt,lt[it++]=qt,lt[it++]=lr,Qt=e.id,qt=e.overflow,lr=t),t=qu(t,r.children),t.flags|=4096,t)}function dd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),$o(e.return,t,n)}function Zi(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function Pp(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if($e(e,t,r.children,n),r=de.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dd(e,n,t);else if(e.tag===19)dd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(le(de,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Kl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Zi(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Kl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Zi(t,!0,n,null,l);break;case"together":Zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Sl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),or|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function A0(e,t,n){switch(t.tag){case 3:Cp(t),Jr();break;case 5:tp(t);break;case 1:Ke(t.type)&&Ml(t);break;case 4:Fu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;le(Hl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(le(de,de.current&1),t.flags|=128,null):n&t.child.childLanes?_p(e,t,n):(le(de,de.current&1),e=Zt(e,t,n),e!==null?e.sibling:null);le(de,de.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Pp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(de,de.current),r)break;return null;case 22:case 23:return t.lanes=0,jp(e,t,n)}return Zt(e,t,n)}var Rp,Qo,Tp,Ap;Rp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Qo=function(){};Tp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,nr(At.current);var l=null;switch(n){case"input":s=ho(e,s),r=ho(e,r),l=[];break;case"select":s=pe({},s,{value:void 0}),r=pe({},r,{value:void 0}),l=[];break;case"textarea":s=xo(e,s),r=xo(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=zl)}yo(n,r);var i;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var u=s[p];for(i in u)u.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(la.hasOwnProperty(p)?l||(l=[]):(l=l||[]).push(p,null));for(p in r){var c=r[p];if(u=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&c!==u&&(c!=null||u!=null))if(p==="style")if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(l||(l=[]),l.push(p,n)),n=c;else p==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(l=l||[]).push(p,c)):p==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(p,""+c):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(la.hasOwnProperty(p)?(c!=null&&p==="onScroll"&&ie("scroll",e),l||u===c||(l=[])):(l=l||[]).push(p,c))}n&&(l=l||[]).push("style",n);var p=l;(t.updateQueue=p)&&(t.flags|=4)}};Ap=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bs(e,t){if(!ue)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ie(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function L0(e,t,n){var r=t.pendingProps;switch(Au(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ie(t),null;case 1:return Ke(t.type)&&Bl(),Ie(t),null;case 3:return r=t.stateNode,Xr(),oe(qe),oe(Ue),Bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ll(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yt!==null&&(eu(yt),yt=null))),Qo(e,t),Ie(t),null;case 5:zu(t);var s=nr(va.current);if(n=t.type,e!==null&&t.stateNode!=null)Tp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Ie(t),null}if(e=nr(At.current),ll(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Rt]=t,r[ga]=l,e=(t.mode&1)!==0,n){case"dialog":ie("cancel",r),ie("close",r);break;case"iframe":case"object":case"embed":ie("load",r);break;case"video":case"audio":for(s=0;s<Gs.length;s++)ie(Gs[s],r);break;case"source":ie("error",r);break;case"img":case"image":case"link":ie("error",r),ie("load",r);break;case"details":ie("toggle",r);break;case"input":wc(r,l),ie("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},ie("invalid",r);break;case"textarea":Nc(r,l),ie("invalid",r)}yo(n,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="children"?typeof u=="string"?r.textContent!==u&&(l.suppressHydrationWarning!==!0&&al(r.textContent,u,e),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&al(r.textContent,u,e),s=["children",""+u]):la.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&ie("scroll",r)}switch(n){case"input":Ja(r),bc(r,l,!0);break;case"textarea":Ja(r),kc(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=zl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=af(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Rt]=t,e[ga]=r,Rp(e,t,!1,!1),t.stateNode=e;e:{switch(i=wo(n,r),n){case"dialog":ie("cancel",e),ie("close",e),s=r;break;case"iframe":case"object":case"embed":ie("load",e),s=r;break;case"video":case"audio":for(s=0;s<Gs.length;s++)ie(Gs[s],e);s=r;break;case"source":ie("error",e),s=r;break;case"img":case"image":case"link":ie("error",e),ie("load",e),s=r;break;case"details":ie("toggle",e),s=r;break;case"input":wc(e,r),s=ho(e,r),ie("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=pe({},r,{value:void 0}),ie("invalid",e);break;case"textarea":Nc(e,r),s=xo(e,r),ie("invalid",e);break;default:s=r}yo(n,s),u=s;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];l==="style"?uf(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&lf(e,c)):l==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ia(e,c):typeof c=="number"&&ia(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(la.hasOwnProperty(l)?c!=null&&l==="onScroll"&&ie("scroll",e):c!=null&&xu(e,l,c,i))}switch(n){case"input":Ja(e),bc(e,r,!1);break;case"textarea":Ja(e),kc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Sn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?Vr(e,!!r.multiple,l,!1):r.defaultValue!=null&&Vr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ie(t),null;case 6:if(e&&t.stateNode!=null)Ap(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=nr(va.current),nr(At.current),ll(t)){if(r=t.stateNode,n=t.memoizedProps,r[Rt]=t,(l=r.nodeValue!==n)&&(e=et,e!==null))switch(e.tag){case 3:al(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=t,t.stateNode=r}return Ie(t),null;case 13:if(oe(de),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ue&&Xe!==null&&t.mode&1&&!(t.flags&128))Yf(),Jr(),t.flags|=98560,l=!1;else if(l=ll(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[Rt]=t}else Jr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ie(t),l=!1}else yt!==null&&(eu(yt),yt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||de.current&1?ke===0&&(ke=3):Xu())),t.updateQueue!==null&&(t.flags|=4),Ie(t),null);case 4:return Xr(),Qo(e,t),e===null&&ha(t.stateNode.containerInfo),Ie(t),null;case 10:return Uu(t.type._context),Ie(t),null;case 17:return Ke(t.type)&&Bl(),Ie(t),null;case 19:if(oe(de),l=t.memoizedState,l===null)return Ie(t),null;if(r=(t.flags&128)!==0,i=l.rendering,i===null)if(r)Bs(l,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Kl(e),i!==null){for(t.flags|=128,Bs(l,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return le(de,de.current&1|2),t.child}e=e.sibling}l.tail!==null&&xe()>ts&&(t.flags|=128,r=!0,Bs(l,!1),t.lanes=4194304)}else{if(!r)if(e=Kl(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bs(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ue)return Ie(t),null}else 2*xe()-l.renderingStartTime>ts&&n!==1073741824&&(t.flags|=128,r=!0,Bs(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(n=l.last,n!==null?n.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=xe(),t.sibling=null,n=de.current,le(de,r?n&1|2:n&1),t):(Ie(t),null);case 22:case 23:return Zu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ze&1073741824&&(Ie(t),t.subtreeFlags&6&&(t.flags|=8192)):Ie(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function I0(e,t){switch(Au(t),t.tag){case 1:return Ke(t.type)&&Bl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),oe(qe),oe(Ue),Bu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return zu(t),null;case 13:if(oe(de),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Jr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return oe(de),null;case 4:return Xr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return Zu(),null;case 24:return null;default:return null}}var ul=!1,Oe=!1,O0=typeof WeakSet=="function"?WeakSet:Set,V=null;function Br(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(e,t,r)}else n.current=null}function qo(e,t,n){try{n()}catch(r){me(e,t,r)}}var fd=!1;function U0(e,t){if(Ro=Dl,e=Df(),Ru(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var i=0,u=-1,c=-1,p=0,x=0,w=e,N=null;t:for(;;){for(var C;w!==n||s!==0&&w.nodeType!==3||(u=i+s),w!==l||r!==0&&w.nodeType!==3||(c=i+r),w.nodeType===3&&(i+=w.nodeValue.length),(C=w.firstChild)!==null;)N=w,w=C;for(;;){if(w===e)break t;if(N===n&&++p===s&&(u=i),N===l&&++x===r&&(c=i),(C=w.nextSibling)!==null)break;w=N,N=w.parentNode}w=C}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(To={focusedElem:e,selectionRange:n},Dl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var P=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var _=P.memoizedProps,I=P.memoizedState,v=t.stateNode,m=v.getSnapshotBeforeUpdate(t.elementType===t.type?_:gt(t.type,_),I);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(E){me(t,t.return,E)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return P=fd,fd=!1,P}function ra(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&qo(t,n,l)}s=s.next}while(s!==r)}}function fi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ko(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Lp(e){var t=e.alternate;t!==null&&(e.alternate=null,Lp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[ga],delete t[Io],delete t[v0],delete t[y0])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Ip(e){return e.tag===5||e.tag===3||e.tag===4}function pd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Go(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=zl));else if(r!==4&&(e=e.child,e!==null))for(Go(e,t,n),e=e.sibling;e!==null;)Go(e,t,n),e=e.sibling}function Yo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Yo(e,t,n),e=e.sibling;e!==null;)Yo(e,t,n),e=e.sibling}var Pe=null,xt=!1;function an(e,t,n){for(n=n.child;n!==null;)Op(e,t,n),n=n.sibling}function Op(e,t,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(si,n)}catch{}switch(n.tag){case 5:Oe||Br(n,t);case 6:var r=Pe,s=xt;Pe=null,an(e,t,n),Pe=r,xt=s,Pe!==null&&(xt?(e=Pe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pe.removeChild(n.stateNode));break;case 18:Pe!==null&&(xt?(e=Pe,n=n.stateNode,e.nodeType===8?Hi(e.parentNode,n):e.nodeType===1&&Hi(e,n),da(e)):Hi(Pe,n.stateNode));break;case 4:r=Pe,s=xt,Pe=n.stateNode.containerInfo,xt=!0,an(e,t,n),Pe=r,xt=s;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&qo(n,t,i),s=s.next}while(s!==r)}an(e,t,n);break;case 1:if(!Oe&&(Br(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){me(n,t,u)}an(e,t,n);break;case 21:an(e,t,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,an(e,t,n),Oe=r):an(e,t,n);break;default:an(e,t,n)}}function hd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new O0),t.forEach(function(r){var s=H0.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function mt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:Pe=u.stateNode,xt=!1;break e;case 3:Pe=u.stateNode.containerInfo,xt=!0;break e;case 4:Pe=u.stateNode.containerInfo,xt=!0;break e}u=u.return}if(Pe===null)throw Error(O(160));Op(l,i,s),Pe=null,xt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(p){me(s,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Up(t,e),t=t.sibling}function Up(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mt(t,e),Et(e),r&4){try{ra(3,e,e.return),fi(3,e)}catch(_){me(e,e.return,_)}try{ra(5,e,e.return)}catch(_){me(e,e.return,_)}}break;case 1:mt(t,e),Et(e),r&512&&n!==null&&Br(n,n.return);break;case 5:if(mt(t,e),Et(e),r&512&&n!==null&&Br(n,n.return),e.flags&32){var s=e.stateNode;try{ia(s,"")}catch(_){me(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=n!==null?n.memoizedProps:l,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&rf(s,l),wo(u,i);var p=wo(u,l);for(i=0;i<c.length;i+=2){var x=c[i],w=c[i+1];x==="style"?uf(s,w):x==="dangerouslySetInnerHTML"?lf(s,w):x==="children"?ia(s,w):xu(s,x,w,p)}switch(u){case"input":mo(s,l);break;case"textarea":sf(s,l);break;case"select":var N=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var C=l.value;C!=null?Vr(s,!!l.multiple,C,!1):N!==!!l.multiple&&(l.defaultValue!=null?Vr(s,!!l.multiple,l.defaultValue,!0):Vr(s,!!l.multiple,l.multiple?[]:"",!1))}s[ga]=l}catch(_){me(e,e.return,_)}}break;case 6:if(mt(t,e),Et(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(_){me(e,e.return,_)}}break;case 3:if(mt(t,e),Et(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{da(t.containerInfo)}catch(_){me(e,e.return,_)}break;case 4:mt(t,e),Et(e);break;case 13:mt(t,e),Et(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(Yu=xe())),r&4&&hd(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Oe=(p=Oe)||x,mt(t,e),Oe=p):mt(t,e),Et(e),r&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!x&&e.mode&1)for(V=e,x=e.child;x!==null;){for(w=V=x;V!==null;){switch(N=V,C=N.child,N.tag){case 0:case 11:case 14:case 15:ra(4,N,N.return);break;case 1:Br(N,N.return);var P=N.stateNode;if(typeof P.componentWillUnmount=="function"){r=N,n=N.return;try{t=r,P.props=t.memoizedProps,P.state=t.memoizedState,P.componentWillUnmount()}catch(_){me(r,n,_)}}break;case 5:Br(N,N.return);break;case 22:if(N.memoizedState!==null){gd(w);continue}}C!==null?(C.return=N,V=C):gd(w)}x=x.sibling}e:for(x=null,w=e;;){if(w.tag===5){if(x===null){x=w;try{s=w.stateNode,p?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=w.stateNode,c=w.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=of("display",i))}catch(_){me(e,e.return,_)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(_){me(e,e.return,_)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===e)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===e)break e;for(;w.sibling===null;){if(w.return===null||w.return===e)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:mt(t,e),Et(e),r&4&&hd(e);break;case 21:break;default:mt(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Ip(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ia(s,""),r.flags&=-33);var l=pd(e);Yo(e,l,s);break;case 3:case 4:var i=r.stateNode.containerInfo,u=pd(e);Go(e,u,i);break;default:throw Error(O(161))}}catch(c){me(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function D0(e,t,n){V=e,Dp(e)}function Dp(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var s=V,l=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||ul;if(!i){var u=s.alternate,c=u!==null&&u.memoizedState!==null||Oe;u=ul;var p=Oe;if(ul=i,(Oe=c)&&!p)for(V=s;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?xd(s):c!==null?(c.return=i,V=c):xd(s);for(;l!==null;)V=l,Dp(l),l=l.sibling;V=s,ul=u,Oe=p}md(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,V=l):md(e)}}function md(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Oe||fi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Xc(t,l,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xc(t,i,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&da(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Oe||t.flags&512&&Ko(t)}catch(N){me(t,t.return,N)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function gd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function xd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{fi(4,t)}catch(c){me(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){me(t,s,c)}}var l=t.return;try{Ko(t)}catch(c){me(t,l,c)}break;case 5:var i=t.return;try{Ko(t)}catch(c){me(t,i,c)}}}catch(c){me(t,t.return,c)}if(t===e){V=null;break}var u=t.sibling;if(u!==null){u.return=t.return,V=u;break}V=t.return}}var $0=Math.ceil,Jl=Xt.ReactCurrentDispatcher,Ku=Xt.ReactCurrentOwner,ct=Xt.ReactCurrentBatchConfig,re=0,_e=null,we=null,Re=0,Ze=0,Mr=Cn(0),ke=0,Na=null,or=0,pi=0,Gu=0,sa=null,He=null,Yu=0,ts=1/0,Mt=null,Zl=!1,Jo=null,yn=null,cl=!1,fn=null,Xl=0,aa=0,Zo=null,jl=-1,El=0;function Fe(){return re&6?xe():jl!==-1?jl:jl=xe()}function wn(e){return e.mode&1?re&2&&Re!==0?Re&-Re:b0.transition!==null?(El===0&&(El=bf()),El):(e=ae,e!==0||(e=window.event,e=e===void 0?16:_f(e.type)),e):1}function bt(e,t,n,r){if(50<aa)throw aa=0,Zo=null,Error(O(185));Ea(e,n,r),(!(re&2)||e!==_e)&&(e===_e&&(!(re&2)&&(pi|=n),ke===4&&cn(e,Re)),Ge(e,r),n===1&&re===0&&!(t.mode&1)&&(ts=xe()+500,ui&&_n()))}function Ge(e,t){var n=e.callbackNode;bm(e,t);var r=Ul(e,e===_e?Re:0);if(r===0)n!==null&&Ec(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Ec(n),t===1)e.tag===0?w0(vd.bind(null,e)):qf(vd.bind(null,e)),g0(function(){!(re&6)&&_n()}),n=null;else{switch(Nf(r)){case 1:n=Nu;break;case 4:n=yf;break;case 16:n=Ol;break;case 536870912:n=wf;break;default:n=Ol}n=Hp(n,$p.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $p(e,t){if(jl=-1,El=0,re&6)throw Error(O(327));var n=e.callbackNode;if(Kr()&&e.callbackNode!==n)return null;var r=Ul(e,e===_e?Re:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ei(e,r);else{t=r;var s=re;re|=2;var l=zp();(_e!==e||Re!==t)&&(Mt=null,ts=xe()+500,rr(e,t));do try{B0();break}catch(u){Fp(e,u)}while(!0);Ou(),Jl.current=l,re=s,we!==null?t=0:(_e=null,Re=0,t=ke)}if(t!==0){if(t===2&&(s=jo(e),s!==0&&(r=s,t=Xo(e,s))),t===1)throw n=Na,rr(e,0),cn(e,r),Ge(e,xe()),n;if(t===6)cn(e,r);else{if(s=e.current.alternate,!(r&30)&&!F0(s)&&(t=ei(e,r),t===2&&(l=jo(e),l!==0&&(r=l,t=Xo(e,l))),t===1))throw n=Na,rr(e,0),cn(e,r),Ge(e,xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Zn(e,He,Mt);break;case 3:if(cn(e,r),(r&130023424)===r&&(t=Yu+500-xe(),10<t)){if(Ul(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Fe(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Lo(Zn.bind(null,e,He,Mt),t);break}Zn(e,He,Mt);break;case 4:if(cn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-wt(r);l=1<<i,i=t[i],i>s&&(s=i),r&=~l}if(r=s,r=xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$0(r/1960))-r,10<r){e.timeoutHandle=Lo(Zn.bind(null,e,He,Mt),r);break}Zn(e,He,Mt);break;case 5:Zn(e,He,Mt);break;default:throw Error(O(329))}}}return Ge(e,xe()),e.callbackNode===n?$p.bind(null,e):null}function Xo(e,t){var n=sa;return e.current.memoizedState.isDehydrated&&(rr(e,t).flags|=256),e=ei(e,t),e!==2&&(t=He,He=n,t!==null&&eu(t)),e}function eu(e){He===null?He=e:He.push.apply(He,e)}function F0(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Nt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~Gu,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),r=1<<n;e[n]=-1,t&=~r}}function vd(e){if(re&6)throw Error(O(327));Kr();var t=Ul(e,0);if(!(t&1))return Ge(e,xe()),null;var n=ei(e,t);if(e.tag!==0&&n===2){var r=jo(e);r!==0&&(t=r,n=Xo(e,r))}if(n===1)throw n=Na,rr(e,0),cn(e,t),Ge(e,xe()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zn(e,He,Mt),Ge(e,xe()),null}function Ju(e,t){var n=re;re|=1;try{return e(t)}finally{re=n,re===0&&(ts=xe()+500,ui&&_n())}}function ur(e){fn!==null&&fn.tag===0&&!(re&6)&&Kr();var t=re;re|=1;var n=ct.transition,r=ae;try{if(ct.transition=null,ae=1,e)return e()}finally{ae=r,ct.transition=n,re=t,!(re&6)&&_n()}}function Zu(){Ze=Mr.current,oe(Mr)}function rr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,m0(n)),we!==null)for(n=we.return;n!==null;){var r=n;switch(Au(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bl();break;case 3:Xr(),oe(qe),oe(Ue),Bu();break;case 5:zu(r);break;case 4:Xr();break;case 13:oe(de);break;case 19:oe(de);break;case 10:Uu(r.type._context);break;case 22:case 23:Zu()}n=n.return}if(_e=e,we=e=bn(e.current,null),Re=Ze=t,ke=0,Na=null,Gu=pi=or=0,He=sa=null,tr!==null){for(t=0;t<tr.length;t++)if(n=tr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var i=l.next;l.next=s,r.next=i}n.pending=r}tr=null}return e}function Fp(e,t){do{var n=we;try{if(Ou(),Nl.current=Yl,Gl){for(var r=fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gl=!1}if(ir=0,Ce=Ne=fe=null,na=!1,ya=0,Ku.current=null,n===null||n.return===null){ke=1,Na=t,we=null;break}e:{var l=e,i=n.return,u=n,c=t;if(t=Re,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var p=c,x=u,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var N=x.alternate;N?(x.updateQueue=N.updateQueue,x.memoizedState=N.memoizedState,x.lanes=N.lanes):(x.updateQueue=null,x.memoizedState=null)}var C=ad(i);if(C!==null){C.flags&=-257,ld(C,i,u,l,t),C.mode&1&&sd(l,p,t),t=C,c=p;var P=t.updateQueue;if(P===null){var _=new Set;_.add(c),t.updateQueue=_}else P.add(c);break e}else{if(!(t&1)){sd(l,p,t),Xu();break e}c=Error(O(426))}}else if(ue&&u.mode&1){var I=ad(i);if(I!==null){!(I.flags&65536)&&(I.flags|=256),ld(I,i,u,l,t),Lu(es(c,u));break e}}l=c=es(c,u),ke!==4&&(ke=2),sa===null?sa=[l]:sa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var v=Np(l,c,t);Zc(l,v);break e;case 1:u=c;var m=l.type,y=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y)))){l.flags|=65536,t&=-t,l.lanes|=t;var E=kp(l,u,t);Zc(l,E);break e}}l=l.return}while(l!==null)}Mp(n)}catch(R){t=R,we===n&&n!==null&&(we=n=n.return);continue}break}while(!0)}function zp(){var e=Jl.current;return Jl.current=Yl,e===null?Yl:e}function Xu(){(ke===0||ke===3||ke===2)&&(ke=4),_e===null||!(or&268435455)&&!(pi&268435455)||cn(_e,Re)}function ei(e,t){var n=re;re|=2;var r=zp();(_e!==e||Re!==t)&&(Mt=null,rr(e,t));do try{z0();break}catch(s){Fp(e,s)}while(!0);if(Ou(),re=n,Jl.current=r,we!==null)throw Error(O(261));return _e=null,Re=0,ke}function z0(){for(;we!==null;)Bp(we)}function B0(){for(;we!==null&&!fm();)Bp(we)}function Bp(e){var t=Wp(e.alternate,e,Ze);e.memoizedProps=e.pendingProps,t===null?Mp(e):we=t,Ku.current=null}function Mp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=I0(n,t),n!==null){n.flags&=32767,we=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ke=6,we=null;return}}else if(n=L0(n,t,Ze),n!==null){we=n;return}if(t=t.sibling,t!==null){we=t;return}we=t=e}while(t!==null);ke===0&&(ke=5)}function Zn(e,t,n){var r=ae,s=ct.transition;try{ct.transition=null,ae=1,M0(e,t,n,r)}finally{ct.transition=s,ae=r}return null}function M0(e,t,n,r){do Kr();while(fn!==null);if(re&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(Nm(e,l),e===_e&&(we=_e=null,Re=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cl||(cl=!0,Hp(Ol,function(){return Kr(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=ct.transition,ct.transition=null;var i=ae;ae=1;var u=re;re|=4,Ku.current=null,U0(e,n),Up(n,e),o0(To),Dl=!!Ro,To=Ro=null,e.current=n,D0(n),pm(),re=u,ae=i,ct.transition=l}else e.current=n;if(cl&&(cl=!1,fn=e,Xl=s),l=e.pendingLanes,l===0&&(yn=null),gm(n.stateNode),Ge(e,xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zl)throw Zl=!1,e=Jo,Jo=null,e;return Xl&1&&e.tag!==0&&Kr(),l=e.pendingLanes,l&1?e===Zo?aa++:(aa=0,Zo=e):aa=0,_n(),null}function Kr(){if(fn!==null){var e=Nf(Xl),t=ct.transition,n=ae;try{if(ct.transition=null,ae=16>e?16:e,fn===null)var r=!1;else{if(e=fn,fn=null,Xl=0,re&6)throw Error(O(331));var s=re;for(re|=4,V=e.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var u=l.deletions;if(u!==null){for(var c=0;c<u.length;c++){var p=u[c];for(V=p;V!==null;){var x=V;switch(x.tag){case 0:case 11:case 15:ra(8,x,l)}var w=x.child;if(w!==null)w.return=x,V=w;else for(;V!==null;){x=V;var N=x.sibling,C=x.return;if(Lp(x),x===p){V=null;break}if(N!==null){N.return=C,V=N;break}V=C}}}var P=l.alternate;if(P!==null){var _=P.child;if(_!==null){P.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ra(9,l,l.return)}var v=l.sibling;if(v!==null){v.return=l.return,V=v;break e}V=l.return}}var m=e.current;for(V=m;V!==null;){i=V;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,V=y;else e:for(i=m;V!==null;){if(u=V,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:fi(9,u)}}catch(R){me(u,u.return,R)}if(u===i){V=null;break e}var E=u.sibling;if(E!==null){E.return=u.return,V=E;break e}V=u.return}}if(re=s,_n(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(si,e)}catch{}r=!0}return r}finally{ae=n,ct.transition=t}}return!1}function yd(e,t,n){t=es(n,t),t=Np(e,t,1),e=vn(e,t,1),t=Fe(),e!==null&&(Ea(e,1,t),Ge(e,t))}function me(e,t,n){if(e.tag===3)yd(e,e,n);else for(;t!==null;){if(t.tag===3){yd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(yn===null||!yn.has(r))){e=es(n,e),e=kp(t,e,1),t=vn(t,e,1),e=Fe(),t!==null&&(Ea(t,1,e),Ge(t,e));break}}t=t.return}}function V0(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Fe(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Re&n)===n&&(ke===4||ke===3&&(Re&130023424)===Re&&500>xe()-Yu?rr(e,0):Gu|=n),Ge(e,t)}function Vp(e,t){t===0&&(e.mode&1?(t=el,el<<=1,!(el&130023424)&&(el=4194304)):t=1);var n=Fe();e=Jt(e,t),e!==null&&(Ea(e,t,n),Ge(e,n))}function W0(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Vp(e,n)}function H0(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),Vp(e,n)}var Wp;Wp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||qe.current)Qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Qe=!1,A0(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,ue&&t.flags&1048576&&Kf(t,Wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Sl(e,t),e=t.pendingProps;var s=Yr(t,Ue.current);qr(t,n),s=Vu(null,t,r,e,s,n);var l=Wu();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ke(r)?(l=!0,Ml(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,$u(t),s.updater=di,t.stateNode=s,s._reactInternals=t,zo(t,r,e,n),t=Vo(null,t,r,!0,l,n)):(t.tag=0,ue&&l&&Tu(t),$e(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Sl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=q0(r),e=gt(r,e),s){case 0:t=Mo(null,t,r,e,n);break e;case 1:t=ud(null,t,r,e,n);break e;case 11:t=id(null,t,r,e,n);break e;case 14:t=od(null,t,r,gt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),Mo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),ud(e,t,r,s,n);case 3:e:{if(Cp(t),e===null)throw Error(O(387));r=t.pendingProps,l=t.memoizedState,s=l.element,ep(e,t),ql(t,r,null,n);var i=t.memoizedState;if(r=i.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=es(Error(O(423)),t),t=cd(e,t,r,n,s);break e}else if(r!==s){s=es(Error(O(424)),t),t=cd(e,t,r,n,s);break e}else for(Xe=xn(t.stateNode.containerInfo.firstChild),et=t,ue=!0,yt=null,n=Zf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jr(),r===s){t=Zt(e,t,n);break e}$e(e,t,r,n)}t=t.child}return t;case 5:return tp(t),e===null&&Do(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,Ao(r,s)?i=null:l!==null&&Ao(r,l)&&(t.flags|=32),Ep(e,t),$e(e,t,i,n),t.child;case 6:return e===null&&Do(t),null;case 13:return _p(e,t,n);case 4:return Fu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Zr(t,null,r,n):$e(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),id(e,t,r,s,n);case 7:return $e(e,t,t.pendingProps,n),t.child;case 8:return $e(e,t,t.pendingProps.children,n),t.child;case 12:return $e(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,le(Hl,r._currentValue),r._currentValue=i,l!==null)if(Nt(l.value,i)){if(l.children===s.children&&!qe.current){t=Zt(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){i=l.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(l.tag===1){c=Kt(-1,n&-n),c.tag=2;var p=l.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?c.next=c:(c.next=x.next,x.next=c),p.pending=c}}l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),$o(l.return,n,t),u.lanes|=n;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(O(341));i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),$o(i,n,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}$e(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,qr(t,n),s=dt(s),r=r(s),t.flags|=1,$e(e,t,r,n),t.child;case 14:return r=t.type,s=gt(r,t.pendingProps),s=gt(r.type,s),od(e,t,r,s,n);case 15:return Sp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gt(r,s),Sl(e,t),t.tag=1,Ke(r)?(e=!0,Ml(t)):e=!1,qr(t,n),bp(t,r,s),zo(t,r,s,n),Vo(null,t,r,!0,e,n);case 19:return Pp(e,t,n);case 22:return jp(e,t,n)}throw Error(O(156,t.tag))};function Hp(e,t){return vf(e,t)}function Q0(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(e,t,n,r){return new Q0(e,t,n,r)}function ec(e){return e=e.prototype,!(!e||!e.isReactComponent)}function q0(e){if(typeof e=="function")return ec(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yu)return 11;if(e===wu)return 14}return 2}function bn(e,t){var n=e.alternate;return n===null?(n=ut(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Cl(e,t,n,r,s,l){var i=2;if(r=e,typeof e=="function")ec(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ar:return sr(n.children,s,l,t);case vu:i=8,s|=8;break;case uo:return e=ut(12,n,t,s|2),e.elementType=uo,e.lanes=l,e;case co:return e=ut(13,n,t,s),e.elementType=co,e.lanes=l,e;case fo:return e=ut(19,n,t,s),e.elementType=fo,e.lanes=l,e;case ef:return hi(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zd:i=10;break e;case Xd:i=9;break e;case yu:i=11;break e;case wu:i=14;break e;case ln:i=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=ut(i,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function sr(e,t,n,r){return e=ut(7,e,r,t),e.lanes=n,e}function hi(e,t,n,r){return e=ut(22,e,r,t),e.elementType=ef,e.lanes=n,e.stateNode={isHidden:!1},e}function Xi(e,t,n){return e=ut(6,e,null,t),e.lanes=n,e}function eo(e,t,n){return t=ut(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function K0(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ii(0),this.expirationTimes=Ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tc(e,t,n,r,s,l,i,u,c){return e=new K0(e,t,n,u,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=ut(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},$u(l),e}function G0(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Tr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Qp(e){if(!e)return jn;e=e._reactInternals;e:{if(dr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ke(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Ke(n))return Qf(e,n,t)}return t}function qp(e,t,n,r,s,l,i,u,c){return e=tc(n,r,!0,e,s,l,i,u,c),e.context=Qp(null),n=e.current,r=Fe(),s=wn(n),l=Kt(r,s),l.callback=t??null,vn(n,l,s),e.current.lanes=s,Ea(e,s,r),Ge(e,r),e}function mi(e,t,n,r){var s=t.current,l=Fe(),i=wn(s);return n=Qp(n),t.context===null?t.context=n:t.pendingContext=n,t=Kt(l,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=vn(s,t,i),e!==null&&(bt(e,s,i,l),bl(e,s,i)),i}function ti(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function nc(e,t){wd(e,t),(e=e.alternate)&&wd(e,t)}function Y0(){return null}var Kp=typeof reportError=="function"?reportError:function(e){console.error(e)};function rc(e){this._internalRoot=e}gi.prototype.render=rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));mi(e,t,null,null)};gi.prototype.unmount=rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ur(function(){mi(null,e,null,null)}),t[Yt]=null}};function gi(e){this._internalRoot=e}gi.prototype.unstable_scheduleHydration=function(e){if(e){var t=jf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<un.length&&t!==0&&t<un[n].priority;n++);un.splice(n,0,e),n===0&&Cf(e)}};function sc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bd(){}function J0(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var p=ti(i);l.call(p)}}var i=qp(t,r,e,0,null,!1,!1,"",bd);return e._reactRootContainer=i,e[Yt]=i.current,ha(e.nodeType===8?e.parentNode:e),ur(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var p=ti(c);u.call(p)}}var c=tc(e,0,!1,null,null,!1,!1,"",bd);return e._reactRootContainer=c,e[Yt]=c.current,ha(e.nodeType===8?e.parentNode:e),ur(function(){mi(t,c,n,r)}),c}function vi(e,t,n,r,s){var l=n._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var u=s;s=function(){var c=ti(i);u.call(c)}}mi(t,i,e,s)}else i=J0(n,t,e,s,r);return ti(i)}kf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ks(t.pendingLanes);n!==0&&(ku(t,n|1),Ge(t,xe()),!(re&6)&&(ts=xe()+500,_n()))}break;case 13:ur(function(){var r=Jt(e,1);if(r!==null){var s=Fe();bt(r,e,1,s)}}),nc(e,1)}};Su=function(e){if(e.tag===13){var t=Jt(e,134217728);if(t!==null){var n=Fe();bt(t,e,134217728,n)}nc(e,134217728)}};Sf=function(e){if(e.tag===13){var t=wn(e),n=Jt(e,t);if(n!==null){var r=Fe();bt(n,e,t,r)}nc(e,t)}};jf=function(){return ae};Ef=function(e,t){var n=ae;try{return ae=e,t()}finally{ae=n}};No=function(e,t,n){switch(t){case"input":if(mo(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=oi(r);if(!s)throw Error(O(90));nf(r),mo(r,s)}}}break;case"textarea":sf(e,n);break;case"select":t=n.value,t!=null&&Vr(e,!!n.multiple,t,!1)}};ff=Ju;pf=ur;var Z0={usingClientEntryPoint:!1,Events:[_a,Ur,oi,cf,df,Ju]},Ms={findFiberByHostInstance:er,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},X0={bundleType:Ms.bundleType,version:Ms.version,rendererPackageName:Ms.rendererPackageName,rendererConfig:Ms.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gf(e),e===null?null:e.stateNode},findFiberByHostInstance:Ms.findFiberByHostInstance||Y0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dl.isDisabled&&dl.supportsFiber)try{si=dl.inject(X0),Tt=dl}catch{}}nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z0;nt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sc(t))throw Error(O(200));return G0(e,t,null,n)};nt.createRoot=function(e,t){if(!sc(e))throw Error(O(299));var n=!1,r="",s=Kp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tc(e,1,!1,null,null,n,!1,r,s),e[Yt]=t.current,ha(e.nodeType===8?e.parentNode:e),new rc(t)};nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=gf(t),e=e===null?null:e.stateNode,e};nt.flushSync=function(e){return ur(e)};nt.hydrate=function(e,t,n){if(!xi(t))throw Error(O(200));return vi(null,e,t,!0,n)};nt.hydrateRoot=function(e,t,n){if(!sc(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",i=Kp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=qp(t,null,e,1,n??null,s,!1,l,i),e[Yt]=t.current,ha(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new gi(t)};nt.render=function(e,t,n){if(!xi(t))throw Error(O(200));return vi(null,e,t,!1,n)};nt.unmountComponentAtNode=function(e){if(!xi(e))throw Error(O(40));return e._reactRootContainer?(ur(function(){vi(null,null,e,!1,function(){e._reactRootContainer=null,e[Yt]=null})}),!0):!1};nt.unstable_batchedUpdates=Ju;nt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!xi(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return vi(e,t,n,!1,r)};nt.version="18.3.1-next-f1338f8080-20240426";function Gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Gp)}catch(e){console.error(e)}}Gp(),Kd.exports=nt;var eg=Kd.exports,Yp,Nd=eg;Yp=Nd.createRoot,Nd.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ka.apply(this,arguments)}var pn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(pn||(pn={}));const kd="popstate";function tg(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:i,hash:u}=r.location;return tu("",{pathname:l,search:i,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ni(s)}return rg(t,n,null,e)}function ve(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Jp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function ng(){return Math.random().toString(36).substr(2,8)}function Sd(e,t){return{usr:e.state,key:e.key,idx:t}}function tu(e,t,n,r){return n===void 0&&(n=null),ka({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?as(t):t,{state:n,key:t&&t.key||r||ng()})}function ni(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function as(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function rg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,i=s.history,u=pn.Pop,c=null,p=x();p==null&&(p=0,i.replaceState(ka({},i.state,{idx:p}),""));function x(){return(i.state||{idx:null}).idx}function w(){u=pn.Pop;let I=x(),v=I==null?null:I-p;p=I,c&&c({action:u,location:_.location,delta:v})}function N(I,v){u=pn.Push;let m=tu(_.location,I,v);p=x()+1;let y=Sd(m,p),E=_.createHref(m);try{i.pushState(y,"",E)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;s.location.assign(E)}l&&c&&c({action:u,location:_.location,delta:1})}function C(I,v){u=pn.Replace;let m=tu(_.location,I,v);p=x();let y=Sd(m,p),E=_.createHref(m);i.replaceState(y,"",E),l&&c&&c({action:u,location:_.location,delta:0})}function P(I){let v=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof I=="string"?I:ni(I);return m=m.replace(/ $/,"%20"),ve(v,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,v)}let _={get action(){return u},get location(){return e(s,i)},listen(I){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(kd,w),c=I,()=>{s.removeEventListener(kd,w),c=null}},createHref(I){return t(s,I)},createURL:P,encodeLocation(I){let v=P(I);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:N,replace:C,go(I){return i.go(I)}};return _}var jd;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(jd||(jd={}));function sg(e,t,n){return n===void 0&&(n="/"),ag(e,t,n)}function ag(e,t,n,r){let s=typeof t=="string"?as(t):t,l=ac(s.pathname||"/",n);if(l==null)return null;let i=Zp(e);lg(i);let u=null;for(let c=0;u==null&&c<i.length;++c){let p=vg(l);u=mg(i[c],p)}return u}function Zp(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,i,u)=>{let c={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let p=Nn([r,c.relativePath]),x=n.concat(c);l.children&&l.children.length>0&&(ve(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Zp(l.children,t,x,p)),!(l.path==null&&!l.index)&&t.push({path:p,score:pg(p,l.index),routesMeta:x})};return e.forEach((l,i)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))s(l,i);else for(let c of Xp(l.path))s(l,i,c)}),t}function Xp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let i=Xp(r.join("/")),u=[];return u.push(...i.map(c=>c===""?l:[l,c].join("/"))),s&&u.push(...i),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function lg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:hg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ig=/^:[\w-]+$/,og=3,ug=2,cg=1,dg=10,fg=-2,Ed=e=>e==="*";function pg(e,t){let n=e.split("/"),r=n.length;return n.some(Ed)&&(r+=fg),t&&(r+=ug),n.filter(s=>!Ed(s)).reduce((s,l)=>s+(ig.test(l)?og:l===""?cg:dg),r)}function hg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function mg(e,t,n){let{routesMeta:r}=e,s={},l="/",i=[];for(let u=0;u<r.length;++u){let c=r[u],p=u===r.length-1,x=l==="/"?t:t.slice(l.length)||"/",w=gg({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},x),N=c.route;if(!w)return null;Object.assign(s,w.params),i.push({params:s,pathname:Nn([l,w.pathname]),pathnameBase:Ng(Nn([l,w.pathnameBase])),route:N}),w.pathnameBase!=="/"&&(l=Nn([l,w.pathnameBase]))}return i}function gg(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=xg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],i=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((p,x,w)=>{let{paramName:N,isOptional:C}=x;if(N==="*"){let _=u[w]||"";i=l.slice(0,l.length-_.length).replace(/(.)\/+$/,"$1")}const P=u[w];return C&&!P?p[N]=void 0:p[N]=(P||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:i,pattern:e}}function xg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Jp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function vg(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Jp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ac(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function yg(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?as(e):e;return{pathname:n?n.startsWith("/")?n:wg(n,t):t,search:kg(r),hash:Sg(s)}}function wg(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function to(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bg(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function lc(e,t){let n=bg(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ic(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=as(e):(s=ka({},e),ve(!s.pathname||!s.pathname.includes("?"),to("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),to("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),to("#","search","hash",s)));let l=e===""||s.pathname==="",i=l?"/":s.pathname,u;if(i==null)u=n;else{let w=t.length-1;if(!r&&i.startsWith("..")){let N=i.split("/");for(;N[0]==="..";)N.shift(),w-=1;s.pathname=N.join("/")}u=w>=0?t[w]:"/"}let c=yg(s,u),p=i&&i!=="/"&&i.endsWith("/"),x=(l||i===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(p||x)&&(c.pathname+="/"),c}const Nn=e=>e.join("/").replace(/\/\/+/g,"/"),Ng=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),kg=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Sg=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function jg(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eh=["post","put","patch","delete"];new Set(eh);const Eg=["get",...eh];new Set(Eg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sa(){return Sa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sa.apply(this,arguments)}const oc=f.createContext(null),Cg=f.createContext(null),Pn=f.createContext(null),yi=f.createContext(null),Ot=f.createContext({outlet:null,matches:[],isDataRoute:!1}),th=f.createContext(null);function _g(e,t){let{relative:n}=t===void 0?{}:t;ls()||ve(!1);let{basename:r,navigator:s}=f.useContext(Pn),{hash:l,pathname:i,search:u}=sh(e,{relative:n}),c=i;return r!=="/"&&(c=i==="/"?r:Nn([r,i])),s.createHref({pathname:c,search:u,hash:l})}function ls(){return f.useContext(yi)!=null}function Rn(){return ls()||ve(!1),f.useContext(yi).location}function nh(e){f.useContext(Pn).static||f.useLayoutEffect(e)}function en(){let{isDataRoute:e}=f.useContext(Ot);return e?Vg():Pg()}function Pg(){ls()||ve(!1);let e=f.useContext(oc),{basename:t,future:n,navigator:r}=f.useContext(Pn),{matches:s}=f.useContext(Ot),{pathname:l}=Rn(),i=JSON.stringify(lc(s,n.v7_relativeSplatPath)),u=f.useRef(!1);return nh(()=>{u.current=!0}),f.useCallback(function(p,x){if(x===void 0&&(x={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let w=ic(p,JSON.parse(i),l,x.relative==="path");e==null&&t!=="/"&&(w.pathname=w.pathname==="/"?t:Nn([t,w.pathname])),(x.replace?r.replace:r.push)(w,x.state,x)},[t,r,i,l,e])}const Rg=f.createContext(null);function Tg(e){let t=f.useContext(Ot).outlet;return t&&f.createElement(Rg.Provider,{value:e},t)}function rh(){let{matches:e}=f.useContext(Ot),t=e[e.length-1];return t?t.params:{}}function sh(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=f.useContext(Pn),{matches:s}=f.useContext(Ot),{pathname:l}=Rn(),i=JSON.stringify(lc(s,r.v7_relativeSplatPath));return f.useMemo(()=>ic(e,JSON.parse(i),l,n==="path"),[e,i,l,n])}function Ag(e,t){return Lg(e,t)}function Lg(e,t,n,r){ls()||ve(!1);let{navigator:s}=f.useContext(Pn),{matches:l}=f.useContext(Ot),i=l[l.length-1],u=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let p=Rn(),x;if(t){var w;let I=typeof t=="string"?as(t):t;c==="/"||(w=I.pathname)!=null&&w.startsWith(c)||ve(!1),x=I}else x=p;let N=x.pathname||"/",C=N;if(c!=="/"){let I=c.replace(/^\//,"").split("/");C="/"+N.replace(/^\//,"").split("/").slice(I.length).join("/")}let P=sg(e,{pathname:C}),_=$g(P&&P.map(I=>Object.assign({},I,{params:Object.assign({},u,I.params),pathname:Nn([c,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?c:Nn([c,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),l,n,r);return t&&_?f.createElement(yi.Provider,{value:{location:Sa({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:pn.Pop}},_):_}function Ig(){let e=Mg(),t=jg(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return f.createElement(f.Fragment,null,f.createElement("h2",null,"Unexpected Application Error!"),f.createElement("h3",{style:{fontStyle:"italic"}},t),n?f.createElement("pre",{style:s},n):null,null)}const Og=f.createElement(Ig,null);class Ug extends f.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?f.createElement(Ot.Provider,{value:this.props.routeContext},f.createElement(th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Dg(e){let{routeContext:t,match:n,children:r}=e,s=f.useContext(oc);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),f.createElement(Ot.Provider,{value:t},r)}function $g(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,u=(s=n)==null?void 0:s.errors;if(u!=null){let x=i.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);x>=0||ve(!1),i=i.slice(0,Math.min(i.length,x+1))}let c=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<i.length;x++){let w=i[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=x),w.route.id){let{loaderData:N,errors:C}=n,P=w.route.loader&&N[w.route.id]===void 0&&(!C||C[w.route.id]===void 0);if(w.route.lazy||P){c=!0,p>=0?i=i.slice(0,p+1):i=[i[0]];break}}}return i.reduceRight((x,w,N)=>{let C,P=!1,_=null,I=null;n&&(C=u&&w.route.id?u[w.route.id]:void 0,_=w.route.errorElement||Og,c&&(p<0&&N===0?(Wg("route-fallback"),P=!0,I=null):p===N&&(P=!0,I=w.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,N+1)),m=()=>{let y;return C?y=_:P?y=I:w.route.Component?y=f.createElement(w.route.Component,null):w.route.element?y=w.route.element:y=x,f.createElement(Dg,{match:w,routeContext:{outlet:x,matches:v,isDataRoute:n!=null},children:y})};return n&&(w.route.ErrorBoundary||w.route.errorElement||N===0)?f.createElement(Ug,{location:n.location,revalidation:n.revalidation,component:_,error:C,children:m(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):m()},null)}var ah=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ah||{}),lh=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(lh||{});function Fg(e){let t=f.useContext(oc);return t||ve(!1),t}function zg(e){let t=f.useContext(Cg);return t||ve(!1),t}function Bg(e){let t=f.useContext(Ot);return t||ve(!1),t}function ih(e){let t=Bg(),n=t.matches[t.matches.length-1];return n.route.id||ve(!1),n.route.id}function Mg(){var e;let t=f.useContext(th),n=zg(),r=ih();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Vg(){let{router:e}=Fg(ah.UseNavigateStable),t=ih(lh.UseNavigateStable),n=f.useRef(!1);return nh(()=>{n.current=!0}),f.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Sa({fromRouteId:t},l)))},[e,t])}const Cd={};function Wg(e,t,n){Cd[e]||(Cd[e]=!0)}function Hg(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function nu(e){let{to:t,replace:n,state:r,relative:s}=e;ls()||ve(!1);let{future:l,static:i}=f.useContext(Pn),{matches:u}=f.useContext(Ot),{pathname:c}=Rn(),p=en(),x=ic(t,lc(u,l.v7_relativeSplatPath),c,s==="path"),w=JSON.stringify(x);return f.useEffect(()=>p(JSON.parse(w),{replace:n,state:r,relative:s}),[p,w,s,n,r]),null}function Qg(e){return Tg(e.context)}function Je(e){ve(!1)}function qg(e){let{basename:t="/",children:n=null,location:r,navigationType:s=pn.Pop,navigator:l,static:i=!1,future:u}=e;ls()&&ve(!1);let c=t.replace(/^\/*/,"/"),p=f.useMemo(()=>({basename:c,navigator:l,static:i,future:Sa({v7_relativeSplatPath:!1},u)}),[c,u,l,i]);typeof r=="string"&&(r=as(r));let{pathname:x="/",search:w="",hash:N="",state:C=null,key:P="default"}=r,_=f.useMemo(()=>{let I=ac(x,c);return I==null?null:{location:{pathname:I,search:w,hash:N,state:C,key:P},navigationType:s}},[c,x,w,N,C,P,s]);return _==null?null:f.createElement(Pn.Provider,{value:p},f.createElement(yi.Provider,{children:n,value:_}))}function Kg(e){let{children:t,location:n}=e;return Ag(ru(t),n)}new Promise(()=>{});function ru(e,t){t===void 0&&(t=[]);let n=[];return f.Children.forEach(e,(r,s)=>{if(!f.isValidElement(r))return;let l=[...t,s];if(r.type===f.Fragment){n.push.apply(n,ru(r.props.children,l));return}r.type!==Je&&ve(!1),!r.props.index||!r.props.children||ve(!1);let i={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=ru(r.props.children,l)),n.push(i)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function su(){return su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},su.apply(this,arguments)}function Gg(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Yg(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Jg(e,t){return e.button===0&&(!t||t==="_self")&&!Yg(e)}const Zg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Xg="6";try{window.__reactRouterVersion=Xg}catch{}const ex="startTransition",_d=Vh[ex];function tx(e){let{basename:t,children:n,future:r,window:s}=e,l=f.useRef();l.current==null&&(l.current=tg({window:s,v5Compat:!0}));let i=l.current,[u,c]=f.useState({action:i.action,location:i.location}),{v7_startTransition:p}=r||{},x=f.useCallback(w=>{p&&_d?_d(()=>c(w)):c(w)},[c,p]);return f.useLayoutEffect(()=>i.listen(x),[i,x]),f.useEffect(()=>Hg(r),[r]),f.createElement(qg,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:i,future:r})}const nx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Xn=f.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:i,state:u,target:c,to:p,preventScrollReset:x,viewTransition:w}=t,N=Gg(t,Zg),{basename:C}=f.useContext(Pn),P,_=!1;if(typeof p=="string"&&rx.test(p)&&(P=p,nx))try{let y=new URL(window.location.href),E=p.startsWith("//")?new URL(y.protocol+p):new URL(p),R=ac(E.pathname,C);E.origin===y.origin&&R!=null?p=R+E.search+E.hash:_=!0}catch{}let I=_g(p,{relative:s}),v=sx(p,{replace:i,state:u,target:c,preventScrollReset:x,relative:s,viewTransition:w});function m(y){r&&r(y),y.defaultPrevented||v(y)}return f.createElement("a",su({},N,{href:P||I,onClick:_||l?r:m,ref:n,target:c}))});var Pd;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Pd||(Pd={}));var Rd;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Rd||(Rd={}));function sx(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:i,viewTransition:u}=t===void 0?{}:t,c=en(),p=Rn(),x=sh(e,{relative:i});return f.useCallback(w=>{if(Jg(w,n)){w.preventDefault();let N=r!==void 0?r:ni(p)===ni(x);c(e,{replace:N,state:s,preventScrollReset:l,relative:i,viewTransition:u})}},[p,c,x,r,s,n,e,l,i,u])}const wi="chat_auth";function oh(e,t){localStorage.setItem(wi,JSON.stringify({token:e,user:t}))}function _t(){const e=localStorage.getItem(wi);if(!e)return null;try{return JSON.parse(e).token}catch{return null}}function bi(){const e=localStorage.getItem(wi);if(!e)return null;try{return JSON.parse(e).user}catch{return null}}function uh(){localStorage.removeItem(wi)}function ax(){try{if(typeof window<"u"){const{origin:e,location:t}=window,n=(t==null?void 0:t.hostname)||"";return n==="localhost"||n==="127.0.0.1"?"http://localhost:3000/api":`${String(e).replace(/\/$/,"")}/api`}}catch{}return"http://localhost:3000/api"}const Pt=ax(),ch=Pt.replace(/\/?api$/,""),W={get:e=>fetch(`${Pt}${e}`,{headers:{Authorization:`Bearer ${_t()}`}}).then(Wt),post:(e,t)=>fetch(`${Pt}${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_t()}`},body:JSON.stringify(t)}).then(Wt),patch:(e,t)=>fetch(`${Pt}${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_t()}`},body:JSON.stringify(t)}).then(Wt),del:e=>fetch(`${Pt}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${_t()}`}}).then(Wt),upload:(e,t)=>fetch(`${Pt}${e}`,{method:"POST",headers:{Authorization:`Bearer ${_t()}`},body:t}).then(Wt),uploadPatch:(e,t)=>fetch(`${Pt}${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${_t()}`},body:t}).then(Wt),delete:e=>fetch(`${Pt}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${_t()}`}}).then(Wt)},lx={post:(e,t)=>fetch(`${Pt}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(Wt),upload:(e,t)=>fetch(`${Pt}${e}`,{method:"POST",body:t}).then(Wt)};function Vt(e){return!e||/^https?:\/\//i.test(e)?e:`${ch.replace(/\/$/,"")}${e}`}async function Wt(e){if(!e.ok){const n=await e.text();let r;try{r=JSON.parse(n).error||n}catch{r=n}if(e.status===401){try{uh()}catch{}try{typeof window<"u"&&window.location.assign("/login")}catch{}throw new Error(r||"Sesso expirada. Faa login novamente.")}throw new Error(r||"Erro de requisio")}return(e.headers.get("content-type")||"").includes("application/json")?e.json():e.text()}const It=Object.create(null);It.open="0";It.close="1";It.ping="2";It.pong="3";It.message="4";It.upgrade="5";It.noop="6";const _l=Object.create(null);Object.keys(It).forEach(e=>{_l[It[e]]=e});const au={type:"error",data:"parser error"},dh=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",fh=typeof ArrayBuffer=="function",ph=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,uc=({type:e,data:t},n,r)=>dh&&t instanceof Blob?n?r(t):Td(t,r):fh&&(t instanceof ArrayBuffer||ph(t))?n?r(t):Td(new Blob([t]),r):r(It[e]+(t||"")),Td=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function Ad(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let no;function ix(e,t){if(dh&&e.data instanceof Blob)return e.data.arrayBuffer().then(Ad).then(t);if(fh&&(e.data instanceof ArrayBuffer||ph(e.data)))return t(Ad(e.data));uc(e,!1,n=>{no||(no=new TextEncoder),t(no.encode(n))})}const Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ys=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<Ld.length;e++)Ys[Ld.charCodeAt(e)]=e;const ox=e=>{let t=e.length*.75,n=e.length,r,s=0,l,i,u,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const p=new ArrayBuffer(t),x=new Uint8Array(p);for(r=0;r<n;r+=4)l=Ys[e.charCodeAt(r)],i=Ys[e.charCodeAt(r+1)],u=Ys[e.charCodeAt(r+2)],c=Ys[e.charCodeAt(r+3)],x[s++]=l<<2|i>>4,x[s++]=(i&15)<<4|u>>2,x[s++]=(u&3)<<6|c&63;return p},ux=typeof ArrayBuffer=="function",cc=(e,t)=>{if(typeof e!="string")return{type:"message",data:hh(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:cx(e.substring(1),t)}:_l[n]?e.length>1?{type:_l[n],data:e.substring(1)}:{type:_l[n]}:au},cx=(e,t)=>{if(ux){const n=ox(e);return hh(n,t)}else return{base64:!0,data:e}},hh=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},mh="",dx=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((l,i)=>{uc(l,!1,u=>{r[i]=u,++s===n&&t(r.join(mh))})})},fx=(e,t)=>{const n=e.split(mh),r=[];for(let s=0;s<n.length;s++){const l=cc(n[s],t);if(r.push(l),l.type==="error")break}return r};function px(){return new TransformStream({transform(e,t){ix(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,r)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let ro;function fl(e){return e.reduce((t,n)=>t+n.length,0)}function pl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function hx(e,t){ro||(ro=new TextDecoder);const n=[];let r=0,s=-1,l=!1;return new TransformStream({transform(i,u){for(n.push(i);;){if(r===0){if(fl(n)<1)break;const c=pl(n,1);l=(c[0]&128)===128,s=c[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(fl(n)<2)break;const c=pl(n,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(fl(n)<8)break;const c=pl(n,8),p=new DataView(c.buffer,c.byteOffset,c.length),x=p.getUint32(0);if(x>Math.pow(2,21)-1){u.enqueue(au);break}s=x*Math.pow(2,32)+p.getUint32(4),r=3}else{if(fl(n)<s)break;const c=pl(n,s);u.enqueue(cc(l?c:ro.decode(c),t)),r=0}if(s===0||s>e){u.enqueue(au);break}}}})}const gh=4;function be(e){if(e)return mx(e)}function mx(e){for(var t in be.prototype)e[t]=be.prototype[t];return e}be.prototype.on=be.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};be.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};be.prototype.off=be.prototype.removeListener=be.prototype.removeAllListeners=be.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};be.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};be.prototype.emitReserved=be.prototype.emit;be.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};be.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ni=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),ot=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),gx="arraybuffer";function xh(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const xx=ot.setTimeout,vx=ot.clearTimeout;function ki(e,t){t.useNativeTimers?(e.setTimeoutFn=xx.bind(ot),e.clearTimeoutFn=vx.bind(ot)):(e.setTimeoutFn=ot.setTimeout.bind(ot),e.clearTimeoutFn=ot.clearTimeout.bind(ot))}const yx=1.33;function wx(e){return typeof e=="string"?bx(e):Math.ceil((e.byteLength||e.size)*yx)}function bx(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function vh(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Nx(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function kx(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let l=n[r].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class Sx extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class dc extends be{constructor(t){super(),this.writable=!1,ki(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Sx(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=cc(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Nx(t);return n.length?"?"+n:""}}class jx extends dc{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};fx(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,dx(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=vh()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let yh=!1;try{yh=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Ex=yh;function Cx(){}class _x extends jx{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Lt extends be{constructor(t,n,r){super(),this.createRequest=t,ki(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=xh(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Lt.requestsCount++,Lt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Cx,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Lt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Lt.requestsCount=0;Lt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Id);else if(typeof addEventListener=="function"){const e="onpagehide"in ot?"pagehide":"unload";addEventListener(e,Id,!1)}}function Id(){for(let e in Lt.requests)Lt.requests.hasOwnProperty(e)&&Lt.requests[e].abort()}const Px=function(){const e=wh({xdomain:!1});return e&&e.responseType!==null}();class Rx extends _x{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Px&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Lt(wh,this.uri(),t)}}function wh(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Ex))return new XMLHttpRequest}catch{}if(!t)try{return new ot[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const bh=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Tx extends dc{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=bh?{}:xh(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;uc(r,this.supportsBinary,l=>{try{this.doWrite(r,l)}catch{}s&&Ni(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=vh()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const so=ot.WebSocket||ot.MozWebSocket;class Ax extends Tx{createSocket(t,n,r){return bh?new so(t,n,r):n?new so(t,n):new so(t)}doWrite(t,n){this.ws.send(n)}}class Lx extends dc{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=hx(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=px();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const l=()=>{r.read().then(({done:u,value:c})=>{u||(this.onPacket(c),l())}).catch(u=>{})};l();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Ni(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Ix={websocket:Ax,webtransport:Lx,polling:Rx},Ox=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ux=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function lu(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=Ox.exec(e||""),l={},i=14;for(;i--;)l[Ux[i]]=s[i]||"";return n!=-1&&r!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Dx(l,l.path),l.queryKey=$x(l,l.query),l}function Dx(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function $x(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,l){s&&(n[s]=l)}),n}const iu=typeof addEventListener=="function"&&typeof removeEventListener=="function",Pl=[];iu&&addEventListener("offline",()=>{Pl.forEach(e=>e())},!1);class kn extends be{constructor(t,n){if(super(),this.binaryType=gx,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=lu(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=lu(n.host).host);ki(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=kx(this.opts.query)),iu&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Pl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=gh,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&kn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",kn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=wx(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ni(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const l={type:t,data:n,options:r};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(kn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),iu&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Pl.indexOf(this._offlineEventListener);r!==-1&&Pl.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}kn.protocol=gh;class Fx extends kn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;kn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",w=>{if(!r)if(w.type==="pong"&&w.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;kn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(x(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const N=new Error("probe error");N.transport=n.name,this.emitReserved("upgradeError",N)}}))};function l(){r||(r=!0,x(),n.close(),n=null)}const i=w=>{const N=new Error("probe error: "+w);N.transport=n.name,l(),this.emitReserved("upgradeError",N)};function u(){i("transport closed")}function c(){i("socket closed")}function p(w){n&&w.name!==n.name&&l()}const x=()=>{n.removeListener("open",s),n.removeListener("error",i),n.removeListener("close",u),this.off("close",c),this.off("upgrading",p)};n.once("open",s),n.once("error",i),n.once("close",u),this.once("close",c),this.once("upgrading",p),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let zx=class extends Fx{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Ix[s]).filter(s=>!!s)),super(t,r)}};function Bx(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=lu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const l=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+l+":"+r.port+t,r.href=r.protocol+"://"+l+(n&&n.port===r.port?"":":"+r.port),r}const Mx=typeof ArrayBuffer=="function",Vx=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,Nh=Object.prototype.toString,Wx=typeof Blob=="function"||typeof Blob<"u"&&Nh.call(Blob)==="[object BlobConstructor]",Hx=typeof File=="function"||typeof File<"u"&&Nh.call(File)==="[object FileConstructor]";function fc(e){return Mx&&(e instanceof ArrayBuffer||Vx(e))||Wx&&e instanceof Blob||Hx&&e instanceof File}function Rl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Rl(e[n]))return!0;return!1}if(fc(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Rl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Rl(e[n]))return!0;return!1}function Qx(e){const t=[],n=e.data,r=e;return r.data=ou(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ou(e,t){if(!e)return e;if(fc(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ou(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ou(e[r],t));return n}return e}function qx(e,t){return e.data=uu(e.data,t),delete e.attachments,e}function uu(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=uu(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=uu(e[n],t));return e}const Kx=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],Gx=5;var Z;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Z||(Z={}));class Yx{constructor(t){this.replacer=t}encode(t){return(t.type===Z.EVENT||t.type===Z.ACK)&&Rl(t)?this.encodeAsBinary({type:t.type===Z.EVENT?Z.BINARY_EVENT:Z.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===Z.BINARY_EVENT||t.type===Z.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=Qx(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function Od(e){return Object.prototype.toString.call(e)==="[object Object]"}class pc extends be{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===Z.BINARY_EVENT;r||n.type===Z.BINARY_ACK?(n.type=r?Z.EVENT:Z.ACK,this.reconstructor=new Jx(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(fc(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(Z[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Z.BINARY_EVENT||r.type===Z.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const i=t.substring(l,n);if(i!=Number(i)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(i)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(l,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const l=n+1;for(;++n;){const i=t.charAt(n);if(i==null||Number(i)!=i){--n;break}if(n===t.length)break}r.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(pc.isPayloadValid(r.type,l))r.data=l;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case Z.CONNECT:return Od(n);case Z.DISCONNECT:return n===void 0;case Z.CONNECT_ERROR:return typeof n=="string"||Od(n);case Z.EVENT:case Z.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&Kx.indexOf(n[0])===-1);case Z.ACK:case Z.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Jx{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=qx(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const Zx=Object.freeze(Object.defineProperty({__proto__:null,Decoder:pc,Encoder:Yx,get PacketType(){return Z},protocol:Gx},Symbol.toStringTag,{value:"Module"}));function vt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Xx=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class kh extends be{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[vt(t,"open",this.onopen.bind(this)),vt(t,"packet",this.onpacket.bind(this)),vt(t,"error",this.onerror.bind(this)),vt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,l;if(Xx.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const i={type:Z.EVENT,data:n};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const x=this.ids++,w=n.pop();this._registerAckCallback(x,w),i.id=x}const u=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!u||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);n.call(this,new Error("operation has timed out"))},s),i=(...u)=>{this.io.clearTimeoutFn(l),n.apply(this,u)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...n){return new Promise((r,s)=>{const l=(i,u)=>i?s(i):r(u);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...l)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...l)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Z.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Z.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Z.EVENT:case Z.BINARY_EVENT:this.onevent(t);break;case Z.ACK:case Z.BINARY_ACK:this.onack(t);break;case Z.DISCONNECT:this.ondisconnect();break;case Z.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:Z.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Z.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function is(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}is.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};is.prototype.reset=function(){this.attempts=0};is.prototype.setMin=function(e){this.ms=e};is.prototype.setMax=function(e){this.max=e};is.prototype.setJitter=function(e){this.jitter=e};class cu extends be{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,ki(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new is({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||Zx;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new zx(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=vt(n,"open",function(){r.onopen(),t&&t()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},i=vt(n,"error",l);if(this._timeout!==!1){const u=this._timeout,c=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),n.close()},u);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(vt(t,"ping",this.onping.bind(this)),vt(t,"data",this.ondata.bind(this)),vt(t,"error",this.onerror.bind(this)),vt(t,"close",this.onclose.bind(this)),vt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ni(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new kh(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const Vs={};function Tl(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Bx(e,t.path||"/socket.io"),r=n.source,s=n.id,l=n.path,i=Vs[s]&&l in Vs[s].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return u?c=new cu(r,t):(Vs[s]||(Vs[s]=new cu(r,t)),c=Vs[s]),n.query&&!t.query&&(t.query=n.queryKey),c.socket(n.path,t)}Object.assign(Tl,{Manager:cu,Socket:kh,io:Tl,connect:Tl});let ao;function Rr(){if(!ao){const e=ch||(typeof window<"u"?window.location.origin:"");ao=Tl(e,{path:"/socket.io",withCredentials:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3})}return ao}async function ev(){if(typeof window<"u"&&window.JsSIP)return window.JsSIP;await new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/jssip@3/dist/jssip.min.js",n.async=!0,n.onload=()=>e(),n.onerror=()=>t(new Error("Falha ao carregar JsSIP via CDN")),document.head.appendChild(n)});try{window.JsSIP.debug.enable("JsSIP:*")}catch{}return window.JsSIP}async function tv({wsUrl:e,domain:t,extension:n,password:r,iceServers:s}){const l=await ev(),u={sockets:[new l.WebSocketInterface(e)],uri:`sip:${n}@${t}`,authorization_user:n,password:r,register:!0,register_expires:300,session_timers:!1},c=new l.UA(u);let p=null,x=!1;function w(m,y){c.on(m,y)}function N(){return new Promise(m=>{const y=()=>{x=!0,R(),m()},E=()=>{R(),m()};function R(){try{c.off("registered",y)}catch{}try{c.off("registrationFailed",E)}catch{}}c.on("registered",y),c.on("registrationFailed",E);try{c.start()}catch{m()}})}function C(){return x}function P(m,{onProgress:y,onAccepted:E,onEnded:R,onFailed:U,onTrack:$,audioDeviceId:B}={}){return new Promise((A,T)=>{const X={eventHandlers:{progress:D=>{y&&y(D)},failed:D=>{p=null,U&&U(D),A(!1)},ended:D=>{p=null,R&&R(D),A(!1)},confirmed:D=>{E&&E(D),A(!0)}},mediaConstraints:{audio:B?{deviceId:{exact:B}}:!0,video:!1},pcConfig:{iceServers:s||[],iceTransportPolicy:"all"}};try{p=c.call(/^sip:/i.test(m)?m:`sip:${m}@${t}`,X);try{p.connection.addEventListener("track",D=>{const[K]=D.streams;$&&$(K)}),p.connection.addEventListener("iceconnectionstatechange",()=>{})}catch{}}catch(D){T(D)}})}async function _(m){try{if(!p||!p.connection)return!1;const E=(await navigator.mediaDevices.getUserMedia({audio:m?{deviceId:{exact:m}}:!0})).getAudioTracks()[0];if(!E)return!1;const R=p.connection.getSenders().find(U=>U.track&&U.track.kind==="audio");return R&&await R.replaceTrack(E),!0}catch{return!1}}function I(m){var y;try{(y=p==null?void 0:p.sendDTMF)==null||y.call(p,String(m||"").substring(0,1))}catch{}}function v(){try{p==null||p.terminate()}catch{}p=null}return{ua:c,start:N,isRegistered:C,call:P,hangup:v,on:w,dtmf:I,setAudioDevice:_}}let ee=null,hl=!1,Ws=null,lo=null;function Hs(e){try{localStorage.setItem("sip_registered",e?"1":"0"),window.dispatchEvent(new CustomEvent("sip:reg",{detail:{registered:e}}))}catch{}}function io(e=3e3){lo||(lo=setTimeout(()=>{lo=null;try{Sh().catch(()=>{})}catch{}},e))}function nv(){const e=[];try{const n=void 0,r=void 0,s=void 0}catch{}return e.length||e.push({urls:"stun:stun.l.google.com:19302"}),e}async function Sh(){return hl?ee:Ws||(Ws=(async()=>{var e;try{const t="wss://202106.maisfone.com.br:7443/ws",n=await W.get("/phone/me").catch(()=>null);if(!n||!n.hasPassword||!n.domain||!n.extension)return hl=!0,null;if(ee=await tv({wsUrl:t,domain:n.domain,extension:n.extension,password:n.password||"",iceServers:nv()}),ee!=null&&ee.on){try{ee.on("registered",()=>Hs(!0))}catch{}try{ee.on("unregistered",()=>Hs(!1))}catch{}try{ee.on("registrationFailed",()=>{Hs(!1),io(5e3)})}catch{}try{ee.on("disconnected",()=>{Hs(!1),io(3e3)})}catch{}}await ee.start(),Hs(!!((e=ee==null?void 0:ee.isRegistered)!=null&&e.call(ee)));try{document.addEventListener("visibilitychange",()=>{var r,s;(r=ee==null?void 0:ee.isRegistered)!=null&&r.call(ee)||(s=ee.start)==null||s.call(ee).catch(()=>{})})}catch{}try{window.addEventListener("online",()=>{var r;(r=ee==null?void 0:ee.start)==null||r.call(ee).catch(()=>{})})}catch{}try{setInterval(()=>{var r;try{(r=ee==null?void 0:ee.ua)!=null&&r.register&&ee.ua.register()}catch{}},24e4)}catch{}return hl=!0,ee}catch{return hl=!1,io(5e3),null}finally{Ws=null}})(),Ws)}function rv(){return ee}function sv(){const e=en(),t=Rn(),n=bi(),r=j=>{try{j?localStorage.setItem("notif_sound_url",j):localStorage.removeItem("notif_sound_url"),window.dispatchEvent(new Event("chat:alertSoundUpdated"))}catch{}},[s,l]=f.useState(0);f.useEffect(()=>{const j=()=>l(M=>M+1);return window.addEventListener("chat:userUpdated",j),()=>window.removeEventListener("chat:userUpdated",j)},[]),f.useEffect(()=>{const j=()=>{const Q=localStorage.getItem("chat_wallpaper")||"";Q?document.documentElement.style.setProperty("--chat-wallpaper",`url('${Q}')`):document.documentElement.style.removeProperty("--chat-wallpaper")};j(),window.addEventListener("chat:wallpaperUpdated",j);const M=Q=>r(Q);return(async()=>{try{const Q=(window.location.origin+"/api").replace(/\/$/,""),J=await fetch(Q+"/admin/config/public");if(!J.ok)return;const ne=await J.json();!!!localStorage.getItem("chat_wallpaper")&&(ne!=null&&ne.chatWallpaperUrl)&&document.documentElement.style.setProperty("--chat-wallpaper",`url('${ne.chatWallpaperUrl}')`),Object.prototype.hasOwnProperty.call(ne||{},"alertSoundUrl")&&M((ne==null?void 0:ne.alertSoundUrl)||"")}catch{}})(),()=>window.removeEventListener("chat:wallpaperUpdated",j)},[]),f.useEffect(()=>{const j=Rr(),M=(Q={})=>{r((Q==null?void 0:Q.url)||"")};return j.on("config:alert-sound",M),()=>j.off("config:alert-sound",M)},[]),f.useEffect(()=>{Sh().catch(()=>{})},[]);const i=()=>{uh(),e("/login")},[u,c]=f.useState(!1),[p,x]=f.useState(()=>localStorage.getItem("chat_status")||"online"),w=j=>{x(j),localStorage.setItem("chat_status",j)},[N,C]=f.useState(()=>localStorage.getItem("theme")||"light"),[P,_]=f.useState(()=>localStorage.getItem("chat_bg")||"whatsapp"),[I,v]=f.useState(!1),[m,y]=f.useState(!0),[E,R]=f.useState(()=>localStorage.getItem("chat_icon")||""),U=f.useRef(null),[$,B]=f.useState(!1),[A,T]=f.useState(""),[q,X]=f.useState(""),D=f.useRef(null),K=f.useCallback(j=>{D.current=j},[]);f.useEffect(()=>{const j=document.documentElement,M=document.body;N==="dark"?(j.classList.add("dark"),M.classList.add("dark")):(j.classList.remove("dark"),M.classList.remove("dark")),localStorage.setItem("theme",N)},[N]),f.useEffect(()=>{const j=document.body;try{j.setAttribute("data-chat-bg",P)}catch{}localStorage.setItem("chat_bg",P)},[P]),f.useEffect(()=>{const j=()=>R(localStorage.getItem("chat_icon")||""),M=()=>_(localStorage.getItem("chat_bg")||"whatsapp");return window.addEventListener("chat:iconUpdated",j),window.addEventListener("chat:bgUpdated",M),(async()=>{try{if(!(localStorage.getItem("chat_icon")||"")){const J=await fetch(`${window.location.origin}/api/admin/config/public`);if(J.ok){const ne=await J.json();ne!=null&&ne.chatIconUrl&&R(ne.chatIconUrl)}}}catch{}})(),()=>{window.removeEventListener("chat:iconUpdated",j),window.removeEventListener("chat:bgUpdated",M)}},[]),f.useEffect(()=>{if(!u)return;const j=M=>{const Q=D.current;Q&&(Q.contains(M.target)||c(!1))};return document.addEventListener("mousedown",j),document.addEventListener("touchstart",j),()=>{document.removeEventListener("mousedown",j),document.removeEventListener("touchstart",j)}},[u]);const te=async j=>{var Q,J;const M=(Q=j.target.files)==null?void 0:Q[0];if(M){if(!((J=M.type)!=null&&J.startsWith("image/"))){X("Escolha um arquivo de imagem"),j.target.value="";return}T(""),X(""),B(!0);try{const ne=new FormData;ne.append("avatar",M);const Se=await W.uploadPatch("/users/me",ne),Me=(Se==null?void 0:Se.user)||Se;if(Me!=null&&Me.avatarUrl){try{const Ae=localStorage.getItem("chat_auth");if(Ae){const je=JSON.parse(Ae);je.user={...je.user||{},avatarUrl:Me.avatarUrl},localStorage.setItem("chat_auth",JSON.stringify(je))}}catch{}window.dispatchEvent(new Event("chat:userUpdated")),T("Foto atualizada com sucesso")}else T("Foto atualizada");c(!1)}catch(ne){X((ne==null?void 0:ne.message)||"Falha ao enviar foto")}finally{B(!1),j.target.value=""}}},ge=()=>{var j;X(""),T(""),(j=U.current)==null||j.click()},Ye=j=>a.jsxs("div",{className:`${j} w-64 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded shadow-lg p-3 z-50`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Preferencias"}),a.jsx("button",{type:"button",onClick:()=>c(!1),className:"inline-flex w-6 h-6 items-center justify-center rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Fechar menu",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:a.jsx("path",{d:"m6.225 4.811 13.964 13.964-1.061 1.06L5.164 5.871l1.061-1.06Zm11.55 0 1.06 1.06L4.87 19.386l-1.06-1.06L17.776 4.81Z"})})})]}),a.jsx("div",{className:"mt-3 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Status"}),a.jsxs("div",{className:"flex flex-wrap gap-2 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>w("online"),className:`px-2 py-1 rounded text-sm ${p==="online"?"bg-green-100 text-green-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Online"}),a.jsx("button",{onClick:()=>w("ausente"),className:`px-2 py-1 rounded text-sm ${p==="ausente"?"bg-yellow-100 text-yellow-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Ausente"}),a.jsx("button",{onClick:()=>w("offline"),className:`px-2 py-1 rounded text-sm ${p==="offline"?"bg-slate-100 text-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Offline"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Tema"}),a.jsxs("div",{className:"flex gap-2 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>C("light"),className:`px-2 py-1 rounded text-sm ${N==="light"?"bg-slate-100 text-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Claro"}),a.jsx("button",{onClick:()=>C("dark"),className:`px-2 py-1 rounded text-sm ${N==="dark"?"bg-slate-700 text-white":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Escuro"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Foto"}),a.jsxs("button",{type:"button",onClick:()=>{c(!1),ge()},className:"w-full inline-flex items-center justify-center gap-2 px-2 py-1.5 rounded border border-slate-300 dark:border-slate-600 text-sm hover:bg-slate-50 dark:hover:bg-slate-700/60 disabled:opacity-50",disabled:$,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:a.jsx("path",{d:"M9 3.75A.75.75 0 0 1 9.75 3h4.5a.75.75 0 0 1 .707.493l.401 1.12h2.192A1.95 1.95 0 0 1 19.5 6.563l.75 2.25A2.25 2.25 0 0 1 21 9.75v7.5A3.75 3.75 0 0 1 17.25 21h-10.5A3.75 3.75 0 0 1 3 17.25v-7.5a2.25 2.25 0 0 1 .75-1.688l.75-2.25A1.95 1.95 0 0 1 6.45 4.5h2.192l.401-1.12A.75.75 0 0 1 9 3.75ZM12 8.25a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Zm0 1.5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Z"})}),a.jsx("span",{children:$?"Enviando...":"Alterar foto"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsxs("div",{className:"flex flex-col gap-1 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>{c(!1),e("/")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Ir para Chat"}),(n==null?void 0:n.isAdmin)&&a.jsx("button",{onClick:()=>{c(!1),e("/admin")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Ir para Admin"}),a.jsx("button",{onClick:()=>{c(!1),e("/profile")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Editar perfil"}),a.jsx("button",{onClick:()=>{c(!1),i()},className:"px-2 py-1.5 text-sm text-red-600 rounded hover:bg-red-50 dark:hover:bg-red-900/30 text-left",children:"Sair"})]})]}),z=j=>t.pathname===j?"text-blue-600 font-semibold":"text-slate-700 hover:text-blue-600";return a.jsxs("div",{className:"flex h-screen overflow-x-hidden bg-slate-50 dark:bg-slate-900 dark:text-slate-100",children:[a.jsx("button",{type:"button",className:"md:hidden fixed top-3 left-3 z-40 inline-flex items-center justify-center w-10 h-10 rounded-md bg-white/90 dark:bg-slate-800/90 border border-slate-200 dark:border-slate-700 shadow","aria-label":"Abrir menu",onClick:()=>v(!0),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:a.jsx("path",{d:"M3.75 6.75h16.5v1.5H3.75v-1.5Zm0 4.5h16.5v1.5H3.75v-1.5Zm0 4.5h16.5v1.5H3.75v-1.5Z"})})}),I&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 md:hidden",onClick:()=>v(!1)}),a.jsxs("aside",{className:`fixed md:static inset-y-0 left-0 w-16 md:w-16 border-r border-slate-200 dark:border-slate-700 p-4 bg-white dark:bg-slate-800 flex flex-col z-40 transform transition-transform duration-200 ${I?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[m?E?a.jsx("img",{src:E,alt:"cone do chat",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300"}):a.jsxs("div",{className:"flex items-center gap-2",children:[E&&a.jsx("img",{src:E,alt:"cone",className:"w-6 h-6 rounded object-cover"}),a.jsx("h3",{className:"font-semibold text-xl",children:"Chat Farmacon"})]}),a.jsxs("div",{className:"relative group hidden",children:[a.jsx("button",{type:"button",className:"inline-flex w-8 h-8 items-center justify-center rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700/60",title:m?"Expandir":"Recolher",onClick:()=>{const j=!m;y(j);try{localStorage.setItem("sidebar_mini",j?"1":"0")}catch{}},children:m?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M4.5 12h15v1.5h-15V12Zm0-4.5h9V9h-9V7.5Zm0 9h9V18h-9v-1.5Z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M9 6h10v1.5H9V6Zm0 10.5h10V18H9v-1.5ZM9 11.25h10v1.5H9v-1.5ZM5 6h2v12H5V6Z"})})}),a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:m?"Expandir":"Recolher"})]})]}),a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Ola, ",n==null?void 0:n.name]}),!m&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Ola, ",n==null?void 0:n.name]}),a.jsxs("nav",{className:"mt-4 flex flex-col gap-2",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs(Xn,{title:"Conversas",className:`px-2 py-2 rounded flex items-center gap-2 ${z("/conversas")}`,to:"/conversas",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M3 5.25A2.25 2.25 0 0 1 5.25 3h8.5A2.25 2.25 0 0 1 16 5.25v6.5A2.25 2.25 0 0 1 13.75 14H8l-3.5 3.5V5.25Z"})}),!m&&a.jsx("span",{children:"Conversas"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Conversas"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs(Xn,{title:"Telefonia",className:`px-2 py-2 rounded flex items-center gap-2 ${z("/telefonia")}`,to:"/telefonia",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.25 6.75c0-1.24 1.01-2.25 2.25-2.25h3c.97 0 1.8.62 2.1 1.54l.86 2.58a2.25 2.25 0 0 1-.57 2.31l-1.21 1.21a12.06 12.06 0 0 0 4.88 4.88l1.21-1.21a2.25 2.25 0 0 1 2.31-.57l2.58.86c.92.3 1.54 1.13 1.54 2.1v3c0 1.24-1.01 2.25-2.25 2.25H18c-8.28 0-15-6.72-15-15v-3Z"})}),!m&&a.jsx("span",{children:"Telefonia"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Telefonia"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs(Xn,{title:"Reunies",className:`px-2 py-2 rounded flex items-center gap-2 ${z("/reunioes")}`,to:"/reunioes",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h7.5A2.25 2.25 0 0 1 15.75 6v3.75L20.47 7.1c.91-.52 2.03.14 2.03 1.18v7.44c0 1.04-1.12 1.7-2.03 1.18l-4.72-2.65V18A2.25 2.25 0 0 1 13.5 20.25H6A2.25 2.25 0 0 1 3.75 18V6Z"})}),!m&&a.jsx("span",{children:"Reunies"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Reunies"})]}),(n==null?void 0:n.isAdmin)&&a.jsxs("div",{className:"relative group",children:[a.jsxs(Xn,{title:"Admin",className:`px-2 py-2 rounded flex items-center gap-2 ${z("/admin")}`,to:"/admin",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 2.25 3.75 6v5.25c0 5.108 3.66 9.837 8.625 10.5 4.965-.663 8.625-5.392 8.625-10.5V6L12 2.25Zm0 5.25a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm0 12a7.5 7.5 0 0 1-6-3.09c.03-1.982 4.5-3.06 6-3.06s5.97 1.078 6 3.06A7.5 7.5 0 0 1 12 19.5Z"})}),!m&&a.jsx("span",{children:"Admin"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Admin"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs(Xn,{title:"Contatos",className:`px-2 py-2 rounded flex items-center gap-2 ${z("/contatos")}`,to:"/contatos",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M5.25 3A2.25 2.25 0 0 0 3 5.25v13.5A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V5.25A2.25 2.25 0 0 0 18.75 3H5.25Zm6.75 4.5a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm0 6c2.209 0 4.5 1.122 4.5 2.5V17H7.5v-1c0-1.378 2.291-2.5 4.5-2.5Z"})}),!m&&a.jsx("span",{children:"Contatos"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Contatos"})]})]}),a.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("input",{ref:U,type:"file",accept:"image/*",className:"hidden",onChange:te}),m?a.jsxs("div",{ref:K,className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>c(j=>!j),className:"relative inline-flex items-center justify-center w-10 h-10 rounded-full border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 hover:ring-2 hover:ring-blue-500/30","aria-label":"Abrir menu do perfil",children:[a.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:n!=null&&n.avatarUrl?a.jsx("img",{src:n.avatarUrl,alt:"avatar",className:"w-full h-full object-cover",onError:j=>{j.currentTarget.style.display="none"}}):a.jsx("div",{className:"w-full h-full bg-slate-300"})}),a.jsx("span",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white dark:border-slate-800 ${p==="online"?"bg-green-500":p==="ausente"?"bg-yellow-500":"bg-slate-400"}`})]}),u&&Ye("fixed left-4 bottom-20")]}),$&&a.jsx("span",{className:"text-[10px] text-slate-500",children:"Enviando..."}),A&&a.jsx("span",{className:"text-[10px] text-green-600 text-center max-w-[64px]",children:A}),q&&a.jsx("span",{className:"text-[10px] text-red-600 text-center max-w-[64px]",children:q})]}):a.jsxs("div",{ref:K,className:"relative flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-14 h-14 rounded-full border border-slate-300 dark:border-slate-600 overflow-hidden bg-slate-200 flex items-center justify-center",children:n!=null&&n.avatarUrl?a.jsx("img",{src:n.avatarUrl,alt:"avatar",className:"w-full h-full object-cover",onError:j=>{j.currentTarget.style.display="none"}}):a.jsx("span",{className:"text-sm text-slate-500",children:"Sem foto"})}),a.jsx("span",{className:`absolute bottom-0 right-0 w-3.5 h-3.5 rounded-full border-2 border-white dark:border-slate-800 ${p==="online"?"bg-green-500":p==="ausente"?"bg-yellow-500":"bg-slate-400"}`})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"font-semibold text-sm truncate",children:(n==null?void 0:n.name)||"Meu perfil"}),a.jsxs("div",{className:"text-xs text-slate-500 capitalize",children:["Status: ",p]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("button",{type:"button",onClick:()=>c(j=>!j),className:"px-2 py-1 rounded border border-slate-300 dark:border-slate-600 text-xs hover:bg-slate-50 dark:hover:bg-slate-700/60",children:"Preferencias"}),a.jsx("button",{type:"button",onClick:()=>e("/profile"),className:"px-2 py-1 rounded border border-slate-300 dark:border-slate-600 text-xs hover:bg-slate-50 dark:hover:bg-slate-700/60",children:"Editar perfil"}),a.jsx("button",{type:"button",onClick:i,className:"px-2 py-1 rounded border border-red-200 text-xs text-red-600 hover:bg-red-50 dark:hover:bg-red-900/30",children:"Sair"})]}),$&&a.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Enviando foto..."}),A&&a.jsx("div",{className:"text-xs text-green-600 mt-1 truncate",children:A}),q&&a.jsx("div",{className:"text-xs text-red-600 mt-1 truncate",children:q})]}),u&&Ye("absolute right-0 top-full mt-2")]})]})]}),a.jsx("main",{className:"flex-1 overflow-hidden",children:a.jsx(Qg,{})})]})}function av(){const e=en(),t=Rn(),[n,r]=f.useState(""),[s,l]=f.useState(""),[i,u]=f.useState(!1),[c,p]=f.useState(!1),[x,w]=f.useState(""),[N,C]=f.useState(!1),[P,_]=f.useState("");f.useEffect(()=>{try{const v=localStorage.getItem("theme")||(matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.classList.toggle("dark",v==="dark");const m=localStorage.getItem("rememberedEmail");m&&(r(m),u(!0))}catch{}},[]),f.useEffect(()=>{try{new URLSearchParams((t==null?void 0:t.search)||"").get("registered")==="1"?w("Conta criada com sucesso! Faa login com suas credenciais."):w("")}catch{w("")}},[t]);async function I(v){v.preventDefault(),C(!0),w(""),_("");try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(n))throw new Error("Informe um e-mail vlido");if(!s||s.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const y=await W.post("/auth/login",{email:n,password:s});oh(y.token,y.user);try{i?localStorage.setItem("rememberedEmail",n):localStorage.removeItem("rememberedEmail")}catch{}e("/")}catch(m){_(m.message||"Falha no login")}finally{C(!1)}}return a.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"absolute -top-32 -left-24 h-72 w-72 rounded-full bg-emerald-500/30 blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-8rem] right-[-6rem] h-96 w-96 rounded-full bg-blue-500/25 blur-3xl"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(56,189,248,0.18),transparent_55%)]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(15,23,42,0.6),rgba(15,23,42,0.9))]"})]}),a.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"grid w-full max-w-5xl gap-12 rounded-[2.5rem] border border-white/5 bg-white/5 p-8 shadow-[0_20px_70px_-30px_rgba(15,23,42,0.9)] backdrop-blur-lg lg:grid-cols-[1.1fr_1fr] lg:p-12",children:[a.jsxs("div",{className:"hidden flex-col justify-between lg:flex",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 w-fit rounded-full border border-white/10 bg-white/5 px-4 py-1 text-sm text-slate-200",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Plataforma omnichannel Farmachat"]}),a.jsx("h1",{className:"text-4xl font-semibold leading-tight text-white",children:"Conecte sua equipe e Participe de Grupos"}),a.jsx("p",{className:"text-lg text-slate-300",children:"Nosso chat interno conecta toda a equipe em tempo real, facilitando a troca de ideias e decises rpidas. Comunicao simples, gil e segura para aumentar a produtividade e fortalecer a colaborao."})]}),a.jsxs("div",{className:"mt-10 flex flex-col gap-4 text-sm text-slate-200/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/15 text-emerald-300",children:"01"}),"Respostas rpidas e consistentes em todos os atendimentos."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-200",children:"02"}),"Monitoramento em tempo real e histrico completo das conversas."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-500/20 text-blue-200",children:"03"}),"Segurana e privacidade alinhadas s melhores prticas do mercado."]})]})]}),a.jsxs("form",{onSubmit:I,className:"relative flex flex-col gap-6 rounded-3xl border border-white/10 bg-white/90 p-8 text-slate-900 shadow-2xl backdrop-blur dark:bg-slate-900/85 dark:text-slate-100",noValidate:!0,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/images/logo.png",alt:"Farmachat",className:"h-10 w-auto",draggable:!1}),a.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-300"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-3xl font-semibold text-slate-900 dark:text-white",children:"Bem-vindo de volta"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Acesse sua conta para continuar acompanhando suas conversas."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"E-mail"}),a.jsx("input",{id:"email",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-emerald-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"voce@empresa.com",type:"email",autoComplete:"email",autoFocus:!0,required:!0,value:n,onChange:v=>r(v.target.value)})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-emerald-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Insira sua senha",type:c?"text":"password",autoComplete:"current-password",minLength:6,required:!0,value:s,onChange:v=>l(v.target.value)}),a.jsx("button",{type:"button",onClick:()=>p(v=>!v),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center gap-2 rounded-lg border border-transparent px-3 text-xs font-medium text-emerald-600 transition hover:border-emerald-200 hover:bg-emerald-50 hover:text-emerald-700 dark:text-emerald-300 dark:hover:border-emerald-500/50 dark:hover:bg-emerald-500/10",children:c?"Ocultar":"Mostrar"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:v=>u(v.target.checked),className:"h-4 w-4 rounded border-slate-300 text-emerald-500 focus:ring-emerald-400 dark:border-slate-600"}),"Lembrar de mim"]}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Esqueceu seus dados? Fale com o administrador."})]}),x&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-emerald-300/60 bg-emerald-50 px-3 py-2 text-sm text-emerald-700 dark:border-emerald-500/40 dark:bg-emerald-500/10 dark:text-emerald-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:x})]}),P&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-300/60 bg-red-50/80 px-3 py-2 text-sm text-red-600 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:P})]}),a.jsx("button",{type:"submit",disabled:N,className:"inline-flex h-12 items-center justify-center rounded-2xl bg-gradient-to-r from-emerald-500 via-cyan-500 to-blue-500 px-6 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:shadow-2xl hover:shadow-emerald-500/40 disabled:opacity-60 disabled:shadow-none",children:N?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-300",children:["No tem conta?"," ",a.jsx(Xn,{className:"font-medium text-emerald-600 transition hover:text-emerald-500 dark:text-emerald-300 dark:hover:text-emerald-200",to:"/register",children:"Criar cadastro"})]}),a.jsx("p",{className:"text-center text-[11px] text-slate-400 dark:text-slate-500",children:"Ao continuar voc concorda com os termos de uso e poltica de privacidade da Farmachat."})]})]})})]})}function lv(){const e=en(),[t,n]=f.useState(""),[r,s]=f.useState(""),[l,i]=f.useState(""),[u,c]=f.useState(""),[p,x]=f.useState(!0),[w,N]=f.useState(!1),[C,P]=f.useState(!1),[_,I]=f.useState(!1),[v,m]=f.useState(null),[y,E]=f.useState(""),[R,U]=f.useState("");f.useEffect(()=>()=>{y&&URL.revokeObjectURL(y)},[y]);async function $(A){if(A.preventDefault(),!p){U("Confirme que leu e aceita os termos de uso.");return}if(U(""),l!==u){U("As senhas no conferem.");return}I(!0);try{const T=new FormData;T.append("name",t.trim()),T.append("email",r.trim()),T.append("password",l),v&&T.append("avatar",v),await lx.upload("/auth/register",T),e("/login?registered=1")}catch(T){U(T.message||"Falha no cadastro. Tente novamente.")}finally{I(!1)}}function B(A){var q;const T=((q=A.target.files)==null?void 0:q[0])||null;m(T),y&&URL.revokeObjectURL(y),E(T?URL.createObjectURL(T):"")}return a.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"absolute -top-28 -left-36 h-80 w-80 rounded-full bg-cyan-400/25 blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-7rem] right-[-6rem] h-96 w-96 rounded-full bg-emerald-500/25 blur-3xl"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(14,165,233,0.18),transparent_60%)]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(15,23,42,0.65),rgba(15,23,42,0.92))]"})]}),a.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"grid w-full max-w-5xl gap-10 rounded-[2.5rem] border border-white/5 bg-white/5 p-8 shadow-[0_22px_80px_-28px_rgba(14,116,144,0.8)] backdrop-blur-lg lg:grid-cols-[1.05fr_1fr] lg:p-12",children:[a.jsxs("div",{className:"hidden flex-col justify-between lg:flex",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("span",{className:"inline-flex w-fit items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-1 text-sm text-slate-200",children:[a.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Crie sua conta em minutos"]}),a.jsx("h1",{className:"text-4xl font-semibold leading-tight text-white",children:"Personalize seu atendimento com o poder do Farmachat"}),a.jsx("p",{className:"text-lg text-slate-300",children:"Gesto de equipes, dashboards inteligentes e integraes prontas para canais que o seu cliente ama usar."})]}),a.jsxs("ul",{className:"mt-10 space-y-4 text-sm text-slate-200/80",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-200",children:""}),"Fluxos automticos e organizao de filas de atendimento."]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-200",children:""}),"Biblioteca de templates, etiquetas e respostas salvas."]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500/20 text-blue-200",children:""}),"Times ilimitados, usurios convidados e permisses customizadas."]})]})]}),a.jsxs("form",{onSubmit:$,className:"relative flex flex-col gap-5 rounded-3xl border border-white/10 bg-white/90 p-8 text-slate-900 shadow-2xl backdrop-blur dark:bg-slate-900/85 dark:text-slate-100",noValidate:!0,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/images/logo.png",alt:"Farmachat",className:"h-10 w-auto",draggable:!1}),a.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-300",children:"Novo portal de atendimento"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-3xl font-semibold text-slate-900 dark:text-white",children:"Criar conta"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Preencha os dados abaixo para ativar seu espao de trabalho."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Nome completo"}),a.jsx("input",{id:"name",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Como devemos te chamar?",value:t,onChange:A=>n(A.target.value),required:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"E-mail corporativo"}),a.jsx("input",{id:"email",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"voce@empresa.com",type:"email",autoComplete:"email",value:r,onChange:A=>s(A.target.value),required:!0})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Crie uma senha",type:w?"text":"password",minLength:8,value:l,onChange:A=>i(A.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>N(A=>!A),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center rounded-lg border border-transparent px-3 text-xs font-medium text-cyan-600 transition hover:border-cyan-200 hover:bg-cyan-50 hover:text-cyan-700 dark:text-cyan-200 dark:hover:border-cyan-400/50 dark:hover:bg-cyan-500/10",children:w?"Ocultar":"Mostrar"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"confirm",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Confirmar senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"confirm",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Repita a senha",type:C?"text":"password",minLength:8,value:u,onChange:A=>c(A.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>P(A=>!A),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center rounded-lg border border-transparent px-3 text-xs font-medium text-cyan-600 transition hover:border-cyan-200 hover:bg-cyan-50 hover:text-cyan-700 dark:text-cyan-200 dark:hover:border-cyan-400/50 dark:hover:bg-cyan-500/10",children:C?"Ocultar":"Mostrar"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Foto de perfil (opcional)"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"relative h-16 w-16 overflow-hidden rounded-full border border-slate-200 bg-slate-100 dark:border-slate-700 dark:bg-slate-800",children:y?a.jsx("img",{src:y,alt:"Pr-visualizao do avatar",className:"h-full w-full object-cover"}):a.jsx("div",{className:"grid h-full w-full place-items-center text-xs text-slate-400 dark:text-slate-500",children:"sem foto"})}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3 rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-cyan-200 hover:text-cyan-600 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:border-cyan-500/60 dark:hover:text-cyan-300",children:[a.jsx("span",{children:"Carregar imagem"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:B})]})]})]}),a.jsxs("label",{className:"mt-1 inline-flex items-start gap-3 text-xs text-slate-500 dark:text-slate-300",children:[a.jsx("input",{type:"checkbox",checked:p,onChange:A=>x(A.target.checked),className:"mt-1 h-4 w-4 rounded border-slate-300 text-cyan-500 focus:ring-cyan-400 dark:border-slate-600"}),a.jsx("span",{children:"Li e concordo com os termos de uso, poltica de privacidade e boas prticas da Farmachat."})]}),R&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-300/60 bg-red-50/80 px-3 py-2 text-sm text-red-600 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:R})]}),a.jsx("button",{type:"submit",disabled:_,className:"inline-flex h-12 items-center justify-center rounded-2xl bg-gradient-to-r from-cyan-500 via-emerald-500 to-blue-500 px-6 text-sm font-semibold text-white shadow-lg shadow-cyan-500/25 transition hover:shadow-2xl hover:shadow-cyan-500/35 disabled:opacity-60 disabled:shadow-none",children:_?"Cadastrando...":"Criar minha conta"}),a.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-300",children:["J possui conta?"," ",a.jsx(Xn,{className:"font-medium text-cyan-600 transition hover:text-cyan-500 dark:text-cyan-300 dark:hover:text-cyan-200",to:"/login",children:"Entrar"})]}),a.jsx("p",{className:"text-center text-[11px] text-slate-400 dark:text-slate-500",children:"Suporte 24/7 e implementao assistida inclusos para novos clientes."})]})]})})]})}function jh(){var Ka;const[e,t]=f.useState([]),[n,r]=f.useState([]),[s,l]=f.useState([]),[i,u]=f.useState(null),[c,p]=f.useState([]),[x,w]=f.useState(""),[N,C]=f.useState(null),[P,_]=f.useState(""),[I,v]=f.useState(null),[m,y]=f.useState(!1),[E,R]=f.useState(""),[U,$]=f.useState(0),[B,A]=f.useState(!1),[T,q]=f.useState(()=>{try{return JSON.parse(localStorage.getItem("chat_pins")||"{}")}catch{return{}}}),[X,D]=f.useState(()=>{try{return JSON.parse(localStorage.getItem("chat_mutes")||"{}")}catch{return{}}}),[K,te]=f.useState(null),ge=f.useRef(null),Ye=f.useCallback(d=>{ge.current=d},[]),[z,j]=f.useState(null),[M,Q]=f.useState(""),[J,ne]=f.useState(!1),Se=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],Me=f.useRef(null),Ae=f.useRef(null),je=f.useRef(null),Tn=f.useRef(null),Ut=f.useRef(null),tn=f.useRef(null),An=f.useRef(null),se=bi();f.useEffect(()=>{if(!K)return;const d=b=>{const k=ge.current;if(!k){te(null);return}k.contains(b.target)||te(null)};return document.addEventListener("mousedown",d),document.addEventListener("touchstart",d),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("touchstart",d)}},[K]);const Ln=typeof window<"u"&&"Notification"in window,Ra=(()=>{if(!Ln)return"default";try{return Notification.permission}catch{return"default"}})(),[In,fr]=f.useState(Ra==="granted"),os=f.useRef(typeof document<"u"?document.title:"Chat"),On=f.useRef(null),st=f.useRef({url:"",buffer:null}),[us,H]=f.useState(()=>{try{return!document.hidden&&document.hasFocus()}catch{return!0}}),[Un,nn]=f.useState([]),kt=f.useRef(0),pt=f.useRef(new Map),pr=!0,cs=f.useCallback(d=>{let b="";if(nn(k=>{if(d.messageId&&k.some(h=>h.messageId===d.messageId))return b="",k;const o="toast-"+(kt.current+1);return kt.current+=1,b=o,[...k,{...d,id:o}]}),b){const k=setTimeout(()=>{nn(o=>o.filter(h=>h.id!==b)),pt.current.delete(b)},d.duration||6e3);pt.current.set(b,k)}},[]),Ve=f.useCallback(d=>{nn(k=>k.filter(o=>o.id!==d));const b=pt.current.get(d);b&&(clearTimeout(b),pt.current.delete(d))},[]);f.useEffect(()=>()=>{pt.current.forEach(d=>clearTimeout(d)),pt.current.clear()},[]),f.useEffect(()=>{const d=()=>{try{H(!document.hidden&&document.hasFocus())}catch{H(!0)}};return d(),window.addEventListener("focus",d),window.addEventListener("blur",d),document.addEventListener("visibilitychange",d),()=>{window.removeEventListener("focus",d),window.removeEventListener("blur",d),document.removeEventListener("visibilitychange",d)}},[]);const Dn=f.useCallback(d=>{var b,k,o,h,g;if(Ve(d.id),d.groupId){const S=e.find(F=>F.id===d.groupId);if(S){u(S);try{(b=window.focus)==null||b.call(window)}catch{}return}const L=n.find(F=>F.groupId===d.groupId);if(L){u({id:L.groupId,name:((k=L.other)==null?void 0:k.name)||d.title||"Direto",avatarUrl:((o=L.other)==null?void 0:o.avatarUrl)||void 0});try{(h=window.focus)==null||h.call(window)}catch{}return}u({id:d.groupId,name:d.groupName||d.title||"Direto",avatarUrl:d.avatarUrl||void 0});try{(g=window.focus)==null||g.call(window)}catch{}}},[Ve,e,n]);f.useEffect(()=>{const d=()=>{try{const b=localStorage.getItem("notif_sound_url")||"";b?st.current.url!==b&&(st.current={url:b,buffer:null}):st.current={url:"",buffer:null}}catch{}};return d(),window.addEventListener("chat:alertSoundUpdated",d),()=>window.removeEventListener("chat:alertSoundUpdated",d)},[]),f.useEffect(()=>{if(!Ln)return;let d=!1;const b=()=>{try{const k=Notification.permission;d||fr(k==="granted")}catch{}};b();try{Notification.permission==="default"&&Notification.requestPermission().then(k=>{d||fr(k==="granted")})}catch{}return window.addEventListener("focus",b),document.addEventListener("visibilitychange",b),()=>{d=!0,window.removeEventListener("focus",b),document.removeEventListener("visibilitychange",b)}},[Ln]);function ds(d){return d?d.type==="text"?d.content||"":d.type==="image"||d.type==="gif"?"Imagem":d.type==="audio"?"udio":"Anexo":""}function hr(d){var b,k;try{if(!In)return;const o=((b=d==null?void 0:d.author)==null?void 0:b.name)||"Mensagem",h=ds(d),g=(k=d==null?void 0:d.author)!=null&&k.avatarUrl?Vt(d.author.avatarUrl):void 0,S=new Notification(o,{body:h,icon:g});S.onclick=()=>{var L,F,G,ye;try{(L=window==null?void 0:window.focus)==null||L.call(window)}catch{}try{u({id:d.groupId,name:((F=d.group)==null?void 0:F.name)||"Direto",avatarUrl:((G=d.group)==null?void 0:G.avatarUrl)||((ye=d.author)==null?void 0:ye.avatarUrl)||void 0})}catch{}try{S.close()}catch{}},setTimeout(()=>{try{S.close()}catch{}},8e3)}catch{}}async function fs(){try{const d=window.AudioContext||window.webkitAudioContext;if(!d)return;On.current||(On.current=new d);const b=On.current;try{const h=localStorage.getItem("notif_sound_url")||"";if(h){if(st.current.url!==h||!st.current.buffer){const F=await(await fetch(h)).arrayBuffer(),G=await b.decodeAudioData(F.slice(0));st.current={url:h,buffer:G}}const g=b.createBufferSource();g.buffer=st.current.buffer;const S=b.createGain();S.gain.setValueAtTime(1e-4,b.currentTime),S.gain.exponentialRampToValueAtTime(.35,b.currentTime+.01),S.gain.exponentialRampToValueAtTime(1e-4,b.currentTime+Math.min(1.2,g.buffer.duration)),g.connect(S).connect(b.destination),g.start();return}}catch{}const k=b.createOscillator(),o=b.createGain();k.type="sine",k.frequency.value=880,o.gain.setValueAtTime(1e-4,b.currentTime),o.gain.exponentialRampToValueAtTime(.2,b.currentTime+.01),o.gain.exponentialRampToValueAtTime(1e-4,b.currentTime+.45),k.connect(o).connect(b.destination),k.start(),k.stop(b.currentTime+.5)}catch{}}f.useEffect(()=>{function d(){var b,k;try{(k=(b=On.current)==null?void 0:b.resume)==null||k.call(b)}catch{}try{window.removeEventListener("click",d),window.removeEventListener("keydown",d),window.removeEventListener("touchstart",d)}catch{}}return window.addEventListener("click",d),window.addEventListener("keydown",d),window.addEventListener("touchstart",d),()=>{try{window.removeEventListener("click",d),window.removeEventListener("keydown",d),window.removeEventListener("touchstart",d)}catch{}}},[]),f.useEffect(()=>{try{const d=(e||[]).reduce((b,k)=>b+(k._unread||0),0)+(n||[]).reduce((b,k)=>b+(k._unread||0),0);d>0?document.title=`(${d}) ${os.current}`:document.title=os.current}catch{}},[e,n]);const[We,$n]=f.useState(""),[at,mr]=f.useState([]),[Fn,zn]=f.useState(-1),[Bn,ps]=f.useState(!1),[St,gr]=f.useState(!1),[xr,hs]=f.useState(!1),[Mn,ms]=f.useState(!1),[Ta,vr]=f.useState(!1),[Aa,Vn]=f.useState(!1),[Dt,Si]=f.useState({id:"",name:"",email:"",phone:"",address:"",avatarUrl:"",isAdmin:!1}),[rn,gs]=f.useState("perfil"),[xs,La]=f.useState(""),[Wn,Ia]=f.useState(""),[Hn,vs]=f.useState(""),[Oa,Ua]=f.useState(""),[Qn,yr]=f.useState(null),[qn,Da]=f.useState(""),[Kn,$a]=f.useState(""),[Fa,$t]=f.useState(""),[za,Ft]=f.useState(""),[Ba,wr]=f.useState([]),[ys,ws]=f.useState({});function br(d){var b;return!!((b=ys==null?void 0:ys[(i==null?void 0:i.id)||""])!=null&&b[d])}async function bs(d){if(!(!(i!=null&&i.id)||!(d!=null&&d.id)))try{br(d.id)?(await W.del(`/messages/${d.id}/favorite`),ws(b=>{const k={...b||{}},o={...k[i.id]||{}};return delete o[d.id],k[i.id]=o,k}),wr(b=>b.filter(k=>k.id!==d.id))):(await W.post(`/messages/${d.id}/favorite`,{}),ws(b=>({...b,[i.id]:{...(b||{})[i.id]||{},[d.id]:!0}})),wr(b=>b!=null&&b.some(k=>k.id===d.id)?b:[d,...b||[]]))}catch{}}f.useEffect(()=>{(async()=>{var d;if(i!=null&&i.id)try{const b=await W.get(`/messages/favorites?groupId=${i.id}`),k={},o=[];for(const h of b||[])(d=h==null?void 0:h.message)!=null&&d.id&&(k[h.message.id]=!0,o.push(h.message));ws(h=>({...h,[i.id]:k})),wr(o)}catch{}})()},[i==null?void 0:i.id]);const Nr=f.useRef(null),Ns=f.useRef(null),ks=f.useRef(null),kr=f.useRef(null),Sr=f.useRef(null),jr=f.useRef(null);function Ss(){Mn||ms(!0),gr(!0),setTimeout(()=>{var d,b;try{(d=Nr.current)==null||d.focus(),(b=Nr.current)==null||b.select()}catch{}},0)}function js(){gr(!1),setTimeout(()=>ms(!1),200)}function Ma(){St||Mn?js():Ss()}function Es(){xr||hs(!0),ps(!0),setTimeout(()=>{var d,b;try{(d=Ns.current)==null||d.focus(),(b=Ns.current)==null||b.select()}catch{}},0)}function Cs(){ps(!1),setTimeout(()=>hs(!1),200)}function Va(){Bn||xr?Cs():Es()}f.useEffect(()=>{(async()=>{var d,b;try{const k=await W.get("/groups");t(k);const o=await W.get("/dm");r(o);const h=await W.get("/users/all");l(h);const g=localStorage.getItem("chat_active");if(g){const S=k.find(F=>F.id===g);if(S){u(S);return}const L=o.find(F=>F.groupId===g);if(L){u({id:L.groupId,name:((d=L.other)==null?void 0:d.name)||"Direto",avatarUrl:((b=L.other)==null?void 0:b.avatarUrl)||void 0});return}}k[0]&&u(k[0])}catch{_("Falha ao carregar listas")}})()},[]),f.useEffect(()=>{const d=Rr();try{e.forEach(b=>d.emit("group:join",b.id))}catch{}},[e]),f.useEffect(()=>{const d=Rr();try{n.forEach(b=>d.emit("group:join",b.groupId))}catch{}},[n]),f.useEffect(()=>{const d=Rr(),b=se==null?void 0:se.id;if(!b)return;const k=o=>{try{const{groupId:h,userA:g,userB:S}=o||{};if(!h||!(g!=null&&g.id)||!(S!=null&&S.id)||g.id!==b&&S.id!==b)return;const L=g.id===b?S:g;r(F=>(F||[]).some(G=>G.groupId===h)?F:[{id:h,groupId:h,other:L,_unread:0,_lastAt:Date.now()},...F||[]]),d.emit("group:join",h)}catch{}};return d.on("dm:created",k),()=>d.off("dm:created",k)},[se==null?void 0:se.id]),f.useEffect(()=>{const d=Rr();function b(g,S){return((g==null?void 0:g.name)||"").localeCompare((S==null?void 0:S.name)||"","pt-BR",{sensitivity:"base"})}const k=g=>{!(g!=null&&g.id)||g.id===(se==null?void 0:se.id)||l(S=>{if((S||[]).some(F=>F.id===g.id))return S;const L=[...S||[],{id:g.id,name:g.name,email:g.email,phone:g.phone,avatarUrl:g.avatarUrl}];return L.sort(b),L})},o=g=>{g!=null&&g.id&&l(S=>{const L=(S||[]).map(F=>F.id===g.id?{...F,name:g.name,email:g.email,phone:g.phone,avatarUrl:g.avatarUrl}:F);return L.sort(b),L})},h=({id:g})=>{g&&l(S=>(S||[]).filter(L=>L.id!==g))};return d.on("user:created",k),d.on("user:updated",o),d.on("user:deleted",h),()=>{d.off("user:created",k),d.off("user:updated",o),d.off("user:deleted",h)}},[se==null?void 0:se.id]),f.useEffect(()=>{(async()=>{var d;try{const b=n.filter(o=>o&&o.groupId&&(o._lastAt===void 0||o._lastAt===null||o._lastPreview===void 0));if(!b.length)return;const k={};for(const o of b)try{const h=await W.get(`/messages/${o.groupId}?take=1`),g=Array.isArray(h)?h[0]:null,S=g!=null&&g.createdAt?new Date(g.createdAt).getTime():0,L=(((d=g==null?void 0:g.author)==null?void 0:d.id)||(g==null?void 0:g.authorId))===(se==null?void 0:se.id);let F="";g&&(g.type==="text"?F=g.content||"":g.type==="image"||g.type==="gif"?F="Imagem":g.type==="audio"?F="udio":F="Anexo",L&&(F=`Voc: ${F}`)),k[o.groupId]={last:S,prev:F}}catch{}Object.keys(k).length&&r(o=>o.map(h=>k[h.groupId]!==void 0?{...h,_lastAt:k[h.groupId].last,_lastPreview:k[h.groupId].prev}:h))}catch{}})()},[n]);async function _s(d,b=!1){var k,o,h,g;_("");try{const S=await W.get(`/dm/with/${d}`);if(S!=null&&S.groupId){r(L=>{const F=L.find(ce=>ce.groupId===S.groupId),G=F==null?void 0:F._lastAt,ye=(F==null?void 0:F._unread)||0,Ee=L.filter(ce=>ce.groupId!==S.groupId);return[{id:S.groupId,groupId:S.groupId,other:S.other,_unread:ye,_lastAt:G},...Ee]}),u({id:S.groupId,name:((k=S.other)==null?void 0:k.name)||"Direto",avatarUrl:((o=S.other)==null?void 0:o.avatarUrl)||void 0}),b&&A(!1);return}}catch{}try{const S=await W.post(`/dm/${d}`);if(S!=null&&S.groupId){r(L=>{const F=L.find(ce=>ce.groupId===S.groupId),G=F==null?void 0:F._lastAt,ye=(F==null?void 0:F._unread)||0,Ee=L.filter(ce=>ce.groupId!==S.groupId);return[{id:S.groupId,groupId:S.groupId,other:S.other,_unread:ye,_lastAt:G},...Ee]}),u({id:S.groupId,name:((h=S.other)==null?void 0:h.name)||"Direto",avatarUrl:((g=S.other)==null?void 0:g.avatarUrl)||void 0}),b&&A(!1);return}}catch(S){_(S.message||"Falha ao abrir conversa");return}_("Nao foi possivel iniciar a conversa")}f.useEffect(()=>{if(!i)return;let d=()=>{};return(async()=>{const b=await W.get(`/messages/${i.id}?take=50`);p(b.reverse());try{await W.post(`/messages/${i.id}/read`,{})}catch{}t(g=>g.map(S=>S.id===i.id?{...S,_unread:0}:S)),r(g=>g.map(S=>S.groupId===i.id?{...S,_unread:0}:S));const k=Rr();try{k.off("message:new")}catch{}try{k.off("message:deleted")}catch{}k.emit("group:join",i.id);const o=g=>{var Ee,ce,ht,Ls;const S=new Date((g==null?void 0:g.createdAt)||Date.now()).getTime(),L=(((Ee=g.author)==null?void 0:Ee.id)||g.authorId)===(se==null?void 0:se.id),F=g.groupId===i.id,G=!!(X!=null&&X[g.groupId]);if((()=>{try{return(!us||document.hidden)&&!L}catch{return!us&&!L}})()){cs({title:((ce=g.author)==null?void 0:ce.name)||"Nova mensagem",body:ds(g)||"",groupId:g.groupId,groupName:((ht=g.group)==null?void 0:ht.name)||void 0,messageId:g.id,avatarUrl:((Ls=g.author)==null?void 0:Ls.avatarUrl)||void 0});try{hr(g)}catch{}}if(F){p(De=>{var he;return(De||[]).some(Bt=>Bt.id===g.id)?De:(he=g.replyTo)!=null&&he.id?De.map(Bt=>{var Is;return Bt.id===g.replyTo.id?{...Bt,_count:{replies:(((Is=Bt._count)==null?void 0:Is.replies)||0)+1}}:Bt}).concat(g):[...De,g]}),t(De=>De.map(he=>he.id===i.id?{...he,_lastAt:S}:he)),r(De=>De.map(he=>he.groupId===i.id?{...he,_lastAt:S,_lastPreview:g.type==="text"?g.content:g.type==="image"||g.type==="gif"?"Imagem":g.type==="audio"?"udio":"Anexo"}:he));try{!L&&!G&&fs()}catch{}}else{t(De=>De.map(he=>he.id===g.groupId?{...he,_unread:(he._unread||0)+1,_lastAt:S}:he)),r(De=>De.map(he=>he.groupId===g.groupId?{...he,_unread:(he._unread||0)+1,_lastAt:S,_lastPreview:g.type==="text"?g.content:g.type==="image"||g.type==="gif"?"Imagem":g.type==="audio"?"udio":"Anexo"}:he));try{!L&&!G&&fs()}catch{}}},h=g=>{g.groupId===i.id&&p(S=>S.map(L=>L.id===g.id?{...L,deletedAt:g.deletedAt}:L))};k.on("message:new",o),k.on("message:deleted",h),d=()=>{te(null),k.off("message:new",o),k.off("message:deleted",h),k.emit("group:leave",i.id)}})(),()=>d()},[i==null?void 0:i.id]),f.useEffect(()=>{if(i!=null&&i.id)try{localStorage.setItem("chat_active",i.id)}catch{}},[i==null?void 0:i.id]),f.useEffect(()=>{const d=setTimeout(()=>{if(je.current&&(je.current.scrollTop=je.current.scrollHeight),Tn.current)try{Tn.current.scrollIntoView({behavior:"smooth",block:"end"})}catch{}},0);return()=>clearTimeout(d)},[c,i==null?void 0:i.id]);async function Ps(d){var b;if(d&&d.preventDefault&&d.preventDefault(),_(""),!!i)try{const k=!!x.trim(),o=!!N;if(k){const h=x.trim(),g=/^(https?:\/\/\S+)/i.test(h),S=h.toLowerCase(),L=g&&/(\.gif($|\?))/i.test(S),F=g&&/(\.png|\.jpg|\.jpeg|\.webp|\.bmp|\.svg)($|\?)/i.test(S),G=L?"gif":F?"image":"text",ye=await W.post(`/messages/${i.id}`,{type:G,content:h,replyToId:(I==null?void 0:I.id)||null});p(Ee=>(Ee||[]).some(ce=>ce.id===ye.id)?Ee:[...Ee,ye]),w(""),v(null)}if(o){const h=new FormData;h.append("file",N);const g=(b=N.type)!=null&&b.startsWith("audio")?"audio":"image",S=I!=null&&I.id?`&replyToId=${I.id}`:"",L=await W.upload(`/messages/${i.id}/upload?type=${g}${S}`,h);p(F=>(F||[]).some(G=>G.id===L.id)?F:[...F,L]),C(null),v(null)}}catch(k){_(k.message||"Falha ao enviar mensagem")}}function Gn(d){v(d)}async function Er(d){if(confirm("Excluir esta mensagem?"))try{await W.delete(`/messages/${d.id}`),p(b=>b.map(k=>k.id===d.id?{...k,deletedAt:new Date().toISOString()}:k))}catch(b){_(b.message||"Falha ao excluir")}}function Rs(d){const b=c.find(k=>{var o;return((o=k.replyTo)==null?void 0:o.id)===d.id});if(b){const k=document.getElementById(`msg-${b.id}`);if(k){try{k.scrollIntoView({behavior:"smooth",block:"center"})}catch{}j(b.id),setTimeout(()=>j(null),2e3)}}}f.useEffect(()=>{const d=(We||"").trim().toLowerCase();if(!d){mr([]),zn(-1);return}const b=c.filter(k=>k&&!k.deletedAt&&k.type==="text"&&(k.content||"").toLowerCase().includes(d)).map(k=>k.id);if(mr(b),b.length){zn(0);const k=document.getElementById(`msg-${b[0]}`);if(k)try{k.scrollIntoView({behavior:"smooth",block:"center"})}catch{}j(b[0]),setTimeout(()=>j(null),1500)}else zn(-1)},[We,c,i==null?void 0:i.id]);function jt(d=!0){if(!at.length)return;let b=Fn;b<0?b=0:b=(b+(d?1:-1)+at.length)%at.length,zn(b);const k=at[b],o=document.getElementById(`msg-${k}`);if(o)try{o.scrollIntoView({behavior:"smooth",block:"center"})}catch{}j(k),setTimeout(()=>j(null),1500)}f.useEffect(()=>{const d=b=>{const k=b.target&&b.target.tagName?b.target.tagName.toLowerCase():"",o=k==="input"||k==="textarea"||b.target&&b.target.isContentEditable;if((b.ctrlKey||b.metaKey)&&(b.key==="f"||b.key==="F")){b.preventDefault(),typeof window<"u"&&window.innerWidth<768?Es():Ss();return}!o&&(b.key==="F3"||(b.ctrlKey||b.metaKey)&&(b.key==="g"||b.key==="G"))&&(b.preventDefault(),jt(!b.shiftKey))};return window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)},[at,Fn]),f.useEffect(()=>{const d=b=>{const k=b.target;if(St||Mn){const o=ks.current&&ks.current.contains(k),h=kr.current&&kr.current.contains(k);!o&&!h&&js()}if(Bn||xr){const o=Sr.current&&Sr.current.contains(k),h=jr.current&&jr.current.contains(k);!o&&!h&&Cs()}};return document.addEventListener("mousedown",d),document.addEventListener("touchstart",d,{passive:!0}),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("touchstart",d)}},[St,Bn]);function zt(d){const b=Me.current;if(!b){w(g=>g+d),ne(!1);return}const k=b.selectionStart??x.length,o=b.selectionEnd??x.length,h=x.slice(0,k)+d+x.slice(o);w(h),requestAnimationFrame(()=>{b.focus();const g=k+d.length;try{b.setSelectionRange(g,g)}catch{}}),ne(!1)}async function Yn(){if(R(""),!m)try{const d=await navigator.mediaDevices.getUserMedia({audio:!0});tn.current=d;const b=window.MediaRecorder&&MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",k=new MediaRecorder(d,{mimeType:b});Ut.current=k;const o=[];k.ondataavailable=h=>{h.data&&h.data.size>0&&o.push(h.data)},k.onstop=async()=>{try{const h=new Blob(o,{type:b}),g=new File([h],`rec-${Date.now()}.webm`,{type:b}),S=new FormData;S.append("file",g),i!=null&&i.id&&await W.upload(`/messages/${i.id}/upload?type=audio`,S)}catch(h){R(h.message||"Falha ao salvar udio")}finally{Wa()}},k.start(),y(!0),$(0),An.current=setInterval(()=>$(h=>h+1),1e3)}catch{R("Acesso ao microfone negado ou indisponvel"),Wa()}}function sn(){var d;try{(d=Ut.current)==null||d.stop()}catch{}}function Wa(){var d,b;if(y(!1),An.current){try{clearInterval(An.current)}catch{}An.current=null}$(0);try{(b=(d=tn.current)==null?void 0:d.getTracks)==null||b.call(d).forEach(k=>k.stop())}catch{}tn.current=null,Ut.current=null}async function Ts(d=!1){try{Vn(!0);const b=await W.get("/users/me");Si(b||{}),(d||!xs)&&La((b==null?void 0:b.name)||""),(d||!Wn)&&Ia((b==null?void 0:b.phone)||""),(d||!Hn)&&vs((b==null?void 0:b.address)||""),Ft(""),$t("");try{const k=localStorage.getItem("profile_status");k!==null&&Ua(k)}catch{}}catch{Ft("Falha ao carregar perfil")}finally{Vn(!1)}}function Ha(){vr(!0),Ts(!0)}async function ji(){try{Ft(""),$t("");const d=new FormData;d.append("name",xs||""),Wn!=null&&d.append("phone",Wn),Hn!=null&&d.append("address",Hn),Qn&&d.append("avatar",Qn),await W.uploadPatch("/users/me",d);try{localStorage.setItem("profile_status",Oa||"")}catch{}$t("Perfil atualizado"),yr(null),Ts(!0)}catch(d){Ft((d==null?void 0:d.message)||"Falha ao salvar perfil")}}async function Ei(){try{if(Ft(""),$t(""),!qn||!Kn){Ft("Preencha senha atual e nova");return}await W.post("/users/me/password",{current:qn,password:Kn}),$t("Senha atualizada"),Da(""),$a("")}catch(d){Ft((d==null?void 0:d.message)||"Falha ao alterar senha")}}const[As,Ci]=f.useState(!1),[Cr,_r]=f.useState(!1),Qa=f.useMemo(()=>{const d=M.trim().toLowerCase();let b=d?e.filter(k=>(k.name||"").toLowerCase().includes(d)):e;return As&&(b=b.filter(k=>!!(T!=null&&T[k.id]))),Cr&&(b=b.filter(k=>(k._unread||0)>0)),[...b].sort((k,o)=>{const h=T!=null&&T[k.id]?1:0,g=T!=null&&T[o.id]?1:0;if(h!==g)return g-h;const S=(k==null?void 0:k._lastAt)||0,L=(o==null?void 0:o._lastAt)||0;if(S!==L)return L-S;const F=(k==null?void 0:k._unread)||0,G=(o==null?void 0:o._unread)||0;return F!==G?G-F:(k.name||"").localeCompare(o.name||"","pt-BR",{sensitivity:"base"})})},[e,M]),qa=f.useMemo(()=>{const d=M.trim().toLowerCase();let b=d?s.filter(k=>(k.name||"").toLowerCase().includes(d)):s;return Cr&&(b=b.filter(k=>{const o=n.find(h=>{var g;return((g=h.other)==null?void 0:g.id)===k.id});return((o==null?void 0:o._unread)||0)>0})),[...b].sort((k,o)=>{const h=n.find(ce=>{var ht;return((ht=ce.other)==null?void 0:ht.id)===k.id}),g=n.find(ce=>{var ht;return((ht=ce.other)==null?void 0:ht.id)===o.id}),S=(h==null?void 0:h._lastAt)||0,L=(g==null?void 0:g._lastAt)||0;if(S!==L)return L-S;const F=(h==null?void 0:h._unread)||0,G=(g==null?void 0:g._unread)||0;if(F!==G)return G-F;const ye=s.findIndex(ce=>ce.id===k.id),Ee=s.findIndex(ce=>ce.id===o.id);return ye-Ee})},[s,n,M]);return f.useEffect(()=>{(async()=>{var d;try{const b=(e||[]).filter(o=>o&&o.id&&(o._lastAt===void 0||o._lastAt===null||o._lastPreview===void 0));if(!b.length)return;const k={};for(const o of b)try{const h=await W.get(`/messages/${o.id}?take=1`),g=Array.isArray(h)?h[0]:null,S=g!=null&&g.createdAt?new Date(g.createdAt).getTime():0;let L="";g&&(g.type==="text"?L=g.content||"":g.type==="image"||g.type==="gif"?L="Imagem":g.type==="audio"?L="udio":L="Anexo",(((d=g==null?void 0:g.author)==null?void 0:d.id)||(g==null?void 0:g.authorId))===(se==null?void 0:se.id)&&(L=`Voc: ${L}`)),k[o.id]={last:S,prev:L}}catch{}Object.keys(k).length&&t(o=>(o||[]).map(h=>k[h.id]!==void 0?{...h,_lastAt:k[h.id].last,_lastPreview:k[h.id].prev}:h))}catch{}})()},[e]),a.jsxs("div",{className:"relative flex h-full",children:[Un.length>0&&a.jsx("div",{className:"pointer-events-none fixed right-4 bottom-4 z-50 flex flex-col gap-3",children:Un.map(d=>a.jsx("div",{className:"pointer-events-auto w-72 max-w-[90vw] rounded-lg border border-slate-200 bg-white shadow-lg dark:border-slate-700 dark:bg-slate-800",role:"status","aria-live":"assertive",children:a.jsxs("div",{className:"flex gap-3 px-4 py-3",children:[a.jsxs("div",{className:"flex-1 cursor-pointer",role:"button",tabIndex:0,onClick:()=>Dn(d),onKeyDown:b=>{(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),Dn(d))},children:[a.jsx("div",{className:"text-sm font-medium text-slate-900 dark:text-slate-100",children:d.title||"Nova mensagem"}),d.body&&a.jsx("div",{className:"mt-1 text-sm text-slate-600 dark:text-slate-300",children:d.body}),d.groupName&&a.jsx("div",{className:"mt-2 text-xs text-slate-400 dark:text-slate-500",children:d.groupName})]}),a.jsx("button",{type:"button","aria-label":"Fechar notificao",className:"text-slate-400 transition hover:text-slate-600 dark:text-slate-500 dark:hover:text-slate-200",onClick:b=>{b.stopPropagation(),Ve(d.id)},children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"h-4 w-4",children:a.jsx("path",{fillRule:"evenodd",d:"M5.22 5.22a.75.75 0 0 1 1.06 0L10 8.94l3.72-3.72a.75.75 0 1 1 1.06 1.06L11.06 10l3.72 3.72a.75.75 0 1 1-1.06 1.06L10 11.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06L8.94 10 5.22 6.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})})})]})},d.id))})," ",B&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 z-10",onClick:()=>A(!1)}),a.jsxs("div",{className:"absolute inset-y-0 left-0 w-80 border-r border-slate-200 bg-white flex flex-col overflow-auto z-20",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-slate-200 flex items-center gap-2",children:[a.jsx("input",{value:M,onChange:d=>Q(d.target.value),placeholder:"Buscar conversas...",className:"flex-1 border rounded px-3 py-1.5 text-sm"}),a.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>A(!1),"aria-label":"Fechar",children:""})]}),a.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 sticky top-0 z-10 bg-white dark:bg-slate-800 border-b border-slate-200",children:"Grupos"}),Qa.map(d=>{const b=(d==null?void 0:d._lastAt)||0,k=b?new Date(b).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",o=(d==null?void 0:d._lastPreview)||"",h=(i==null?void 0:i.id)===d.id;return a.jsxs("button",{onClick:()=>{u(d),A(!1)},className:`px-2 py-2 rounded flex items-center justify-between gap-2 w-full text-left ${h?"bg-blue-50 text-blue-700":"hover:bg-slate-50"}`,children:[a.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[d.avatarUrl?a.jsx("img",{src:Vt(d.avatarUrl),alt:d.name||"grupo",className:"w-7 h-7 rounded-full object-cover"}):a.jsx("div",{className:"w-7 h-7 rounded-full bg-slate-300 text-slate-700 grid place-items-center text-xs font-semibold",children:(d.name||"G").slice(0,2).toUpperCase()}),a.jsxs("span",{className:"flex flex-col items-start min-w-0",children:[a.jsx("span",{className:`truncate font-medium text-sm ${d._unread>0?"font-semibold":""}`,children:d.name}),o&&a.jsx("span",{className:"truncate text-xs text-slate-500 max-w-[180px]",children:o})]})]}),a.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[k&&a.jsx("span",{className:"text-[11px] text-slate-500",children:k}),d._unread>0&&a.jsx("span",{className:"min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:d._unread})]})]},d.id)}),a.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 border-t border-slate-200 sticky top-0 z-10 bg-white dark:bg-slate-800",children:"Pessoas"}),a.jsx("div",{className:"px-3 py-2 flex flex-col gap-1",children:(()=>{const d=[];let b="";for(const k of qa){const o=((k.name||"").trim()[0]||"?").toUpperCase();o!==b&&(b=o,d.push(a.jsx("div",{className:"px-2 pt-2 text-xs font-semibold text-slate-500 select-none",children:o},`hdr-${o}`)));const h=n.find(ye=>{var Ee;return((Ee=ye.other)==null?void 0:Ee.id)===k.id}),g=(h==null?void 0:h._unread)||0,S=(h==null?void 0:h._lastAt)||0,L=S?new Date(S).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",F=(h==null?void 0:h._lastPreview)||"",G=(i==null?void 0:i.id)&&(h==null?void 0:h.groupId)&&i.id===h.groupId;d.push(a.jsxs("button",{onClick:()=>_s(k.id,!0),className:`rounded px-2 py-2 flex items-center justify-between gap-2 w-full text-left ${G?"bg-blue-50 text-blue-700":"hover:bg-slate-50"}`,children:[a.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(ml,{url:k.avatarUrl,name:k.name,size:40}),a.jsxs("span",{className:"flex flex-col items-start min-w-0",children:[a.jsx("span",{className:"truncate font-medium text-sm",children:k.name}),F&&a.jsx("span",{className:"truncate text-xs text-slate-500 max-w-[180px]",children:F})]})]}),a.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[L&&a.jsx("span",{className:"text-[11px] text-slate-500",children:L}),g>0&&a.jsx("span",{className:"min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:g})]})]},k.id))}return d.length?d:a.jsx("div",{className:"px-3 py-4 text-sm text-slate-500",children:"Nenhuma pessoa encontrada"})})()})]})]}),a.jsxs("div",{className:"hidden md:flex w-80 border-r border-slate-200 flex-col overflow-auto",children:[a.jsxs("div",{className:"px-3 py-2 border-b border-slate-200",children:[a.jsx("input",{value:M,onChange:d=>Q(d.target.value),placeholder:"Buscar conversas...",className:"w-full border rounded px-3 py-1.5 text-sm"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded border hover:bg-slate-50",onClick:()=>{var d;try{(d=document.getElementById("people-list"))==null||d.scrollIntoView({behavior:"smooth",block:"start"})}catch{}},children:"Nova conversa"}),a.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:As,onChange:d=>Ci(d.target.checked)})," ","Fixadas"]}),a.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Cr,onChange:d=>_r(d.target.checked)})," ","No lidas"]})]})]}),a.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 sticky top-0 z-10 bg-white dark:bg-slate-800 border-b border-slate-200",children:"Grupos"}),Qa.map(d=>a.jsxs("button",{onClick:()=>u(d),className:`px-3 py-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/60 border ${(i==null?void 0:i.id)===d.id?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-slate-700 dark:text-slate-100 dark:border-slate-600":"border-transparent hover:border-slate-200 dark:border-transparent dark:hover:border-slate-600"} flex items-center justify-between transition-colors`,children:[a.jsx("span",{className:"truncate text-left",children:d.name}),d._unread>0&&a.jsx("span",{className:"ml-2 min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:d._unread})]},d.id)),a.jsx("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 border-t border-slate-200 sticky top-0 z-10 bg-white dark:bg-slate-800",children:"Pessoas"}),a.jsx("div",{id:"people-list",className:"px-3 py-2 flex flex-col gap-1",children:qa.map(d=>{const b=n.find(L=>{var F;return((F=L.other)==null?void 0:F.id)===d.id}),k=(b==null?void 0:b._unread)||0,o=(b==null?void 0:b._lastAt)||0,h=o?new Date(o).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",g=(b==null?void 0:b._lastPreview)||"",S=!!(i!=null&&i.id&&(b!=null&&b.groupId)&&i.id===b.groupId);return a.jsxs("button",{onClick:()=>_s(d.id),className:`rounded-lg px-2 py-2 flex items-center justify-between gap-2 border transition-colors ${S?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-slate-700 dark:text-slate-100 dark:border-slate-600":"hover:bg-slate-50 dark:hover:bg-slate-700/60 border-transparent hover:border-slate-200 dark:hover:border-slate-600"}`,children:[a.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(ml,{url:d.avatarUrl,name:d.name,size:40}),a.jsxs("span",{className:"flex flex-col items-start min-w-0",children:[a.jsx("span",{className:"truncate font-medium text-sm",children:d.name}),d.status&&a.jsx("span",{className:`ml-2 text-[10px] px-1.5 py-0.5 rounded-full border ${String(d.status).toLowerCase()==="online"?"bg-green-50 text-green-700 border-green-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:d.status}),g&&a.jsx("span",{className:"truncate text-xs text-slate-500 max-w-[180px]",children:g})]})]}),a.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[h&&a.jsx("span",{className:"text-[11px] text-slate-500",children:h}),k>0&&a.jsx("span",{className:"min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:k})]})]},d.id)})})]}),a.jsxs("div",{className:"flex-1 flex flex-col chat-bg",children:[a.jsxs("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 bg-gradient-to-r from-white/80 to-slate-50/80 dark:from-slate-900/60 dark:to-slate-800/60 backdrop-blur font-medium flex items-center gap-2 shadow-sm",children:[a.jsx("button",{type:"button",className:"md:hidden px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>A(d=>!d),"aria-label":"Abrir menu",children:""}),a.jsxs("button",{type:"button",className:"flex items-center gap-3 min-w-0 truncate text-left hover:underline",onClick:()=>Ha(),title:"Abrir perfil",children:[a.jsx(ml,{url:i==null?void 0:i.avatarUrl,name:(i==null?void 0:i.name)||"Selecione um grupo",size:36}),a.jsx("span",{className:"truncate",children:(i==null?void 0:i.name)||"Selecione um grupo"})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-1",children:[a.jsx("button",{ref:jr,type:"button",className:"md:hidden px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",title:"Buscar","aria-label":"Buscar",onClick:Va,children:""}),a.jsx("button",{ref:kr,type:"button",className:"hidden md:inline-flex px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",title:"Buscar","aria-label":"Buscar",onClick:Ma,children:""}),Mn&&a.jsxs("div",{ref:ks,className:`hidden md:flex items-center gap-1 transition-all duration-200 ease-out ${St?"opacity-100 translate-y-0":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[a.jsx("input",{ref:Nr,value:We,onChange:d=>$n(d.target.value),placeholder:"Buscar mensagens...",className:"border rounded px-2 py-1 text-sm w-56","aria-label":"Buscar mensagens",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),jt(!d.shiftKey))}}),We&&a.jsx("span",{className:"items-center text-[11px] text-slate-500 px-1",children:at.length?`${Fn+1}/${at.length}`:"0/0"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60",title:"Anterior",onClick:()=>jt(!1),children:""}),a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60",title:"Prximo",onClick:()=>jt(!0),children:""}),We&&a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60",title:"Limpar",onClick:()=>$n(""),children:""})]})]})]})]}),!i&&a.jsx("div",{className:"flex-1 grid place-items-center p-6",children:a.jsxs("div",{className:"text-center text-slate-600 dark:text-slate-300",children:[a.jsx("div",{className:"mx-auto dark:bg-slate-700 grid place-items-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8 text-slate-400 dark:text-slate-300",children:a.jsx("path",{d:"M19.5 6.75v10.5A2.25 2.25 0 0 1 17.25 19.5H6.75A2.25 2.25 0 0 1 4.5 17.25V6.75A2.25 2.25 0 0 1 6.75 4.5h10.5A2.25 2.25 0 0 1 19.5 6.75ZM8.25 9A.75.75 0 0 0 7.5 9.75v6a.75.75 0 0 0 1.5 0v-6A.75.75 0 0 0 8.25 9Zm4.5 0a.75.75 0 0 0-.75.75v6a.75.75 0 0 0 1.5 0v-6A.75.75 0 0 0 12.75 9Zm4.5.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"})})}),a.jsx("div",{className:"text-lg font-semibold",children:"Selecione uma conversa"}),a.jsx("div",{className:"text-sm",children:"Escolha um grupo ou contato  esquerda."})]})}),xr&&a.jsxs("div",{ref:Sr,className:`md:hidden px-3 py-2 border-b border-slate-200 bg-white flex items-center gap-2 transition-all duration-200 ease-out ${Bn?"opacity-100 translate-y-0":"opacity-0 -translate-y-1 pointer-events-none"}`,children:[a.jsx("input",{ref:Ns,value:We,onChange:d=>$n(d.target.value),placeholder:"Buscar mensagens...",className:"flex-1 border rounded px-2 py-1 text-sm","aria-label":"Buscar mensagens",onKeyDown:d=>{d.key==="Enter"&&(d.preventDefault(),jt(!d.shiftKey))}}),a.jsx("span",{className:"text-[11px] text-slate-500 px-1",children:at.length?`${Fn+1}/${at.length}`:"0/0"}),a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60",title:"Anterior",onClick:()=>jt(!1),children:""}),a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60",title:"Prximo",onClick:()=>jt(!0),children:""}),We&&a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60",title:"Limpar",onClick:()=>$n(""),children:""})]}),Ta&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 z-30",onClick:()=>vr(!1)}),a.jsxs("aside",{className:"absolute inset-y-0 right-0 w-[360px] max-w-[90%] bg-white border-l border-slate-200 z-40 shadow-lg flex flex-col",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("div",{className:"font-semibold",children:"Detalhes"}),a.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>vr(!1),children:""})]}),a.jsx("div",{className:"px-4 pt-2 border-b border-slate-200",children:a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("button",{className:`px-3 py-2 ${rn==="perfil"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>gs("perfil"),children:"Perfil"}),a.jsx("button",{className:`px-3 py-2 ${rn==="arquivos"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>gs("arquivos"),children:"Arquivos"}),a.jsx("button",{className:`px-3 py-2 ${rn==="favoritos"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>gs("favoritos"),children:"Favoritos"})]})}),a.jsx("div",{className:"p-4 space-y-4 overflow-auto flex-1",children:Aa?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):a.jsxs(a.Fragment,{children:[rn==="perfil"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:Qn?a.jsx("img",{src:URL.createObjectURL(Qn),alt:"avatar",className:"w-full h-full object-cover"}):Dt!=null&&Dt.avatarUrl?a.jsx("img",{src:Vt(Dt.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500",children:"Sem foto"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-sm text-slate-600",children:"Foto de perfil"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"pfAvatar",type:"file",accept:"image/*",className:"hidden",onChange:d=>{var b;return yr(((b=d.target.files)==null?void 0:b[0])||null)}}),a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>document.getElementById("pfAvatar").click(),children:"Alterar"}),Qn&&a.jsx("button",{type:"button",className:"px-2 py-1 rounded text-red-600 hover:bg-red-50",onClick:()=>yr(null),children:"Remover"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Nome"}),a.jsx("input",{value:xs,onChange:d=>La(d.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"E-mail"}),a.jsx("input",{value:(Dt==null?void 0:Dt.email)||"",disabled:!0,className:"w-full border rounded px-3 py-2 bg-slate-50 text-slate-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Telefone"}),a.jsx("input",{value:Wn,onChange:d=>Ia(d.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Endereo"}),a.jsx("input",{value:Hn,onChange:d=>vs(d.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Status"}),a.jsx("input",{value:Oa,onChange:d=>Ua(d.target.value),placeholder:"Ex.: Disponvel",className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:ji,children:"Salvar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{Ts(!0)},children:"Recarregar"})]})]}),a.jsxs("div",{className:"border-t border-slate-200 pt-3",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Alterar senha"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx("input",{type:"password",value:qn,onChange:d=>Da(d.target.value),placeholder:"Senha atual",className:"w-full border rounded px-3 py-2"}),a.jsx("input",{type:"password",value:Kn,onChange:d=>$a(d.target.value),placeholder:"Nova senha",className:"w-full border rounded px-3 py-2"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-slate-800 text-white hover:bg-slate-900",onClick:Ei,children:"Atualizar senha"})})]})]})]}),rn==="arquivos"&&a.jsxs("div",{className:"space-y-2",children:[c.filter(d=>d.type!=="text"&&!d.deletedAt).map(d=>a.jsxs("div",{className:"flex items-center justify-between border rounded px-3 py-2 text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:d.type==="image"||d.type==="gif"?"Imagem":d.type==="audio"?"udio":"Anexo"}),a.jsx("div",{className:"text-slate-500 truncate max-w-[220px]",children:d.content})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsxs("span",{className:"text-[11px] text-slate-500",children:[new Date(d.createdAt).toLocaleDateString("pt-BR")," ",new Date(d.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),a.jsx("a",{className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",href:Vt(d.content),target:"_blank",rel:"noreferrer",children:"Abrir"})]})]},d.id)),c.filter(d=>d.type!=="text"&&!d.deletedAt).length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum arquivo nesta conversa."})]}),rn==="favoritos"&&a.jsxs("div",{className:"space-y-2",children:[Ba.map(d=>{var b;return a.jsxs("div",{className:"border rounded px-3 py-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium truncate",children:((b=d.author)==null?void 0:b.name)||"Voc"}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:[new Date(d.createdAt).toLocaleDateString("pt-BR")," ",new Date(d.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),a.jsx("div",{className:"mt-1",children:d.type==="text"?d.content:d.type==="image"||d.type==="gif"?"Imagem":d.type==="audio"?"udio":"Anexo"}),a.jsx("div",{className:"mt-1",children:a.jsx("button",{className:"text-[12px] text-red-600 hover:underline",onClick:()=>bs(d),children:"Remover favorito"})})]},d.id)}),Ba.length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhuma mensagem favoritada nesta conversa."})]}),Fa&&a.jsx("div",{className:"text-green-600 text-sm",children:Fa}),za&&a.jsx("div",{className:"text-red-600 text-sm",children:za})]})})]})]}),a.jsxs("div",{ref:je,className:`flex-1 overflow-auto p-4 space-y-3 ${i?"":"hidden"}`,children:[c.map((d,b)=>{var F,G,ye,Ee,ce,ht,Ls;const k=(((F=d.author)==null?void 0:F.id)||d.authorId)===(se==null?void 0:se.id),o=k?"max-w-[75%] bg-blue-600 text-white px-4 py-2.5 rounded-2xl rounded-tr-md shadow-md":"max-w-[75%] bg-white text-slate-800 px-4 py-2.5 rounded-2xl rounded-tl-md shadow-md border border-slate-200/60",h=k?"flex justify-end mb-2 items-end":"flex justify-start mb-2 items-end",g=c[b-1],S=!g||new Date(g.createdAt).toDateString()!==new Date(d.createdAt).toDateString(),L=(()=>{const De=new Date(d.createdAt),he=new Date,Bt=_i=>new Date(_i.getFullYear(),_i.getMonth(),_i.getDate()),Is=(Bt(De)-Bt(he))/864e5;return Is===0?"Hoje":Is===-1?"Ontem":De.toLocaleDateString("pt-BR")})();return a.jsxs("div",{id:`msg-${d.id}`,className:"w-full",children:[S&&a.jsx("div",{className:"max-w-32 mx-auto rounded-full text-center text-xs bg-sky-600  text-slate-100 my-2",children:L}),a.jsxs("div",{className:`${h} group`,children:[!k&&a.jsx("div",{className:"mr-2",children:a.jsx(ml,{url:(G=d.author)==null?void 0:G.avatarUrl,name:(ye=d.author)==null?void 0:ye.name,size:32})}),a.jsxs("div",{className:`${o} ${z===d.id?"ring-2 ring-yellow-400":""} ${We&&d.type==="text"&&(d.content||"").toLowerCase().includes((We||"").toLowerCase())?"outline outline-2 outline-yellow-300":""}`,children:[!k&&a.jsx("div",{className:"text-xs font-semibold text-slate-600 mb-1",children:((Ee=d.author)==null?void 0:Ee.name)||"Contato"}),d.replyTo&&a.jsxs("div",{className:"mb-1 pl-2 border-l-4 border-blue-400 text-xs text-slate-600",children:[a.jsx("div",{className:"font-medium",children:((ce=d.replyTo.author)==null?void 0:ce.name)||"Mensagem"}),a.jsx("div",{className:"truncate opacity-90",children:d.replyTo.type==="text"?d.replyTo.content:d.replyTo.type==="image"?"Imagem":d.replyTo.type==="audio"?"udio":"Anexo"})]}),d.deletedAt?a.jsx("div",{className:"italic opacity-70",children:"Mensagem apagada"}):d.type==="text"?a.jsx("div",{children:d.content}):d.type==="image"||d.type==="gif"?a.jsx("img",{src:Vt(d.content),alt:"imagem",className:"max-w-full rounded"}):d.type==="audio"?a.jsx("audio",{src:Vt(d.content),controls:!0,className:"w-60"}):a.jsx("a",{className:"underline",href:Vt(d.content),target:"_blank",rel:"noreferrer",children:"Abrir anexo"}),a.jsxs("div",{className:"mt-1 text-[10px] opacity-80 flex items-center gap-2",children:[a.jsx("span",{children:new Date(d.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),a.jsx("button",{type:"button",title:br(d.id)?"Remover favorito":"Favoritar",onClick:()=>bs(d),className:`${br(d.id)?"text-yellow-400":"text-slate-300 hover:text-slate-500"} transition-colors`,children:""})]})]}),a.jsxs("div",{className:"ml-1 relative",ref:K===d.id?Ye:null,children:[a.jsx("button",{type:"button",className:"opacity-0 group-hover:opacity-100 p-1 text-slate-500 hover:text-slate-700",onClick:()=>te(K===d.id?null:d.id),"aria-label":"Aes",children:""}),K===d.id&&a.jsxs("div",{className:"absolute right-0 mt-1 bg-white border border-slate-200 rounded shadow text-sm z-10",children:[a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{te(null),Gn(d)},children:"Responder"}),a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{te(null),bs(d)},children:"Favoritar"}),(((ht=d.author)==null?void 0:ht.id)||d.authorId)===(se==null?void 0:se.id)&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 text-red-600 hover:bg-red-50",onClick:()=>{te(null),Er(d)},children:"Apagar"}),((Ls=d._count)==null?void 0:Ls.replies)>0&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{te(null),Rs(d)},children:"Ir para respostas"})]})]})]})]},d.id)}),a.jsx("div",{ref:Tn})]}),I&&a.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-slate-50 flex items-start gap-2",children:[a.jsxs("div",{className:"border-l-4 border-blue-500 pl-2 text-sm text-slate-700 flex-1",children:[a.jsxs("div",{className:"font-medium",children:["Respondendo ",((Ka=I.author)==null?void 0:Ka.name)||"mensagem"]}),a.jsx("div",{className:"truncate",children:I.type==="text"?I.content:I.type==="image"?"Imagem":I.type==="audio"?"udio":"Anexo"})]}),a.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>v(null),children:"Cancelar"})]}),a.jsxs("form",{onSubmit:Ps,className:`flex gap-2 p-2 border-t border-slate-200 items-center relative bg-white/80 dark:bg-slate-900/60 backdrop-blur ${i?"":"hidden"}`,children:[a.jsx("button",{type:"button",onClick:()=>ne(d=>!d),title:"Emojis",className:"px-2 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Emojis",children:""}),a.jsx("button",{type:"button",onClick:()=>{var d;return(d=Ae.current)==null?void 0:d.click()},title:"Anexar",className:"inline-flex shrink-0 items-center justify-center p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Anexar",children:""}),a.jsx("input",{ref:Ae,type:"file",accept:"image/*,audio/*",onChange:d=>{var b;return C(((b=d.target.files)==null?void 0:b[0])||null)},className:"hidden"}),N&&a.jsxs("div",{className:"max-w-[45%] truncate text-xs text-slate-700 dark:text-slate-200 bg-slate-100 dark:bg-slate-700/60 rounded px-2 py-1 flex items-center gap-2",children:[a.jsx("span",{className:"truncate",title:N.name,children:N.name}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-red-600",onClick:()=>C(null),children:""})]}),a.jsx("input",{ref:Me,value:x,onChange:d=>w(d.target.value),placeholder:"Digite sua mensagem...",className:"flex-1 border border-slate-300 dark:border-slate-700 rounded-xl px-3 py-6 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800"}),a.jsx("button",{type:"button",onClick:()=>{(x||"").trim()||N?Ps():m?sn():Yn()},className:`${(x||"").trim()||N?"bg-blue-600 text-white hover:bg-blue-700 shadow":m?"bg-red-600 text-white hover:bg-red-700 shadow":"bg-slate-200 text-slate-700 hover:bg-slate-300 shadow"} inline-flex items-center justify-center rounded-full w-10 h-10`,title:(x||"").trim()||N?"Enviar":m?"Parar gravao":"Gravar udio",children:(x||"").trim()||N?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.31 20.87 22 12 2.31 3.13a.75.75 0 0 0-.98.97L4.7 11.1c.1.25.1.53 0 .78l-3.37 7a.75.75 0 0 0 .98.98Z"})}):m?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 14.5a3.5 3.5 0 0 0 3.5-3.5V7a3.5 3.5 0 1 0-7 0v4a3.5 3.5 0 0 0 3.5 3.5Zm5-3.5a5 5 0 0 1-10 0H5a7 7 0 0 0 6 6.92V20h2v-2.08A7 7 0 0 0 19 11h-2Z"})})}),m&&a.jsxs("span",{className:"text-xs text-red-600 min-w-[60px]",children:[" ",U,"s"]}),P&&a.jsx("div",{className:"text-red-600 text-sm ml-2",children:P}),E&&a.jsx("div",{className:"text-red-600 text-sm ml-2",children:E}),J&&a.jsx("div",{className:"absolute bottom-12 left-2 bg-white border border-slate-200 rounded-md p-2 shadow max-w-[280px] z-10",children:a.jsx("div",{className:"grid grid-cols-8 gap-1",children:Se.map(d=>a.jsx("button",{type:"button",onClick:()=>zt(d),className:"text-xl leading-6 hover:bg-slate-100 dark:hover:bg-slate-700/60 rounded px-1",children:d},d))})})]})]})]})}function ml({url:e,name:t,size:n=28}){const r={width:n,height:n,borderRadius:"50%",objectFit:"cover",flexShrink:0};if(e)return a.jsx("img",{src:Vt(e),alt:t||"avatar",style:r});const s=(t||"U").trim().slice(0,2).toUpperCase();return a.jsx("div",{style:{...r,background:"#cbd5e1",color:"#334155",display:"grid",placeItems:"center",fontSize:12,fontWeight:"bold"},children:s})}function iv(){return a.jsx(jh,{})}function ov(){const e=Rn(),t=f.useMemo(()=>new URLSearchParams(e.search),[e.search]),[n,r]=f.useState(t.get("to")||""),[s]=f.useState(t.get("name")||""),[l,i]=f.useState("idle"),[u,c]=f.useState(""),[p,x]=f.useState({loading:!0,data:null,error:""}),[w,N]=f.useState({registered:!1}),[C,P]=f.useState({phase:"idle",reason:""}),[_,I]=f.useState(0),v=f.useRef(null),m=f.useRef(null),y=f.useRef(null);f.useEffect(()=>{(async()=>{try{const T=await W.get("/phone/me");x({loading:!1,data:T,error:""})}catch(T){x({loading:!1,data:null,error:T.message||"Falha ao carregar SIP"})}})()},[]),f.useEffect(()=>{const T=q=>{var X;return N({registered:!!((X=q==null?void 0:q.detail)!=null&&X.registered)})};window.addEventListener("sip:reg",T);try{N({registered:localStorage.getItem("sip_registered")==="1"})}catch{}return()=>window.removeEventListener("sip:reg",T)},[]);function E(){R(),I(0),v.current=setInterval(()=>I(T=>T+1),1e3)}function R(){try{clearInterval(v.current)}catch{}v.current=null}async function U(){c("");const T=String(n||"").replace(/\D/g,"");if(T.length<2){c("Informe um nmero/ramal vlido");return}try{const q=y.current||rv();if(!q){c("SIP no inicializado/registrado"),i("error");return}y.current=q,i("calling"),P({phase:"progress",reason:""}),await q.call(T,{onProgress:()=>P({phase:"progress",reason:""}),onAccepted:()=>{i("in-call"),P({phase:"accepted",reason:""}),E()},onEnded:()=>{i("ended"),P({phase:"ended",reason:""}),R()},onFailed:D=>{var ge;const K=(D==null?void 0:D.response)&&(D.response.status_code||((ge=D.response)==null?void 0:ge.statusCode)),te=(D==null?void 0:D.cause)||(D==null?void 0:D.message)||"";i("error"),P({phase:"failed",reason:K?`${K} ${te}`.trim():te||"Falha SIP"}),R(),c(K?`Falha SIP: ${K} ${te||""}`.trim():"Falha SIP ou destino ocupado")},onTrack:D=>{try{m.current&&(m.current.srcObject=D)}catch{}}})||i("ended")}catch(q){c(q.message||"Falha ao iniciar chamada"),i("error")}}function $(){var T,q;try{(q=(T=y.current)==null?void 0:T.hangup)==null||q.call(T)}catch{}i("ended"),R()}const B=(()=>{var q,X,D;return String(n||"").replace(/\D/g,"").length>=2&&!!w.registered&&!!((q=p==null?void 0:p.data)!=null&&q.hasPassword&&((X=p==null?void 0:p.data)!=null&&X.domain)&&((D=p==null?void 0:p.data)!=null&&D.extension))})();function A(T){var q,X;if(l==="in-call"||l==="calling")try{(X=(q=y.current)==null?void 0:q.dtmf)==null||X.call(q,T)}catch{}else r(D=>(D||"")+String(T))}return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Telefonia"}),a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"max-w-xl mx-auto bg-white/80 dark:bg-slate-800/70 backdrop-blur border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Discador"}),s&&a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Contato: ",a.jsx("span",{className:"font-medium",children:s})]}),a.jsx("div",{className:"mb-3",children:p.loading?a.jsx("div",{className:"text-xs text-slate-500",children:"Carregando configurao SIP..."}):p.error?a.jsx("div",{className:"p-2 rounded border border-red-300 bg-red-50 text-sm text-red-700",children:p.error}):!p.data||!p.data.hasPassword?a.jsx("div",{className:"p-2 rounded border border-yellow-300 bg-yellow-50 text-sm text-yellow-800",children:"Sua conta SIP ainda no est configurada. Solicite ao administrador para cadastrar domnio, ramal e senha."}):a.jsxs("div",{className:"p-2 rounded border border-green-300 bg-green-50 text-sm text-green-800",children:["Conta SIP configurada: ",a.jsx("span",{className:"font-medium",children:p.data.domain}),"  Ramal ",a.jsx("span",{className:"font-medium",children:p.data.extension})]})}),a.jsxs("div",{className:"mb-2 text-xs text-slate-600",children:["SIP registro: ",w.registered?"registrado":"no registrado"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:n,onChange:T=>r(T.target.value),placeholder:"Nmero/Ramal",className:"flex-1 border rounded px-3 py-2"}),a.jsx("button",{disabled:!B||l==="calling"||l==="in-call",className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",onClick:U,children:"Ligar"}),a.jsx("button",{disabled:!(l==="calling"||l==="in-call"),className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",onClick:$,children:"Desligar"})]}),u&&a.jsx("div",{className:"mt-2 text-sm text-red-600",children:u}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 max-w-xs",children:[["1","2","3","4","5","6","7","8","9","*","0","#"].map(T=>a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>A(T),children:T},T)),a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50 col-span-2",onClick:()=>r(""),children:"Limpar"}),a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>r(T=>String(T||"").slice(0,-1)),children:""})]}),a.jsxs("div",{className:"mt-4 text-xs text-slate-600 dark:text-slate-300",children:["Status: ",l," ",l==="in-call"&&`(${Math.floor(_/60).toString().padStart(2,"0")}:${(_%60).toString().padStart(2,"0")})`]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs mb-1 text-slate-500",children:"udio remoto"}),a.jsx("audio",{ref:m,autoPlay:!0,playsInline:!0})]})]})})]})}function uv(){const e=en(),[t,n]=f.useState([]),[r,s]=f.useState(!0),[l,i]=f.useState(""),[u,c]=f.useState("Reunio"),[p,x]=f.useState(""),[w,N]=f.useState(!0),[C,P]=f.useState(""),[_,I]=f.useState(""),[v,m]=f.useState(""),[y,E]=f.useState(!1);f.useEffect(()=>{(async()=>{try{const A=await W.get("/meetings");n(A)}catch(A){i(A.message||"Falha ao carregar reunies")}finally{s(!1)}})()},[]);async function R(A){var T;(T=A==null?void 0:A.preventDefault)==null||T.call(A),i(""),E(!0);try{const q=v.split(",").map(te=>te.trim()).filter(Boolean).map(te=>({email:te})),X={title:u||"Reunio",description:p||void 0,isInstant:w,scheduledStart:!w&&C?new Date(C).toISOString():void 0,scheduledEnd:!w&&_?new Date(_).toISOString():void 0,participants:q},D=await W.post("/meetings",X),K=await W.get("/meetings");n(K),c("Reunio"),x(""),N(!0),P(""),I(""),m(""),D!=null&&D.code&&(D!=null&&D.isInstant)&&e(`/telefonia?to=${D.code}&name=${encodeURIComponent(D.title)}`)}catch(q){i(q.message||"Falha ao criar reunio")}finally{E(!1)}}async function U(A){const T=prompt("Informe e-mails separados por vrgula:");if(T)try{const q=T.split(",").map(D=>D.trim()).filter(Boolean).map(D=>({email:D}));await W.post(`/meetings/${A}/participants`,{participants:q});const X=await W.get("/meetings");n(X)}catch(q){alert(q.message||"Falha ao adicionar convidados")}}function $(A,T){e(`/telefonia?to=${A}&name=${encodeURIComponent(T||"Reunio")}`)}function B(A){try{navigator.clipboard.writeText(A),alert("Copiado!")}catch{alert(A)}}return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Reunies"}),a.jsxs("div",{className:"flex-1 p-4 space-y-6",children:[a.jsxs("form",{onSubmit:R,className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Nova reunio"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Ttulo"}),a.jsx("input",{value:u,onChange:A=>c(A.target.value),className:"border rounded px-3 py-2"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm mt-6 md:mt-0",children:[a.jsx("input",{type:"checkbox",checked:w,onChange:A=>N(A.target.checked)}),"Instantnea"]}),!w&&a.jsxs(a.Fragment,{children:[a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Incio"}),a.jsx("input",{type:"datetime-local",value:C,onChange:A=>P(A.target.value),className:"border rounded px-3 py-2"})]}),a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Fim"}),a.jsx("input",{type:"datetime-local",value:_,onChange:A=>I(A.target.value),className:"border rounded px-3 py-2"})]})]}),a.jsxs("label",{className:"md:col-span-2 flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Descrio (opcional)"}),a.jsx("textarea",{value:p,onChange:A=>x(A.target.value),className:"border rounded px-3 py-2",rows:2})]}),a.jsxs("label",{className:"md:col-span-2 flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Convidados (e-mails, separados por vrgula)"}),a.jsx("input",{value:v,onChange:A=>m(A.target.value),className:"border rounded px-3 py-2",placeholder:"exemplo@dominio.com, outro@dominio.com"})]})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{type:"submit",disabled:y,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:y?"Criando...":"Criar"}),l&&a.jsx("span",{className:"text-sm text-red-600",children:l})]})]}),a.jsxs("div",{className:"max-w-4xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Minhas reunies"}),r?a.jsx("div",{className:"text-sm text-slate-600",children:"Carregando..."}):t.length===0?a.jsx("div",{className:"text-sm text-slate-600",children:"Nenhuma reunio encontrada"}):a.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:t.map(A=>a.jsxs("li",{className:"py-3 flex items-center gap-3 justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"font-medium truncate",children:[A.title," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["#",A.code]})]}),a.jsxs("div",{className:"text-xs text-slate-500 truncate",children:[A.isInstant?"Instantnea":"Agendada",A.scheduledStart?`  ${new Date(A.scheduledStart).toLocaleString()}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>$(A.code,A.title),children:"Entrar"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>U(A.id),children:"Convidar"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>e(`/reunioes/${A.id}`),children:"Detalhes"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>B(A.code),children:"Copiar cdigo"})]})]},A.id))})]})]})]})}function cv(){const{id:e}=rh(),t=en(),[n,r]=f.useState(null),[s,l]=f.useState(""),[i,u]=f.useState(!0);f.useEffect(()=>{(async()=>{try{const x=await W.get(`/meetings/${e}`);r(x)}catch(x){l(x.message||"Falha ao carregar")}finally{u(!1)}})()},[e]);function c(x){try{navigator.clipboard.writeText(x)}catch{}}async function p(){const x=prompt("Informe e-mails separados por vrgula:");if(x)try{const w=x.split(",").map(C=>C.trim()).filter(Boolean).map(C=>({email:C}));await W.post(`/meetings/${e}/participants`,{participants:w});const N=await W.get(`/meetings/${e}`);r(N)}catch(w){alert(w.message||"Falha ao adicionar")}}return i?a.jsx("div",{className:"p-4",children:"Carregando..."}):s?a.jsx("div",{className:"p-4 text-red-600",children:s}):n?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Detalhes da reunio"}),a.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[a.jsxs("div",{className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsxs("div",{className:"text-xl font-semibold",children:[n.title," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["#",n.code]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:[n.isInstant?"Instantnea":"Agendada",n.scheduledStart?`  ${new Date(n.scheduledStart).toLocaleString()}`:""]}),n.description&&a.jsx("div",{className:"mt-2 text-sm",children:n.description}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:()=>t(`/telefonia?to=${n.code}&name=${encodeURIComponent(n.title)}`),children:"Entrar"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:()=>c(n.code),children:"Copiar cdigo"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:p,children:"Convidar"})]})]}),a.jsxs("div",{className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Participantes"}),a.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.participants.map(x=>a.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:x.name||x.email}),a.jsx("div",{className:"text-xs text-slate-500",children:x.email})]}),a.jsx("div",{className:"flex items-center gap-2",children:x.inviteToken&&a.jsx("button",{className:"px-2 py-1 text-xs rounded border border-slate-300 dark:border-slate-600",onClick:()=>c(`${window.location.origin}/join/${x.inviteToken}`),children:"Copiar link"})})]},x.id))})]})]})]}):a.jsx("div",{className:"p-4",children:"No encontrado"})}const dv="http://localhost:3001/api";async function fv(e){const t=await fetch(e);if(!t.ok)throw new Error(await t.text());return t.json()}function pv(){const{token:e}=rh();en();const[t,n]=f.useState(null),[r,s]=f.useState("");if(f.useEffect(()=>{(async()=>{try{const c=await fv(`${dv}/meetings/invite/${e}`);n(c)}catch(c){s(c.message||"Convite invlido")}})()},[e]),r)return a.jsxs("div",{className:"p-6 max-w-xl mx-auto text-center",children:[a.jsx("div",{className:"text-xl font-semibold mb-2",children:"Convite invlido"}),a.jsx("div",{className:"text-slate-600",children:String(r)})]});if(!t)return a.jsx("div",{className:"p-6 max-w-xl mx-auto text-center",children:"Carregando..."});const{meeting:l,participant:i}=t,u=`/telefonia?to=${l.code}&name=${encodeURIComponent(l.title)}`;return a.jsx("div",{className:"p-6 max-w-xl mx-auto",children:a.jsxs("div",{className:"bg-white/80 border border-slate-200 rounded-xl p-6 shadow-sm",children:[a.jsx("div",{className:"text-xl font-semibold",children:"Convite para reunio"}),a.jsx("div",{className:"mt-2 text-slate-700",children:l.title}),l.scheduledStart&&a.jsx("div",{className:"text-sm text-slate-500",children:new Date(l.scheduledStart).toLocaleString()}),a.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Convidado: ",i.name||i.email||"Convidado"]}),a.jsxs("div",{className:"mt-6 flex gap-3",children:[a.jsx("a",{href:u,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Abrir no app"}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l.code).then(()=>alert("Cdigo copiado"))},className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",children:"Copiar cdigo"})]}),a.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Se necessrio, faa login para entrar."})]})})}function hv(){const e=en(),[t,n]=f.useState([]),[r,s]=f.useState(""),[l,i]=f.useState(!0),[u,c]=f.useState("");f.useEffect(()=>{(async()=>{try{const x=await W.get("/users/all");n(x)}catch(x){c(x.message||"Falha ao carregar contatos")}finally{i(!1)}})()},[]);const p=t.filter(x=>(x.name+" "+(x.email||"")).toLowerCase().includes(r.toLowerCase()));return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Contatos"}),a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto bg-white/80 dark:bg-slate-800/70 backdrop-blur border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("input",{value:r,onChange:x=>s(x.target.value),placeholder:"Buscar por nome ou e-mail",className:"flex-1 border rounded px-3 py-2"})}),l?a.jsx("div",{className:"text-sm text-slate-600",children:"Carregando..."}):u?a.jsx("div",{className:"text-sm text-red-600",children:u}):a.jsxs("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:[p.map(x=>a.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.avatarUrl?a.jsx("img",{src:Vt(x.avatarUrl),alt:x.name,className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:x.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:x.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[x.phone&&a.jsx("span",{className:"text-xs text-slate-500 hidden md:inline",children:x.phone}),a.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700/60",onClick:()=>{const w=new URLSearchParams;x.phone&&w.set("to",x.phone),w.set("name",x.name),w.set("id",x.id),e(`/telefonia?${w.toString()}`)},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.25 6.75c0-1.24 1.01-2.25 2.25-2.25h3c.97 0 1.8.62 2.1 1.54l.86 2.58a2.25 2.25 0 0 1-.57 2.31l-1.21 1.21a12.06 12.06 0 0 0 4.88 4.88l1.21-1.21a2.25 2.25 0  1  2.31-.57l2.58.86c.92.3 1.54 1.13 1.54 2.1v3c0 1.24-1.01 2.25-2.25 2.25H18c-8.28 0-15-6.72-15-15v-3Z"})}),"Ligar"]})]})]},x.id)),p.length===0&&a.jsx("li",{className:"py-6 text-sm text-slate-500 text-center",children:"Nenhum contato encontrado"})]})]})})]})}function mv(){const e=bi(),[t,n]=f.useState("usuarios"),[r,s]=f.useState(""),[l,i]=f.useState([]),[u,c]=f.useState(""),[p,x]=f.useState(""),[w,N]=f.useState(""),[C,P]=f.useState(""),[_,I]=f.useState(""),[v,m]=f.useState(!1),[y,E]=f.useState(""),[R,U]=f.useState(null),[$,B]=f.useState(!1),[A,T]=f.useState(""),[q,X]=f.useState(""),D=o=>(o||"").replace(/\D/g,""),K=o=>{const h=D(o).slice(0,11);return h.length<=2?h:h.length<=6?`(${h.slice(0,2)}) ${h.slice(2)}`:h.length===10?`(${h.slice(0,2)}) ${h.slice(2,6)}-${h.slice(6)}`:h.length>=11?`(${h.slice(0,2)}) ${h.slice(2,7)}-${h.slice(7)}`:h},[te,ge]=f.useState([]),[Ye,z]=f.useState(""),[j,M]=f.useState(null),[Q,J]=f.useState([]),[ne,Se]=f.useState(""),[Me,Ae]=f.useState(!1),[je,Tn]=f.useState(""),[Ut,tn]=f.useState([]),[An,se]=f.useState(!1),[Ln,Ra]=f.useState(null),[In,fr]=f.useState(""),[os,On]=f.useState(!1),[st,us]=f.useState(null);function H(o,h="info",g=3e3){us({message:o,type:h});try{g&&setTimeout(()=>us(null),g)}catch{}}const[Un,nn]=f.useState(""),[kt,pt]=f.useState(""),[pr,cs]=f.useState(""),[Ve,Dn]=f.useState(""),[ds,hr]=f.useState([]),[fs,We]=f.useState(null),[$n,at]=f.useState(""),[mr,Fn]=f.useState(!1),[zn,Bn]=f.useState(""),ps=f.useRef(null),St=f.useRef(null),[gr,xr]=f.useState(()=>{try{return localStorage.getItem("chat_bg")||"default"}catch{return"default"}}),[hs,Mn]=f.useState(""),[ms,Ta]=f.useState(""),[vr,Aa]=f.useState("");function Vn(o,h){if(!(typeof window>"u"))try{const g=Array.isArray(o)?o:[];if(h){const S=g.find(L=>L.id===h);if(S!=null&&S.url){localStorage.setItem("notif_sound_url",S.url),window.dispatchEvent(new Event("chat:alertSoundUpdated"));return}}localStorage.removeItem("notif_sound_url"),window.dispatchEvent(new Event("chat:alertSoundUpdated"))}catch{}}async function Dt({silent:o}={}){try{const h=await W.get("/admin/config");cs((h==null?void 0:h.chatIconUrl)||""),Dn((h==null?void 0:h.chatWallpaperUrl)||"");const g=Array.isArray(h==null?void 0:h.alertSounds)?h.alertSounds:[];hr(g),We((h==null?void 0:h.activeAlertSoundId)||null),Vn(g,(h==null?void 0:h.activeAlertSoundId)||null)}catch(h){o||H(h.message||"Falha ao carregar configuraes","error")}}f.useEffect(()=>{try{const o=localStorage.getItem("chat_icon");o&&(nn(o.startsWith("data:")?o:""),pt(o.startsWith("data:")?"":o))}catch{}(async()=>{try{const o=await(await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/public")).json();o!=null&&o.chatIconUrl&&cs(o.chatIconUrl),o!=null&&o.chatWallpaperUrl&&Dn(o.chatWallpaperUrl)}catch{}})(),(async()=>{try{await Dt({silent:!0})}catch{}})()},[]);function Si(o){var S;const h=(S=o.target.files)==null?void 0:S[0];if(!h)return;if(!h.type.startsWith("image/")){H("Selecione uma imagem","error");return}const g=new FileReader;g.onload=()=>{nn(String(g.result)),pt("")},g.readAsDataURL(h)}function rn(o){var h,g,S;(h=o==null?void 0:o.preventDefault)==null||h.call(o);try{const L=(kt==null?void 0:kt.trim())||Un;if(!L){H("Defina uma imagem ou URL","error");return}localStorage.setItem("chat_icon",L);try{window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}try{localStorage.setItem("chat_bg",gr||"default"),(S=(g=document.body)==null?void 0:g.setAttribute)==null||S.call(g,"data-chat-bg",gr||"default"),window.dispatchEvent(new Event("chat:bgUpdated"))}catch{}H("Configuraes salvas","success")}catch{H("Falha ao salvar configuraes","error")}}async function gs(o){if(!o)return;const h=new FormData;h.append("icon",o);try{const g=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/icon",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:h});if(!g.ok){const L=await g.text();throw new Error(L||"Falha no upload")}const S=await g.json();if(S!=null&&S.chatIconUrl){cs(S.chatIconUrl),H("cone global atualizado","success");try{localStorage.setItem("chat_icon",S.chatIconUrl),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}}}catch(g){H(g.message||"Falha ao enviar cone","error")}}async function xs(o){if(!o)return;const h=new FormData;h.append("wallpaper",o);try{const g=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/wallpaper",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:h});if(!g.ok){const L=await g.text();throw new Error(L||"Falha no upload")}const S=await g.json();if(S!=null&&S.chatWallpaperUrl){Dn(S.chatWallpaperUrl),document.documentElement.style.setProperty("--chat-wallpaper",`url('${S.chatWallpaperUrl}')`);try{localStorage.setItem("chat_wallpaper",S.chatWallpaperUrl),window.dispatchEvent(new Event("chat:wallpaperUpdated"))}catch{}H("Papel de parede global atualizado","success")}}catch(g){H(g.message||"Falha ao enviar papel de parede","error")}}async function La(){try{if(!Ve){H("Nenhum papel de parede para salvar","error");return}const o=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({chatWallpaperUrl:Ve})});if(!o.ok){const h=await o.text();throw new Error(h||"Falha ao salvar")}H("Papel de parede salvo para todos","success")}catch(o){H(o.message||"Falha ao salvar papel de parede","error")}}async function Wn(){try{if(!(typeof window<"u"?window.confirm("Excluir papel de parede global?"):!0))return;const h=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/wallpaper",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!h.ok){const g=await h.text();throw new Error(g||"Falha ao excluir")}Dn("");try{localStorage.removeItem("chat_wallpaper"),document.documentElement.style.removeProperty("--chat-wallpaper"),window.dispatchEvent(new Event("chat:wallpaperUpdated"))}catch{}H("Papel de parede global excludo","success")}catch(o){H(o.message||"Falha ao excluir papel de parede","error")}}function Ia(){var o,h;try{(h=(o=ps.current)==null?void 0:o.click)==null||h.call(o)}catch{}}async function Hn(o){var g,S;const h=(S=(g=o==null?void 0:o.target)==null?void 0:g.files)==null?void 0:S[0];if(h){if(h.type&&!h.type.startsWith("audio/")){H("Selecione um arquivo de udio","error"),o!=null&&o.target&&(o.target.value="");return}Fn(!0);try{const L=new FormData;L.append("sound",h);const F=($n||"").trim();F&&L.append("name",F);const G=await W.upload("/admin/config/alert-sounds",L),ye=Array.isArray(G==null?void 0:G.alertSounds)?G.alertSounds:[];hr(ye),We((G==null?void 0:G.activeAlertSoundId)||null),Vn(ye,(G==null?void 0:G.activeAlertSoundId)||null),F&&at(""),H("Som enviado","success")}catch(L){H(L.message||"Falha ao enviar som","error")}finally{Fn(!1),o!=null&&o.target&&(o.target.value="")}}}async function vs(o){try{const h=await W.post(`/admin/config/alert-sounds/${o||"none"}/activate`,{}),g=Array.isArray(h==null?void 0:h.alertSounds)?h.alertSounds:[];hr(g),We((h==null?void 0:h.activeAlertSoundId)||null),Vn(g,(h==null?void 0:h.activeAlertSoundId)||null),H(o?"Som de alerta atualizado":"Bip padro ativado","success")}catch(h){H(h.message||"Falha ao atualizar som de alerta","error")}}async function Oa(o){if(o)try{if(typeof window<"u"&&!window.confirm("Excluir este som de alerta?"))return;Bn(o);const h=await W.del(`/admin/config/alert-sounds/${o}`),g=Array.isArray(h==null?void 0:h.alertSounds)?h.alertSounds:[];hr(g),We((h==null?void 0:h.activeAlertSoundId)||null),Vn(g,(h==null?void 0:h.activeAlertSoundId)||null),H("Som excludo","success")}catch(h){H(h.message||"Falha ao excluir som","error")}finally{Bn("")}}function Ua(o){var h,g;if(!o){H("Som indisponvel","error");return}try{(g=(h=St.current)==null?void 0:h.pause)==null||g.call(h),St.current=new Audio(o),St.current.onended=()=>{St.current=null},St.current.play().catch(()=>{H("No foi possvel reproduzir o som","error")})}catch{H("No foi possvel reproduzir o som","error")}}async function Qn(o){var h;(h=o==null?void 0:o.preventDefault)==null||h.call(o);try{const g=(hs||"").trim(),S=(ms||"").trim(),L=(vr||"").trim();if(!g){H("Informe a senha atual","error");return}if(S.length<6){H("Nova senha deve ter 6+ caracteres","error");return}if(S!==L){H("Confirmao no confere","error");return}await W.post("/users/me/password",{current:g,password:S}),Mn(""),Ta(""),Aa(""),H("Senha do admin alterada","success")}catch(g){H(g.message||"Falha ao alterar senha","error")}}f.useEffect(()=>{(async()=>{try{const o=await W.get("/users");i(Array.isArray(o)?o:[])}catch(o){s(h=>h?h+"  Usurios: "+(o.message||"falha"):"Usurios: "+(o.message||"falha"))}})()},[]),f.useEffect(()=>{(async()=>{try{const o=await W.get("/groups/all?includeDMs=false");ge(Array.isArray(o)?o:[])}catch(o){s(h=>h?h+"  Grupos: "+(o.message||"falha"):"Grupos: "+(o.message||"falha"))}})()},[]);const yr=f.useMemo(()=>{const o=y.trim().toLowerCase();return o?l.filter(h=>`${h.name} ${h.email}`.toLowerCase().includes(o)):l},[l,y]),qn=f.useMemo(()=>l.filter(o=>!Q.some(h=>h.userId===o.id)),[l,Q]),Da=f.useMemo(()=>{const o=ne.trim().toLowerCase();return o?qn.filter(h=>`${h.name} ${h.email}`.toLowerCase().includes(o)):qn},[qn,ne]);async function Kn(){try{const o=await W.get("/users");i(Array.isArray(o)?o:[])}catch{}}async function $a(o){var F;(F=o==null?void 0:o.preventDefault)==null||F.call(o),s("");const h=K(C),g=D(h),S=(_||"").trim();if(g&&(g.length<10||g.length>11))return s("Telefone invlido (use DDD + nmero).");const L={name:u.trim(),email:p.trim(),password:w,isAdmin:!!v,phone:g?h:null,address:S||null};if(!L.name||L.name.length<2)return s("Informe um nome vlido.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(L.email))return s("E-mail invlido.");if(!L.password||L.password.length<6)return s("Senha com 6+ caracteres.");try{await W.post("/users",L),await Kn(),c(""),x(""),N(""),P(""),I(""),m(!1)}catch(G){s(G.message||"Falha ao criar usurio")}}function Fa(o){U({...o}),T("")}function $t(){$||(U(null),T(""))}async function za(o){var h;if((h=o==null?void 0:o.preventDefault)==null||h.call(o),!!R){B(!0),s("");try{const g=K(R.phone||""),S=D(g);if(S&&(S.length<10||S.length>11))throw new Error("Telefone invlido (use DDD + nmero).");const L={name:(R.name||"").trim(),email:(R.email||"").trim(),phone:S?g:null,address:(R.address||"").trim()||null,isAdmin:!!R.isAdmin,isBlocked:!!R.isBlocked};if(await W.patch(`/users/${R.id}`,L),A&&A.trim().length>=6)if(e!=null&&e.id&&R.id===e.id){if(!q.trim())throw new Error("Informe a senha atual para alterar a sua senha.");await W.post("/users/me/password",{current:q.trim(),password:A.trim()})}else await W.post(`/users/${R.id}/password`,{password:A.trim()});await Kn(),$t()}catch(g){s(g.message||"Falha ao salvar usurio")}finally{B(!1)}}}async function Ft(o){if(confirm("Excluir este usurio?"))try{await W.del(`/users/${o}`),i(h=>h.filter(g=>g.id!==o)),H("Usurio excludo","success")}catch(h){H(h.message||"Falha ao excluir","error")}}function Ba(o){Ra(o.id),fr("")}function wr(){Ra(null),fr("")}async function ys(){if(!(!Ln||!In)){On(!0);try{await W.post(`/groups/${In}/members`,{userId:Ln}),(j==null?void 0:j.id)===In&&await _r(),wr(),H("Usurio adicionado ao grupo","success")}catch(o){H(o.message||"Falha ao adicionar ao grupo","error")}finally{On(!1)}}}async function ws(o){var g;(g=o==null?void 0:o.preventDefault)==null||g.call(o),s("");const h=(Ye||"").trim();if(h.length<2)return s("Informe um nome de grupo com 2+ caracteres.");try{await W.post("/groups",{name:h});const S=await W.get("/groups/all?includeDMs=false");ge(Array.isArray(S)?S:[]),z("")}catch(S){s(S.message||"Falha ao criar grupo")}}const[br,bs]=f.useState([]),[Nr,Ns]=f.useState(""),[ks,kr]=f.useState(!1),[Sr,jr]=f.useState(""),[Ss,js]=f.useState(""),[Ma,Es]=f.useState(""),[Cs,Va]=f.useState(""),[_s,Ps]=f.useState(""),[Gn,Er]=f.useState(!1),[Rs,jt]=f.useState(null),[zt,Yn]=f.useState({domain:"",extension:"",password:""});async function sn(){kr(!0),jr("");try{const o=await W.get("/phone");bs(Array.isArray(o)?o:[])}catch(o){jr(o.message||"Falha ao carregar contas SIP")}finally{kr(!1)}}f.useEffect(()=>{(async()=>{try{await sn()}catch{}})()},[]);async function Wa(o){var h;(h=o==null?void 0:o.preventDefault)==null||h.call(o),Er(!0);try{const g=(Ss||"").trim(),S=(Ma||"").trim(),L=(Cs||"").trim(),F=(_s||"").trim();if(!g||!S||!L){H("Informe usurio, domnio e ramal.","error");return}await W.patch(`/phone/${g}`,{domain:S,extension:L,...F?{password:F}:{}}),await sn(),js(""),Es(""),Va(""),Ps(""),H("Conta SIP salva","success")}catch(g){H(g.message||"Falha ao salvar conta SIP","error")}finally{Er(!1)}}function Ts(o){jt(o.user.id),Yn({domain:o.domain||"",extension:o.extension||"",password:""})}function Ha(){jt(null),Yn({domain:"",extension:"",password:""})}async function ji(){if(Rs){Er(!0);try{const o={domain:(zt.domain||"").trim(),extension:(zt.extension||"").trim()};if(!o.domain||!o.extension){H("Domnio e ramal so obrigatrios.","error");return}(zt.password||"").trim()&&(o.password=(zt.password||"").trim()),await W.patch(`/phone/${Rs}`,o),await sn(),Ha(),H("Conta SIP atualizada","success")}catch(o){H(o.message||"Falha ao atualizar conta SIP","error")}finally{Er(!1)}}}async function Ei(o){try{await W.post(`/phone/${o}/disconnect`,{}),await sn(),H("Desconectado","success")}catch(h){H(h.message||"Falha ao desconectar","error")}}async function As(o){try{if(typeof window<"u"&&!window.confirm("Excluir ramal/conta SIP deste usurio?"))return;await W.delete(`/phone/${o}`),await sn(),H("Ramal excludo","success")}catch(h){H(h.message||"Falha ao excluir ramal","error")}}async function Ci(o){M(o),Se(""),Tn(""),tn([]);try{const h=await W.get(`/groups/${o.id}/members`);J(Array.isArray(h)?h:[])}catch(h){J([]),s(h.message||"Falha ao carregar membros")}}async function Cr(o){if(o)try{if((j==null?void 0:j.id)===o){if(Q.length>0){H("Remova todos os membros antes de excluir o grupo.","error");return}}else try{const h=await W.get(`/groups/${o}/members`);if(Array.isArray(h)&&h.length>0){H("Remova todos os membros antes de excluir o grupo.","error");return}}catch{}if(typeof window<"u"&&!window.confirm("Excluir este grupo? Esta ao no pode ser desfeita."))return;await W.delete(`/groups/${o}`),ge(h=>h.filter(g=>g.id!==o)),(j==null?void 0:j.id)===o&&(M(null),J([])),H("Grupo excludo","success")}catch(h){H(h.message||"Falha ao excluir grupo","error")}}async function _r(){if(j)try{const o=await W.get(`/groups/${j.id}/members`);J(Array.isArray(o)?o:[])}catch{}}async function Qa(){if(!(!j||!je)){Ae(!0);try{await W.post(`/groups/${j.id}/members`,{userId:je}),Tn(""),await _r()}catch(o){H(o.message||"Falha ao adicionar membro","error")}finally{Ae(!1)}}}async function qa(o){if(j)try{await W.delete(`/groups/${j.id}/members/${o}`),J(h=>h.filter(g=>g.userId!==o))}catch(h){H(h.message||"Falha ao remover","error")}}function Ka(o){tn(h=>h.includes(o)?h.filter(g=>g!==o):[...h,o])}function d(){tn(Q.map(o=>o.userId))}function b(){tn([])}async function k(){if(!(!j||!Ut.length)&&!(typeof window<"u"&&!window.confirm(`Remover ${Ut.length} membro(s) de ${j.name}?`))){se(!0);try{const o=Ut.map(L=>W.delete(`/groups/${j.id}/members/${L}`)),h=await Promise.allSettled(o),g=h.filter(L=>L.status==="fulfilled").length,S=h.length-g;g&&await _r(),b(),S?H(`Removidos: ${g}. Falhas: ${S}.`,"error"):H(`Removidos: ${g}.`,"success")}catch(o){H(o.message||"Falha ao remover seleo","error")}finally{se(!1)}}}return a.jsxs("div",{className:"p-4 overflow-auto h-full",children:[st&&a.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-2 rounded shadow border text-sm ${st.type==="success"?"bg-green-50 text-green-800 border-green-200":st.type==="error"?"bg-red-50 text-red-800 border-red-200":"bg-slate-50 text-slate-800 border-slate-200"}`,children:st.message}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Admin"}),a.jsx("div",{className:"mt-3 border-b border-slate-200",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n("usuarios"),className:`px-2 py-2 -mb-px border-b-2 ${t==="usuarios"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Usurios"}),a.jsx("button",{onClick:()=>n("grupos"),className:`px-2 py-2 -mb-px border-b-2 ${t==="grupos"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Grupos"}),a.jsx("button",{onClick:()=>n("telefonia"),className:`px-2 py-2 -mb-px border-b-2 ${t==="telefonia"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Telefonia"}),a.jsx("button",{onClick:()=>n("configuracoes"),className:`px-2 py-2 -mb-px border-b-2 ${t==="configuracoes"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Configuraes"})]})}),r&&a.jsx("div",{className:"mt-3 rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2",children:r}),t==="usuarios"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("form",{onSubmit:$a,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2",children:[a.jsx("h4",{className:"font-medium",children:"Novo Usurio"}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:u,onChange:o=>c(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"E-mail",value:p,onChange:o=>x(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Telefone (opcional)",value:C,onChange:o=>P(K(o.target.value))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Endereo (opcional)",value:_,onChange:o=>I(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha",type:"password",value:w,onChange:o=>N(o.target.value)}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:o=>m(o.target.checked)})," Admin"]}),a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Criar"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Lista"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Buscar...",value:y,onChange:o=>E(o.target.value)}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:Kn,children:"Atualizar"})]})]}),yr.length?a.jsx("ul",{className:"mt-2 divide-y divide-slate-200",children:yr.map(o=>a.jsxs("li",{className:"py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:o.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:o.email}),a.jsxs("div",{className:"text-xs text-slate-500",children:[o.isAdmin?"admin":"",o.isBlocked?(o.isAdmin?"  ":"")+"bloqueado":""]})]}),a.jsxs("div",{className:"shrink-0 flex items-center gap-3",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>Fa(o),children:"Editar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>Ft(o.id),children:"Excluir"}),a.jsx("div",{className:"relative inline-block",children:Ln===o.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:In,onChange:h=>fr(h.target.value),children:[a.jsx("option",{value:"",children:"Escolha o grupo"}),te.map(h=>a.jsx("option",{value:h.id,children:h.name},h.id))]}),a.jsx("button",{className:"px-2 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",disabled:!In||os,onClick:ys,children:os?"Adicionando...":"Adicionar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border",onClick:wr,children:"Cancelar"})]}):a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-slate-300 text-slate-700 hover:bg-slate-50",onClick:()=>Ba(o),children:"Adicionar ao grupo"})})]})]},o.id))}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum usurio encontrado."})]})]}),t==="grupos"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("form",{onSubmit:ws,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2",children:[a.jsx("h4",{className:"font-medium",children:"Novo Grupo"}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome do grupo",value:Ye,onChange:o=>z(o.target.value)}),a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Criar"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Lista"}),a.jsxs("div",{className:"text-xs text-slate-500",children:[te.length," grupo(s)"]})]}),te.length?a.jsx("ul",{className:"mt-2 space-y-1",children:te.map(o=>a.jsx("li",{className:`px-2 py-1 rounded border cursor-pointer ${(j==null?void 0:j.id)===o.id?"border-blue-400 bg-blue-50":"border-slate-200 hover:bg-slate-50"}`,onClick:()=>Ci(o),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:o.name}),(()=>{const h=(j==null?void 0:j.id)===o.id&&Q.length>0;return a.jsx("button",{type:"button",className:`px-2 py-1 text-sm rounded border ml-3 border-red-300 text-red-700 ${h?"opacity-50 cursor-not-allowed":"hover:bg-red-50"}`,disabled:h,title:h?"Remova todos os membros antes de excluir":"Excluir",onClick:g=>{g.stopPropagation(),h||Cr(o.id)},children:"Excluir"})})()]})},o.id))}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum grupo encontrado."})]}),j&&a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Membros  ",j.name]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`text-xs rounded border px-2 py-1 border-red-300 text-red-700 ${Q.length>0?"opacity-50 cursor-not-allowed":"hover:bg-red-50"}`,disabled:Q.length>0,title:Q.length>0?"Remova todos os membros antes de excluir":"Excluir grupo",onClick:()=>{Q.length===0&&Cr(j.id)},children:"Excluir grupo"}),a.jsx("button",{type:"button",className:"text-xs rounded border px-2 py-1 hover:bg-slate-50",onClick:d,children:"Selecionar todos"}),a.jsx("button",{type:"button",className:"text-xs rounded border px-2 py-1 hover:bg-slate-50",onClick:b,children:"Limpar seleo"}),a.jsx("button",{type:"button",className:"text-xs rounded bg-red-600 text-white px-2 py-1 disabled:opacity-60",disabled:!Ut.length||An,onClick:k,children:An?"Removendo...":"Remover seleo"}),a.jsx("button",{type:"button",className:"text-xs text-slate-600 underline",onClick:_r,children:"Atualizar"})]})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm flex-1",placeholder:"Buscar usurio...",value:ne,onChange:o=>Se(o.target.value)}),a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:je,onChange:o=>Tn(o.target.value),children:[a.jsx("option",{value:"",children:"Selecionar usurio"}),Da.map(o=>a.jsxs("option",{value:o.id,children:[o.name,"  ",o.email]},o.id))]}),a.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",disabled:!je||Me,onClick:Qa,children:Me?"Adicionando...":"Adicionar"})]}),Q.length?a.jsx("ul",{className:"mt-3 divide-y divide-slate-200",children:Q.map(o=>{var h,g;return a.jsxs("li",{className:"py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:Ut.includes(o.userId),onChange:()=>Ka(o.userId)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium truncate",children:((h=o.user)==null?void 0:h.name)||o.userId}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(g=o.user)==null?void 0:g.email})]})]}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>qa(o.userId),children:"Remover"})]},o.userId)})}):a.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Sem membros ainda."})]})]}),t==="telefonia"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[a.jsxs("form",{onSubmit:Wa,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2 md:col-span-1",children:[a.jsx("h4",{className:"font-medium",children:"Nova/Atualizar conta SIP"}),a.jsxs("select",{className:"border rounded px-3 py-2",value:Ss,onChange:o=>js(o.target.value),children:[a.jsx("option",{value:"",children:"Selecione o usurio"}),l.map(o=>a.jsxs("option",{value:o.id,children:[o.name,"  ",o.email]},o.id))]}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Domnio (ex.: sip.empresa.com)",value:Ma,onChange:o=>Es(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Ramal/Extenso",value:Cs,onChange:o=>Va(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha (opcional para manter)",type:"password",value:_s,onChange:o=>Ps(o.target.value)}),a.jsx("button",{disabled:Gn,className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700 disabled:opacity-60",children:Gn?"Salvando...":"Salvar conta SIP"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Contas SIP"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm w-64 shrink-0",placeholder:"Buscar por nome, e-mail, ramal, domnio",value:Nr,onChange:o=>Ns(o.target.value)}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:sn,children:"Atualizar"})]})]}),Sr&&a.jsx("div",{className:"mt-2 rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2 text-sm",children:Sr}),ks?a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Carregando..."}):br.length?a.jsx("ul",{className:"mt-2 divide-y divide-slate-200",children:br.filter(o=>{var S,L;const h=Nr.trim().toLowerCase();return h?`${((S=o.user)==null?void 0:S.name)||""} ${((L=o.user)==null?void 0:L.email)||""} ${o.extension||""} ${o.domain||""}`.toLowerCase().includes(h):!0}).map(o=>{var h,g,S,L;return a.jsx("li",{className:"py-2",children:Rs===o.user.id?a.jsxs("div",{className:"grid md:grid-cols-6 gap-2 items-center",children:[a.jsxs("div",{className:"md:col-span-2 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:(h=o.user)==null?void 0:h.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(g=o.user)==null?void 0:g.email})]}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Domnio",value:zt.domain,onChange:F=>Yn(G=>({...G,domain:F.target.value}))}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Ramal",value:zt.extension,onChange:F=>Yn(G=>({...G,extension:F.target.value}))}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Senha (opcional)",type:"password",value:zt.password,onChange:F=>Yn(G=>({...G,password:F.target.value}))}),a.jsxs("div",{className:"flex items-center gap-2 justify-end whitespace-nowrap",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border",onClick:Ha,disabled:Gn,children:"Cancelar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",onClick:ji,disabled:Gn,children:"Salvar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>As(o.user.id),disabled:Gn,children:"Excluir"})]})]}):a.jsxs("div",{className:"grid md:grid-cols-6 gap-2 items-center",children:[a.jsxs("div",{className:"md:col-span-2 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:(S=o.user)==null?void 0:S.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(L=o.user)==null?void 0:L.email})]}),a.jsx("div",{className:"text-sm truncate",children:o.domain}),a.jsx("div",{className:"text-sm",children:o.extension}),a.jsx("div",{className:"text-xs",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full border ${o.regRegistered?"bg-green-50 text-green-700 border-green-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:o.regRegistered?"registrado":o.regStatus||"desconectado"})}),a.jsxs("div",{className:"flex items-center gap-3 justify-end whitespace-nowrap",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>Ts(o),children:"Editar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>Ei(o.user.id),children:"Desconectar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>As(o.user.id),children:"Excluir"})]})]})},o.id)})}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhuma conta SIP encontrada."})]})]}),t==="configuracoes"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 lg:col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Chat da organizao (Global)"}),a.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"cone do chat"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[pr?a.jsx("img",{src:pr,alt:"global",className:"w-12 h-12 rounded-full object-cover border"}):a.jsx("div",{className:"w-12 h-12 rounded-full border bg-slate-100"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"cfg-file-global",className:"hidden",type:"file",accept:"image/*",onChange:o=>{var h;return gs((h=o.target.files)==null?void 0:h[0])}}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var o;return(o=document.getElementById("cfg-file-global"))==null?void 0:o.click()},children:"Enviar"}),pr&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{try{localStorage.setItem("chat_icon",pr),window.dispatchEvent(new Event("chat:iconUpdated")),H("Aplicado cone global neste navegador","success")}catch{}},children:"Aplicar local"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Papel de parede (conversas)"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx("div",{className:"w-28 h-16 rounded border bg-slate-100 overflow-hidden",children:a.jsx("div",{className:"w-full h-full chat-bg",style:{"--chat-wallpaper":Ve?`url('${Ve}')`:void 0}})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{id:"cfg-file-wallpaper",className:"hidden",type:"file",accept:"image/*",onChange:o=>{var h;return xs((h=o.target.files)==null?void 0:h[0])}}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var o;return(o=document.getElementById("cfg-file-wallpaper"))==null?void 0:o.click()},children:"Enviar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-green-300 text-green-700 hover:bg-green-50",onClick:La,disabled:!Ve,children:"Salvar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{try{if(!Ve){H("Nenhum wallpaper para aplicar","error");return}localStorage.setItem("chat_wallpaper",Ve),document.documentElement.style.setProperty("--chat-wallpaper",`url('${Ve}')`),window.dispatchEvent(new Event("chat:wallpaperUpdated")),H("Aplicado localmente","success")}catch{}},disabled:!Ve,children:"Aplicar local"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:Wn,disabled:!Ve,children:"Excluir"})]})]}),a.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Afeta todos os usurios. A aplicao local funciona apenas neste navegador."})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"font-medium",children:"Sons de alerta"}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Faa upload de arquivos de udio (mp3, wav, ogg) para usar como alerta padro do chat."}),a.jsxs("div",{className:"mt-3 flex flex-col md:flex-row md:items-end gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Nome (opcional)"}),a.jsx("input",{className:"mt-1 border rounded px-3 py-2 w-full",placeholder:"Ex.: Alerta ping",value:$n,onChange:o=>at(o.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{ref:ps,type:"file",accept:"audio/*",className:"hidden",onChange:Hn}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50 disabled:opacity-60",onClick:Ia,disabled:mr,children:mr?"Enviando...":"Enviar som"}),mr&&a.jsx("span",{className:"text-xs text-slate-500",children:"Aguarde..."})]})]}),ds.length?a.jsx("ul",{className:"mt-3 divide-y divide-slate-200",children:ds.map(o=>a.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:o.name||"Som"}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:o.url})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:()=>Ua(o.url),children:"Ouvir"}),fs===o.id?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:"Ativo"}):a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>vs(o.id),children:"Definir"}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50 disabled:opacity-60",onClick:()=>Oa(o.id),disabled:zn===o.id,children:zn===o.id?"Excluindo...":"Excluir"})]})]},o.id))}):a.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Nenhum som cadastrado ainda."}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{type:"button",className:"text-xs text-slate-600 underline disabled:opacity-60",onClick:()=>vs(null),disabled:!fs,children:"Usar bip padro"})})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Aparncia Local"}),a.jsxs("form",{onSubmit:rn,className:"mt-2 flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"cone local"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("input",{id:"cfg-file",className:"hidden",type:"file",accept:"image/*",onChange:Si}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var o;return(o=document.getElementById("cfg-file"))==null?void 0:o.click()},children:"Escolher"}),(Un||kt)&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>{nn(""),pt("")},children:"Limpar"})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Preview"}),Un||kt?a.jsx("img",{src:Un||kt,alt:"cone",className:"mt-1 w-10 h-10 rounded-full object-cover border"}):a.jsx("div",{className:"mt-1 w-10 h-10 rounded-full border bg-slate-100"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"URL (opcional)"}),a.jsx("input",{className:"border rounded px-3 py-2 w-full",placeholder:"https://...",value:kt,onChange:o=>{pt(o.target.value),o.target.value&&nn("")}})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Tema do papel de parede"}),a.jsxs("select",{className:"mt-1 border rounded px-3 py-2 w-full",value:gr,onChange:o=>xr(o.target.value),children:[a.jsx("option",{value:"default",children:"Padro"}),a.jsx("option",{value:"whatsapp",children:"WhatsApp"})]})]}),a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Salvar local"})})]})]}),a.jsxs("form",{onSubmit:Qn,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2 lg:col-span-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Conta do administrador"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-2 mt-2",children:[a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha atual",type:"password",value:hs,onChange:o=>Mn(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nova senha (6+)",type:"password",value:ms,onChange:o=>Ta(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Confirmar nova senha",type:"password",value:vr,onChange:o=>Aa(o.target.value)})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Alterar senha"})})]})]}),R&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 grid place-items-center",onClick:$t,children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded border border-slate-200 p-4",onClick:o=>o.stopPropagation(),children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Editar Usurio"}),a.jsxs("form",{onSubmit:za,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:R.name||"",onChange:o=>U(h=>({...h,name:o.target.value}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"E-mail",value:R.email||"",onChange:o=>U(h=>({...h,email:o.target.value}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Telefone",value:R.phone||"",onChange:o=>U(h=>({...h,phone:K(o.target.value)}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Endereo",value:R.address||"",onChange:o=>U(h=>({...h,address:o.target.value}))}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!R.isAdmin,onChange:o=>U(h=>({...h,isAdmin:o.target.checked}))})," Admin"]}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!R.isBlocked,onChange:o=>U(h=>({...h,isBlocked:o.target.checked}))})," Bloqueado"]}),(e==null?void 0:e.id)&&R.id===e.id&&a.jsx("input",{className:"border rounded px-3 py-2 md:col-span-2",placeholder:"Senha atual (obrigatria para trocar a sua senha)",type:"password",value:q,onChange:o=>X(o.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2 md:col-span-2",placeholder:"Nova senha (opcional, 6+)",type:"password",value:A,onChange:o=>T(o.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center justify-end gap-2 mt-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded border",onClick:$t,disabled:$,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-60",disabled:$,children:$?"Salvando...":"Salvar"})]})]})]})})]})}function gv(){const[e,t]=f.useState(""),[n,r]=f.useState(""),[s,l]=f.useState(""),[i,u]=f.useState(null),[c,p]=f.useState(""),[x,w]=f.useState(""),[N,C]=f.useState(""),[P,_]=f.useState(""),[I,v]=f.useState(""),[m,y]=f.useState(""),E=f.useRef(null),R=f.useRef(""),U=D=>(D||"").replace(/\D/g,""),$=D=>{const K=U(D).slice(0,11);return K.length<=2?K:K.length<=6?`(${K.slice(0,2)}) ${K.slice(2)}`:K.length===10?`(${K.slice(0,2)}) ${K.slice(2,6)}-${K.slice(6)}`:K.length>=11?`(${K.slice(0,2)}) ${K.slice(2,7)}-${K.slice(7)}`:K},B=()=>{if(R.current){if(typeof URL<"u"&&typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(R.current)}catch{}R.current=""}};f.useEffect(()=>()=>{B()},[]),f.useEffect(()=>{(async()=>{try{const D=await W.get("/users/me");t(D.name||""),r(D.phone?$(D.phone):""),l(D.address||"");const K=D.avatarUrl||"";w(K),p(K)}catch{y("Falha ao carregar perfil")}})()},[]);const A=()=>{var D;(D=E.current)==null||D.click()},T=D=>{var te;const K=((te=D.target.files)==null?void 0:te[0])||null;if(u(K),B(),K)try{const ge=URL.createObjectURL(K);R.current=ge,p(ge)}catch{p(x)}else p(x)};async function q(D){D.preventDefault(),v(""),y("");try{const K=$(n),te=U(K);if(te&&(te.length<10||te.length>11))throw new Error("Telefone invalido (use DDD + numero).");const ge=(e||"").trim(),Ye=(s||"").trim(),z={phone:te?K:null,address:Ye||null};if(ge&&(z.name=ge),i){await W.patch("/users/me",z);const j=new FormData;j.append("avatar",i),await W.uploadPatch("/users/me",j)}else await W.patch("/users/me",z);try{const j=await W.get("/users/me"),M=j.avatarUrl||"";t(j.name||""),r(j.phone?$(j.phone):""),l(j.address||""),B(),w(M),p(M),u(null),E.current&&(E.current.value="");const Q=_t();Q&&oh(Q,j);try{window.dispatchEvent(new Event("chat:userUpdated"))}catch{}}catch{}v("Perfil atualizado!")}catch(K){y(K.message||"Erro ao salvar")}}async function X(D){D.preventDefault(),v(""),y("");try{await W.post("/users/me/password",{current:N,password:P}),C(""),_(""),v("Senha alterada!")}catch(K){y(K.message||"Erro ao alterar senha")}}return a.jsxs("div",{className:"p-4 overflow-auto h-full",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Meu perfil"}),I&&a.jsx("div",{className:"text-green-600 text-sm mt-2",children:I}),m&&a.jsx("div",{className:"text-red-600 text-sm mt-2",children:m}),a.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-[260px,1fr]",children:[a.jsxs("section",{className:"bg-white p-4 rounded border border-slate-200 flex flex-col items-center gap-3 text-center",children:[a.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full border border-slate-200 dark:border-slate-700 overflow-hidden bg-slate-100 flex items-center justify-center text-slate-500",children:c?a.jsx("img",{src:c,alt:"avatar",className:"w-full h-full object-cover",onError:()=>p("")}):a.jsx("span",{className:"text-sm",children:"Sem foto"})}),a.jsx("button",{type:"button",onClick:A,className:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 text-sm rounded border border-slate-300 hover:bg-slate-50",children:"Alterar foto"}),a.jsx("input",{ref:E,type:"file",accept:"image/*",className:"hidden",onChange:T}),i&&a.jsx("div",{className:"w-full text-xs text-slate-500 truncate",children:i.name}),a.jsx("p",{className:"text-xs text-slate-500",children:"Utilize imagens quadradas para melhor resultado."})]}),a.jsxs("form",{onSubmit:q,className:"bg-white p-4 rounded border border-slate-200 grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Nome"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:e,onChange:D=>t(D.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Telefone"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:n,onChange:D=>r($(D.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Endereco"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:s,onChange:D=>l(D.target.value)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Salvar"})})]})]}),a.jsxs("form",{onSubmit:X,className:"mt-4 bg-white p-4 rounded border border-slate-200 grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Senha atual"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:N,onChange:D=>C(D.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Nova senha"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:P,onChange:D=>_(D.target.value)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-slate-700 text-white px-3 py-2 hover:bg-slate-800",children:"Alterar senha"})})]})]})}function xv({children:e}){return _t()?e:a.jsx(nu,{to:"/login",replace:!0})}function vv({children:e}){const t=_t(),n=bi();return t?n!=null&&n.isAdmin?e:a.jsx(nu,{to:"/",replace:!0}):a.jsx(nu,{to:"/login",replace:!0})}Yp(document.getElementById("root")).render(a.jsx(Qd.StrictMode,{children:a.jsx(tx,{children:a.jsxs(Kg,{children:[a.jsx(Je,{path:"/login",element:a.jsx(av,{})}),a.jsx(Je,{path:"/register",element:a.jsx(lv,{})}),a.jsx(Je,{path:"/join/:token",element:a.jsx(pv,{})}),a.jsxs(Je,{path:"/",element:a.jsx(xv,{children:a.jsx(sv,{})}),children:[a.jsx(Je,{index:!0,element:a.jsx(jh,{})}),a.jsx(Je,{path:"conversas",element:a.jsx(iv,{})}),a.jsx(Je,{path:"telefonia",element:a.jsx(ov,{})}),a.jsx(Je,{path:"reunioes",element:a.jsx(uv,{})}),a.jsx(Je,{path:"reunioes/:id",element:a.jsx(cv,{})}),a.jsx(Je,{path:"contatos",element:a.jsx(hv,{})}),a.jsx(Je,{path:"admin",element:a.jsx(vv,{children:a.jsx(mv,{})})}),a.jsx(Je,{path:"profile",element:a.jsx(gv,{})})]})]})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{try{navigator.serviceWorker.register("/sw.js")}catch{}});
