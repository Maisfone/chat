function Fm(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const o of l.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function $m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Nf={exports:{}},Co={},kf={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Va=Symbol.for("react.element"),Mm=Symbol.for("react.portal"),Dm=Symbol.for("react.fragment"),zm=Symbol.for("react.strict_mode"),Bm=Symbol.for("react.profiler"),Vm=Symbol.for("react.provider"),Wm=Symbol.for("react.context"),Hm=Symbol.for("react.forward_ref"),qm=Symbol.for("react.suspense"),Qm=Symbol.for("react.memo"),Km=Symbol.for("react.lazy"),Ju=Symbol.iterator;function Gm(e){return e===null||typeof e!="object"?null:(e=Ju&&e[Ju]||e["@@iterator"],typeof e=="function"?e:null)}var Sf={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ef=Object.assign,Cf={};function ys(e,t,n){this.props=e,this.context=t,this.refs=Cf,this.updater=n||Sf}ys.prototype.isReactComponent={};ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _f(){}_f.prototype=ys.prototype;function Bc(e,t,n){this.props=e,this.context=t,this.refs=Cf,this.updater=n||Sf}var Vc=Bc.prototype=new _f;Vc.constructor=Bc;Ef(Vc,ys.prototype);Vc.isPureReactComponent=!0;var Yu=Array.isArray,Rf=Object.prototype.hasOwnProperty,Wc={current:null},Pf={key:!0,ref:!0,__self:!0,__source:!0};function Lf(e,t,n){var r,s={},l=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(l=""+t.key),t)Rf.call(t,r)&&!Pf.hasOwnProperty(r)&&(s[r]=t[r]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}if(e&&e.defaultProps)for(r in c=e.defaultProps,c)s[r]===void 0&&(s[r]=c[r]);return{$$typeof:Va,type:e,key:l,ref:o,props:s,_owner:Wc.current}}function Zm(e,t){return{$$typeof:Va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Hc(e){return typeof e=="object"&&e!==null&&e.$$typeof===Va}function Jm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Xu=/\/+/g;function ai(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Jm(""+e.key):t.toString(36)}function Ml(e,t,n,r,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Va:case Mm:o=!0}}if(o)return o=e,s=s(o),e=r===""?"."+ai(o,0):r,Yu(s)?(n="",e!=null&&(n=e.replace(Xu,"$&/")+"/"),Ml(s,t,n,"",function(h){return h})):s!=null&&(Hc(s)&&(s=Zm(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Xu,"$&/")+"/")+e)),t.push(s)),1;if(o=0,r=r===""?".":r+":",Yu(e))for(var c=0;c<e.length;c++){l=e[c];var u=r+ai(l,c);o+=Ml(l,t,n,u,s)}else if(u=Gm(e),typeof u=="function")for(e=u.call(e),c=0;!(l=e.next()).done;)l=l.value,u=r+ai(l,c++),o+=Ml(l,t,n,u,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function yl(e,t,n){if(e==null)return e;var r=[],s=0;return Ml(e,r,"","",function(l){return t.call(n,l,s++)}),r}function Ym(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Dl={transition:null},Xm={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Dl,ReactCurrentOwner:Wc};le.Children={map:yl,forEach:function(e,t,n){yl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return yl(e,function(){t++}),t},toArray:function(e){return yl(e,function(t){return t})||[]},only:function(e){if(!Hc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=ys;le.Fragment=Dm;le.Profiler=Bm;le.PureComponent=Bc;le.StrictMode=zm;le.Suspense=qm;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm;le.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ef({},e.props),s=e.key,l=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,o=Wc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)Rf.call(t,u)&&!Pf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&c!==void 0?c[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var h=0;h<u;h++)c[h]=arguments[h+2];r.children=c}return{$$typeof:Va,type:e.type,key:s,ref:l,props:r,_owner:o}};le.createContext=function(e){return e={$$typeof:Wm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Vm,_context:e},e.Consumer=e};le.createElement=Lf;le.createFactory=function(e){var t=Lf.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:Hm,render:e}};le.isValidElement=Hc;le.lazy=function(e){return{$$typeof:Km,_payload:{_status:-1,_result:e},_init:Ym}};le.memo=function(e,t){return{$$typeof:Qm,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=Dl.transition;Dl.transition={};try{e()}finally{Dl.transition=t}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(e,t){return tt.current.useCallback(e,t)};le.useContext=function(e){return tt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};le.useEffect=function(e,t){return tt.current.useEffect(e,t)};le.useId=function(){return tt.current.useId()};le.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};le.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return tt.current.useMemo(e,t)};le.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};le.useRef=function(e){return tt.current.useRef(e)};le.useState=function(e){return tt.current.useState(e)};le.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};le.useTransition=function(){return tt.current.useTransition()};le.version="18.2.0";kf.exports=le;var d=kf.exports;const qc=$m(d),e0=Fm({__proto__:null,default:qc},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t0=d,n0=Symbol.for("react.element"),r0=Symbol.for("react.fragment"),s0=Object.prototype.hasOwnProperty,a0=t0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l0={key:!0,ref:!0,__self:!0,__source:!0};function Af(e,t,n){var r,s={},l=null,o=null;n!==void 0&&(l=""+n),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)s0.call(t,r)&&!l0.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:n0,type:e,key:l,ref:o,props:s,_owner:a0.current}}Co.Fragment=r0;Co.jsx=Af;Co.jsxs=Af;Nf.exports=Co;var a=Nf.exports,If={exports:{}},xt={},Tf={exports:{}},Of={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,D){var Y=V.length;V.push(D);e:for(;0<Y;){var te=Y-1>>>1,he=V[te];if(0<s(he,D))V[te]=D,V[Y]=he,Y=te;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var D=V[0],Y=V.pop();if(Y!==D){V[0]=Y;e:for(var te=0,he=V.length,H=he>>>1;te<H;){var re=2*(te+1)-1,je=V[re],de=re+1,pe=V[de];if(0>s(je,Y))de<he&&0>s(pe,je)?(V[te]=pe,V[de]=Y,te=de):(V[te]=je,V[re]=Y,te=re);else if(de<he&&0>s(pe,Y))V[te]=pe,V[de]=Y,te=de;else break e}}return D}function s(V,D){var Y=V.sortIndex-D.sortIndex;return Y!==0?Y:V.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var o=Date,c=o.now();e.unstable_now=function(){return o.now()-c}}var u=[],h=[],x=1,v=null,j=3,E=!1,L=!1,R=!1,T=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(V){for(var D=n(h);D!==null;){if(D.callback===null)r(h);else if(D.startTime<=V)r(h),D.sortIndex=D.expirationTime,t(u,D);else break;D=n(h)}}function S(V){if(R=!1,w(V),!L)if(n(u)!==null)L=!0,Le(P);else{var D=n(h);D!==null&&yt(S,D.startTime-V)}}function P(V,D){L=!1,R&&(R=!1,y(I),I=-1),E=!0;var Y=j;try{for(w(D),v=n(u);v!==null&&(!(v.expirationTime>D)||V&&!Z());){var te=v.callback;if(typeof te=="function"){v.callback=null,j=v.priorityLevel;var he=te(v.expirationTime<=D);D=e.unstable_now(),typeof he=="function"?v.callback=he:v===n(u)&&r(u),w(D)}else r(u);v=n(u)}if(v!==null)var H=!0;else{var re=n(h);re!==null&&yt(S,re.startTime-D),H=!1}return H}finally{v=null,j=Y,E=!1}}var $=!1,z=null,I=-1,O=5,A=-1;function Z(){return!(e.unstable_now()-A<O)}function ce(){if(z!==null){var V=e.unstable_now();A=V;var D=!0;try{D=z(!0,V)}finally{D?M():($=!1,z=null)}}else $=!1}var M;if(typeof m=="function")M=function(){m(ce)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,oe=J.port2;J.port1.onmessage=ce,M=function(){oe.postMessage(null)}}else M=function(){T(ce,0)};function Le(V){z=V,$||($=!0,M())}function yt(V,D){I=T(function(){V(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){L||E||(L=!0,Le(P))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(V){switch(j){case 1:case 2:case 3:var D=3;break;default:D=j}var Y=j;j=D;try{return V()}finally{j=Y}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,D){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Y=j;j=V;try{return D()}finally{j=Y}},e.unstable_scheduleCallback=function(V,D,Y){var te=e.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?te+Y:te):Y=te,V){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Y+he,V={id:x++,callback:D,priorityLevel:V,startTime:Y,expirationTime:he,sortIndex:-1},Y>te?(V.sortIndex=Y,t(h,V),n(u)===null&&V===n(h)&&(R?(y(I),I=-1):R=!0,yt(S,Y-te))):(V.sortIndex=he,t(u,V),L||E||(L=!0,Le(P))),V},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(V){var D=j;return function(){var Y=j;j=D;try{return V.apply(this,arguments)}finally{j=Y}}}})(Of);Tf.exports=Of;var o0=Tf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=d,gt=o0;function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ff=new Set,ka={};function Nr(e,t){fs(e,t),fs(e+"Capture",t)}function fs(e,t){for(ka[e]=t,e=0;e<t.length;e++)Ff.add(t[e])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Di=Object.prototype.hasOwnProperty,i0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ed={},td={};function c0(e){return Di.call(td,e)?!0:Di.call(ed,e)?!1:i0.test(e)?td[e]=!0:(ed[e]=!0,!1)}function u0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function d0(e,t,n,r){if(t===null||typeof t>"u"||u0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,s,l,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=o}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Qc=/[\-:]([a-z])/g;function Kc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Qc,Kc);He[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Qc,Kc);He[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Qc,Kc);He[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Gc(e,t,n,r){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(d0(t,n,s,r)&&(n=null),r||s===null?c0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var yn=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wl=Symbol.for("react.element"),Qr=Symbol.for("react.portal"),Kr=Symbol.for("react.fragment"),Zc=Symbol.for("react.strict_mode"),zi=Symbol.for("react.profiler"),$f=Symbol.for("react.provider"),Mf=Symbol.for("react.context"),Jc=Symbol.for("react.forward_ref"),Bi=Symbol.for("react.suspense"),Vi=Symbol.for("react.suspense_list"),Yc=Symbol.for("react.memo"),Cn=Symbol.for("react.lazy"),Df=Symbol.for("react.offscreen"),nd=Symbol.iterator;function Xs(e){return e===null||typeof e!="object"?null:(e=nd&&e[nd]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,li;function ua(e){if(li===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);li=t&&t[1]||""}return`
`+li+e}var oi=!1;function ii(e,t){if(!e||oi)return"";oi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var r=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){r=h}e.call(t.prototype)}else{try{throw Error()}catch(h){r=h}e()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),l=r.stack.split(`
`),o=s.length-1,c=l.length-1;1<=o&&0<=c&&s[o]!==l[c];)c--;for(;1<=o&&0<=c;o--,c--)if(s[o]!==l[c]){if(o!==1||c!==1)do if(o--,c--,0>c||s[o]!==l[c]){var u=`
`+s[o].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=o&&0<=c);break}}}finally{oi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ua(e):""}function f0(e){switch(e.tag){case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 2:case 15:return e=ii(e.type,!1),e;case 11:return e=ii(e.type.render,!1),e;case 1:return e=ii(e.type,!0),e;default:return""}}function Wi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kr:return"Fragment";case Qr:return"Portal";case zi:return"Profiler";case Zc:return"StrictMode";case Bi:return"Suspense";case Vi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mf:return(e.displayName||"Context")+".Consumer";case $f:return(e._context.displayName||"Context")+".Provider";case Jc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Yc:return t=e.displayName||null,t!==null?t:Wi(e.type)||"Memo";case Cn:t=e._payload,e=e._init;try{return Wi(e(t))}catch{}}return null}function h0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Wi(t);case 8:return t===Zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Wn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function p0(e){var t=zf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,l.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function bl(e){e._valueTracker||(e._valueTracker=p0(e))}function Bf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=zf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function to(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hi(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function rd(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Wn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vf(e,t){t=t.checked,t!=null&&Gc(e,"checked",t,!1)}function qi(e,t){Vf(e,t);var n=Wn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Qi(e,t.type,n):t.hasOwnProperty("defaultValue")&&Qi(e,t.type,Wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Qi(e,t,n){(t!=="number"||to(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var da=Array.isArray;function as(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Wn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Ki(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(U(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ad(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(U(92));if(da(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Wn(n)}}function Wf(e,t){var n=Wn(t.value),r=Wn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ld(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var jl,qf=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(jl=jl||document.createElement("div"),jl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=jl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sa(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ma={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m0=["Webkit","ms","Moz","O"];Object.keys(ma).forEach(function(e){m0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ma[t]=ma[e]})});function Qf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ma.hasOwnProperty(e)&&ma[e]?(""+t).trim():t+"px"}function Kf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Qf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var g0=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zi(e,t){if(t){if(g0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(U(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(U(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(t.style!=null&&typeof t.style!="object")throw Error(U(62))}}function Ji(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yi=null;function Xc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Xi=null,ls=null,os=null;function od(e){if(e=qa(e)){if(typeof Xi!="function")throw Error(U(280));var t=e.stateNode;t&&(t=Ao(t),Xi(e.stateNode,e.type,t))}}function Gf(e){ls?os?os.push(e):os=[e]:ls=e}function Zf(){if(ls){var e=ls,t=os;if(os=ls=null,od(e),t)for(e=0;e<t.length;e++)od(t[e])}}function Jf(e,t){return e(t)}function Yf(){}var ci=!1;function Xf(e,t,n){if(ci)return e(t,n);ci=!0;try{return Jf(e,t,n)}finally{ci=!1,(ls!==null||os!==null)&&(Yf(),Zf())}}function Ea(e,t){var n=e.stateNode;if(n===null)return null;var r=Ao(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(U(231,t,typeof n));return n}var ec=!1;if(mn)try{var ea={};Object.defineProperty(ea,"passive",{get:function(){ec=!0}}),window.addEventListener("test",ea,ea),window.removeEventListener("test",ea,ea)}catch{ec=!1}function x0(e,t,n,r,s,l,o,c,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(x){this.onError(x)}}var ga=!1,no=null,ro=!1,tc=null,v0={onError:function(e){ga=!0,no=e}};function y0(e,t,n,r,s,l,o,c,u){ga=!1,no=null,x0.apply(v0,arguments)}function w0(e,t,n,r,s,l,o,c,u){if(y0.apply(this,arguments),ga){if(ga){var h=no;ga=!1,no=null}else throw Error(U(198));ro||(ro=!0,tc=h)}}function kr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function eh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function id(e){if(kr(e)!==e)throw Error(U(188))}function b0(e){var t=e.alternate;if(!t){if(t=kr(e),t===null)throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var l=s.alternate;if(l===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===n)return id(s),e;if(l===r)return id(s),t;l=l.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=l;else{for(var o=!1,c=s.child;c;){if(c===n){o=!0,n=s,r=l;break}if(c===r){o=!0,r=s,n=l;break}c=c.sibling}if(!o){for(c=l.child;c;){if(c===n){o=!0,n=l,r=s;break}if(c===r){o=!0,r=l,n=s;break}c=c.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?e:t}function th(e){return e=b0(e),e!==null?nh(e):null}function nh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=nh(e);if(t!==null)return t;e=e.sibling}return null}var rh=gt.unstable_scheduleCallback,cd=gt.unstable_cancelCallback,j0=gt.unstable_shouldYield,N0=gt.unstable_requestPaint,Ie=gt.unstable_now,k0=gt.unstable_getCurrentPriorityLevel,eu=gt.unstable_ImmediatePriority,sh=gt.unstable_UserBlockingPriority,so=gt.unstable_NormalPriority,S0=gt.unstable_LowPriority,ah=gt.unstable_IdlePriority,_o=null,Kt=null;function E0(e){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(_o,e,void 0,(e.current.flags&128)===128)}catch{}}var $t=Math.clz32?Math.clz32:R0,C0=Math.log,_0=Math.LN2;function R0(e){return e>>>=0,e===0?32:31-(C0(e)/_0|0)|0}var Nl=64,kl=4194304;function fa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ao(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,l=e.pingedLanes,o=n&268435455;if(o!==0){var c=o&~s;c!==0?r=fa(c):(l&=o,l!==0&&(r=fa(l)))}else o=n&~s,o!==0?r=fa(o):l!==0&&(r=fa(l));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-$t(t),s=1<<n,r|=e[n],t&=~s;return r}function P0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function L0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var o=31-$t(l),c=1<<o,u=s[o];u===-1?(!(c&n)||c&r)&&(s[o]=P0(c,t)):u<=t&&(e.expiredLanes|=c),l&=~c}}function nc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lh(){var e=Nl;return Nl<<=1,!(Nl&4194240)&&(Nl=64),e}function ui(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-$t(t),e[t]=n}function A0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-$t(n),l=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~l}}function tu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-$t(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var me=0;function oh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ih,nu,ch,uh,dh,rc=!1,Sl=[],Tn=null,On=null,Un=null,Ca=new Map,_a=new Map,Rn=[],I0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ud(e,t){switch(e){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":Ca.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(t.pointerId)}}function ta(e,t,n,r,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:l,targetContainers:[s]},t!==null&&(t=qa(t),t!==null&&nu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function T0(e,t,n,r,s){switch(t){case"focusin":return Tn=ta(Tn,e,t,n,r,s),!0;case"dragenter":return On=ta(On,e,t,n,r,s),!0;case"mouseover":return Un=ta(Un,e,t,n,r,s),!0;case"pointerover":var l=s.pointerId;return Ca.set(l,ta(Ca.get(l)||null,e,t,n,r,s)),!0;case"gotpointercapture":return l=s.pointerId,_a.set(l,ta(_a.get(l)||null,e,t,n,r,s)),!0}return!1}function fh(e){var t=hr(e.target);if(t!==null){var n=kr(t);if(n!==null){if(t=n.tag,t===13){if(t=eh(n),t!==null){e.blockedOn=t,dh(e.priority,function(){ch(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=sc(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Yi=r,n.target.dispatchEvent(r),Yi=null}else return t=qa(n),t!==null&&nu(t),e.blockedOn=n,!1;t.shift()}return!0}function dd(e,t,n){zl(e)&&n.delete(t)}function O0(){rc=!1,Tn!==null&&zl(Tn)&&(Tn=null),On!==null&&zl(On)&&(On=null),Un!==null&&zl(Un)&&(Un=null),Ca.forEach(dd),_a.forEach(dd)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,rc||(rc=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,O0)))}function Ra(e){function t(s){return na(s,e)}if(0<Sl.length){na(Sl[0],e);for(var n=1;n<Sl.length;n++){var r=Sl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Tn!==null&&na(Tn,e),On!==null&&na(On,e),Un!==null&&na(Un,e),Ca.forEach(t),_a.forEach(t),n=0;n<Rn.length;n++)r=Rn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Rn.length&&(n=Rn[0],n.blockedOn===null);)fh(n),n.blockedOn===null&&Rn.shift()}var is=yn.ReactCurrentBatchConfig,lo=!0;function U0(e,t,n,r){var s=me,l=is.transition;is.transition=null;try{me=1,ru(e,t,n,r)}finally{me=s,is.transition=l}}function F0(e,t,n,r){var s=me,l=is.transition;is.transition=null;try{me=4,ru(e,t,n,r)}finally{me=s,is.transition=l}}function ru(e,t,n,r){if(lo){var s=sc(e,t,n,r);if(s===null)wi(e,t,r,oo,n),ud(e,r);else if(T0(s,e,t,n,r))r.stopPropagation();else if(ud(e,r),t&4&&-1<I0.indexOf(e)){for(;s!==null;){var l=qa(s);if(l!==null&&ih(l),l=sc(e,t,n,r),l===null&&wi(e,t,r,oo,n),l===s)break;s=l}s!==null&&r.stopPropagation()}else wi(e,t,r,null,n)}}var oo=null;function sc(e,t,n,r){if(oo=null,e=Xc(r),e=hr(e),e!==null)if(t=kr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=eh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oo=e,null}function hh(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k0()){case eu:return 1;case sh:return 4;case so:case S0:return 16;case ah:return 536870912;default:return 16}default:return 16}}var Ln=null,su=null,Bl=null;function ph(){if(Bl)return Bl;var e,t=su,n=t.length,r,s="value"in Ln?Ln.value:Ln.textContent,l=s.length;for(e=0;e<n&&t[e]===s[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===s[l-r];r++);return Bl=s.slice(e,1<r?1-r:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function El(){return!0}function fd(){return!1}function vt(e){function t(n,r,s,l,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=l,this.target=o,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(n=e[c],this[c]=n?n(l):l[c]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?El:fd,this.isPropagationStopped=fd,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),t}var ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},au=vt(ws),Ha=Re({},ws,{view:0,detail:0}),$0=vt(Ha),di,fi,ra,Ro=Re({},Ha,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ra&&(ra&&e.type==="mousemove"?(di=e.screenX-ra.screenX,fi=e.screenY-ra.screenY):fi=di=0,ra=e),di)},movementY:function(e){return"movementY"in e?e.movementY:fi}}),hd=vt(Ro),M0=Re({},Ro,{dataTransfer:0}),D0=vt(M0),z0=Re({},Ha,{relatedTarget:0}),hi=vt(z0),B0=Re({},ws,{animationName:0,elapsedTime:0,pseudoElement:0}),V0=vt(B0),W0=Re({},ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),H0=vt(W0),q0=Re({},ws,{data:0}),pd=vt(q0),Q0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},K0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},G0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=G0[e])?!!t[e]:!1}function lu(){return Z0}var J0=Re({},Ha,{key:function(e){if(e.key){var t=Q0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?K0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lu,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Y0=vt(J0),X0=Re({},Ro,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),md=vt(X0),eg=Re({},Ha,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lu}),tg=vt(eg),ng=Re({},ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),rg=vt(ng),sg=Re({},Ro,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ag=vt(sg),lg=[9,13,27,32],ou=mn&&"CompositionEvent"in window,xa=null;mn&&"documentMode"in document&&(xa=document.documentMode);var og=mn&&"TextEvent"in window&&!xa,mh=mn&&(!ou||xa&&8<xa&&11>=xa),gd=" ",xd=!1;function gh(e,t){switch(e){case"keyup":return lg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gr=!1;function ig(e,t){switch(e){case"compositionend":return xh(t);case"keypress":return t.which!==32?null:(xd=!0,gd);case"textInput":return e=t.data,e===gd&&xd?null:e;default:return null}}function cg(e,t){if(Gr)return e==="compositionend"||!ou&&gh(e,t)?(e=ph(),Bl=su=Ln=null,Gr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return mh&&t.locale!=="ko"?null:t.data;default:return null}}var ug={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!ug[e.type]:t==="textarea"}function vh(e,t,n,r){Gf(r),t=io(t,"onChange"),0<t.length&&(n=new au("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var va=null,Pa=null;function dg(e){Rh(e,0)}function Po(e){var t=Yr(e);if(Bf(t))return e}function fg(e,t){if(e==="change")return t}var yh=!1;if(mn){var pi;if(mn){var mi="oninput"in document;if(!mi){var yd=document.createElement("div");yd.setAttribute("oninput","return;"),mi=typeof yd.oninput=="function"}pi=mi}else pi=!1;yh=pi&&(!document.documentMode||9<document.documentMode)}function wd(){va&&(va.detachEvent("onpropertychange",wh),Pa=va=null)}function wh(e){if(e.propertyName==="value"&&Po(Pa)){var t=[];vh(t,Pa,e,Xc(e)),Xf(dg,t)}}function hg(e,t,n){e==="focusin"?(wd(),va=t,Pa=n,va.attachEvent("onpropertychange",wh)):e==="focusout"&&wd()}function pg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Po(Pa)}function mg(e,t){if(e==="click")return Po(t)}function gg(e,t){if(e==="input"||e==="change")return Po(t)}function xg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dt=typeof Object.is=="function"?Object.is:xg;function La(e,t){if(Dt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Di.call(t,s)||!Dt(e[s],t[s]))return!1}return!0}function bd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jd(e,t){var n=bd(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bd(n)}}function bh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jh(){for(var e=window,t=to();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=to(e.document)}return t}function iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vg(e){var t=jh(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&bh(n.ownerDocument.documentElement,n)){if(r!==null&&iu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,l=Math.min(r.start,s);r=r.end===void 0?l:Math.min(r.end,s),!e.extend&&l>r&&(s=r,r=l,l=s),s=jd(n,l);var o=jd(n,r);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yg=mn&&"documentMode"in document&&11>=document.documentMode,Zr=null,ac=null,ya=null,lc=!1;function Nd(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lc||Zr==null||Zr!==to(r)||(r=Zr,"selectionStart"in r&&iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ya&&La(ya,r)||(ya=r,r=io(ac,"onSelect"),0<r.length&&(t=new au("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zr)))}function Cl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jr={animationend:Cl("Animation","AnimationEnd"),animationiteration:Cl("Animation","AnimationIteration"),animationstart:Cl("Animation","AnimationStart"),transitionend:Cl("Transition","TransitionEnd")},gi={},Nh={};mn&&(Nh=document.createElement("div").style,"AnimationEvent"in window||(delete Jr.animationend.animation,delete Jr.animationiteration.animation,delete Jr.animationstart.animation),"TransitionEvent"in window||delete Jr.transitionend.transition);function Lo(e){if(gi[e])return gi[e];if(!Jr[e])return e;var t=Jr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Nh)return gi[e]=t[n];return e}var kh=Lo("animationend"),Sh=Lo("animationiteration"),Eh=Lo("animationstart"),Ch=Lo("transitionend"),_h=new Map,kd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qn(e,t){_h.set(e,t),Nr(t,[e])}for(var xi=0;xi<kd.length;xi++){var vi=kd[xi],wg=vi.toLowerCase(),bg=vi[0].toUpperCase()+vi.slice(1);qn(wg,"on"+bg)}qn(kh,"onAnimationEnd");qn(Sh,"onAnimationIteration");qn(Eh,"onAnimationStart");qn("dblclick","onDoubleClick");qn("focusin","onFocus");qn("focusout","onBlur");qn(Ch,"onTransitionEnd");fs("onMouseEnter",["mouseout","mouseover"]);fs("onMouseLeave",["mouseout","mouseover"]);fs("onPointerEnter",["pointerout","pointerover"]);fs("onPointerLeave",["pointerout","pointerover"]);Nr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Nr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Nr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Nr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Nr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ha="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jg=new Set("cancel close invalid load scroll toggle".split(" ").concat(ha));function Sd(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,w0(r,t,void 0,e),e.currentTarget=null}function Rh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var l=void 0;if(t)for(var o=r.length-1;0<=o;o--){var c=r[o],u=c.instance,h=c.currentTarget;if(c=c.listener,u!==l&&s.isPropagationStopped())break e;Sd(s,c,h),l=u}else for(o=0;o<r.length;o++){if(c=r[o],u=c.instance,h=c.currentTarget,c=c.listener,u!==l&&s.isPropagationStopped())break e;Sd(s,c,h),l=u}}}if(ro)throw e=tc,ro=!1,tc=null,e}function we(e,t){var n=t[dc];n===void 0&&(n=t[dc]=new Set);var r=e+"__bubble";n.has(r)||(Ph(t,e,2,!1),n.add(r))}function yi(e,t,n){var r=0;t&&(r|=4),Ph(n,e,r,t)}var _l="_reactListening"+Math.random().toString(36).slice(2);function Aa(e){if(!e[_l]){e[_l]=!0,Ff.forEach(function(n){n!=="selectionchange"&&(jg.has(n)||yi(n,!1,e),yi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_l]||(t[_l]=!0,yi("selectionchange",!1,t))}}function Ph(e,t,n,r){switch(hh(t)){case 1:var s=U0;break;case 4:s=F0;break;default:s=ru}n=s.bind(null,t,n,e),s=void 0,!ec||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function wi(e,t,n,r,s){var l=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var c=r.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;c!==null;){if(o=hr(c),o===null)return;if(u=o.tag,u===5||u===6){r=l=o;continue e}c=c.parentNode}}r=r.return}Xf(function(){var h=l,x=Xc(n),v=[];e:{var j=_h.get(e);if(j!==void 0){var E=au,L=e;switch(e){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":E=Y0;break;case"focusin":L="focus",E=hi;break;case"focusout":L="blur",E=hi;break;case"beforeblur":case"afterblur":E=hi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=hd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=D0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=tg;break;case kh:case Sh:case Eh:E=V0;break;case Ch:E=rg;break;case"scroll":E=$0;break;case"wheel":E=ag;break;case"copy":case"cut":case"paste":E=H0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=md}var R=(t&4)!==0,T=!R&&e==="scroll",y=R?j!==null?j+"Capture":null:j;R=[];for(var m=h,w;m!==null;){w=m;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,y!==null&&(S=Ea(m,y),S!=null&&R.push(Ia(m,S,w)))),T)break;m=m.return}0<R.length&&(j=new E(j,L,null,n,x),v.push({event:j,listeners:R}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",j&&n!==Yi&&(L=n.relatedTarget||n.fromElement)&&(hr(L)||L[gn]))break e;if((E||j)&&(j=x.window===x?x:(j=x.ownerDocument)?j.defaultView||j.parentWindow:window,E?(L=n.relatedTarget||n.toElement,E=h,L=L?hr(L):null,L!==null&&(T=kr(L),L!==T||L.tag!==5&&L.tag!==6)&&(L=null)):(E=null,L=h),E!==L)){if(R=hd,S="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(R=md,S="onPointerLeave",y="onPointerEnter",m="pointer"),T=E==null?j:Yr(E),w=L==null?j:Yr(L),j=new R(S,m+"leave",E,n,x),j.target=T,j.relatedTarget=w,S=null,hr(x)===h&&(R=new R(y,m+"enter",L,n,x),R.target=w,R.relatedTarget=T,S=R),T=S,E&&L)t:{for(R=E,y=L,m=0,w=R;w;w=qr(w))m++;for(w=0,S=y;S;S=qr(S))w++;for(;0<m-w;)R=qr(R),m--;for(;0<w-m;)y=qr(y),w--;for(;m--;){if(R===y||y!==null&&R===y.alternate)break t;R=qr(R),y=qr(y)}R=null}else R=null;E!==null&&Ed(v,j,E,R,!1),L!==null&&T!==null&&Ed(v,T,L,R,!0)}}e:{if(j=h?Yr(h):window,E=j.nodeName&&j.nodeName.toLowerCase(),E==="select"||E==="input"&&j.type==="file")var P=fg;else if(vd(j))if(yh)P=gg;else{P=pg;var $=hg}else(E=j.nodeName)&&E.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(P=mg);if(P&&(P=P(e,h))){vh(v,P,n,x);break e}$&&$(e,j,h),e==="focusout"&&($=j._wrapperState)&&$.controlled&&j.type==="number"&&Qi(j,"number",j.value)}switch($=h?Yr(h):window,e){case"focusin":(vd($)||$.contentEditable==="true")&&(Zr=$,ac=h,ya=null);break;case"focusout":ya=ac=Zr=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,Nd(v,n,x);break;case"selectionchange":if(yg)break;case"keydown":case"keyup":Nd(v,n,x)}var z;if(ou)e:{switch(e){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else Gr?gh(e,n)&&(I="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(mh&&n.locale!=="ko"&&(Gr||I!=="onCompositionStart"?I==="onCompositionEnd"&&Gr&&(z=ph()):(Ln=x,su="value"in Ln?Ln.value:Ln.textContent,Gr=!0)),$=io(h,I),0<$.length&&(I=new pd(I,e,null,n,x),v.push({event:I,listeners:$}),z?I.data=z:(z=xh(n),z!==null&&(I.data=z)))),(z=og?ig(e,n):cg(e,n))&&(h=io(h,"onBeforeInput"),0<h.length&&(x=new pd("onBeforeInput","beforeinput",null,n,x),v.push({event:x,listeners:h}),x.data=z))}Rh(v,t)})}function Ia(e,t,n){return{instance:e,listener:t,currentTarget:n}}function io(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Ea(e,n),l!=null&&r.unshift(Ia(e,l,s)),l=Ea(e,t),l!=null&&r.push(Ia(e,l,s))),e=e.return}return r}function qr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ed(e,t,n,r,s){for(var l=t._reactName,o=[];n!==null&&n!==r;){var c=n,u=c.alternate,h=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&h!==null&&(c=h,s?(u=Ea(n,l),u!=null&&o.unshift(Ia(n,u,c))):s||(u=Ea(n,l),u!=null&&o.push(Ia(n,u,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ng=/\r\n?/g,kg=/\u0000|\uFFFD/g;function Cd(e){return(typeof e=="string"?e:""+e).replace(Ng,`
`).replace(kg,"")}function Rl(e,t,n){if(t=Cd(t),Cd(e)!==t&&n)throw Error(U(425))}function co(){}var oc=null,ic=null;function cc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var uc=typeof setTimeout=="function"?setTimeout:void 0,Sg=typeof clearTimeout=="function"?clearTimeout:void 0,_d=typeof Promise=="function"?Promise:void 0,Eg=typeof queueMicrotask=="function"?queueMicrotask:typeof _d<"u"?function(e){return _d.resolve(null).then(e).catch(Cg)}:uc;function Cg(e){setTimeout(function(){throw e})}function bi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ra(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ra(t)}function Fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Rd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var bs=Math.random().toString(36).slice(2),Qt="__reactFiber$"+bs,Ta="__reactProps$"+bs,gn="__reactContainer$"+bs,dc="__reactEvents$"+bs,_g="__reactListeners$"+bs,Rg="__reactHandles$"+bs;function hr(e){var t=e[Qt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gn]||n[Qt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Rd(e);e!==null;){if(n=e[Qt])return n;e=Rd(e)}return t}e=n,n=e.parentNode}return null}function qa(e){return e=e[Qt]||e[gn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Yr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(U(33))}function Ao(e){return e[Ta]||null}var fc=[],Xr=-1;function Qn(e){return{current:e}}function be(e){0>Xr||(e.current=fc[Xr],fc[Xr]=null,Xr--)}function ye(e,t){Xr++,fc[Xr]=e.current,e.current=t}var Hn={},Je=Qn(Hn),ot=Qn(!1),vr=Hn;function hs(e,t){var n=e.type.contextTypes;if(!n)return Hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in n)s[l]=t[l];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function uo(){be(ot),be(Je)}function Pd(e,t,n){if(Je.current!==Hn)throw Error(U(168));ye(Je,t),ye(ot,n)}function Lh(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(U(108,h0(e)||"Unknown",s));return Re({},n,r)}function fo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Hn,vr=Je.current,ye(Je,e),ye(ot,ot.current),!0}function Ld(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=Lh(e,t,vr),r.__reactInternalMemoizedMergedChildContext=e,be(ot),be(Je),ye(Je,e)):be(ot),ye(ot,n)}var un=null,Io=!1,ji=!1;function Ah(e){un===null?un=[e]:un.push(e)}function Pg(e){Io=!0,Ah(e)}function Kn(){if(!ji&&un!==null){ji=!0;var e=0,t=me;try{var n=un;for(me=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}un=null,Io=!1}catch(s){throw un!==null&&(un=un.slice(e+1)),rh(eu,Kn),s}finally{me=t,ji=!1}}return null}var es=[],ts=0,ho=null,po=0,kt=[],St=0,yr=null,fn=1,hn="";function ur(e,t){es[ts++]=po,es[ts++]=ho,ho=e,po=t}function Ih(e,t,n){kt[St++]=fn,kt[St++]=hn,kt[St++]=yr,yr=e;var r=fn;e=hn;var s=32-$t(r)-1;r&=~(1<<s),n+=1;var l=32-$t(t)+s;if(30<l){var o=s-s%5;l=(r&(1<<o)-1).toString(32),r>>=o,s-=o,fn=1<<32-$t(t)+s|n<<s|r,hn=l+e}else fn=1<<l|n<<s|r,hn=e}function cu(e){e.return!==null&&(ur(e,1),Ih(e,1,0))}function uu(e){for(;e===ho;)ho=es[--ts],es[ts]=null,po=es[--ts],es[ts]=null;for(;e===yr;)yr=kt[--St],kt[St]=null,hn=kt[--St],kt[St]=null,fn=kt[--St],kt[St]=null}var mt=null,pt=null,Se=!1,Ft=null;function Th(e,t){var n=Ct(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ad(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,mt=e,pt=Fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,mt=e,pt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=yr!==null?{id:fn,overflow:hn}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ct(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,mt=e,pt=null,!0):!1;default:return!1}}function hc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pc(e){if(Se){var t=pt;if(t){var n=t;if(!Ad(e,t)){if(hc(e))throw Error(U(418));t=Fn(n.nextSibling);var r=mt;t&&Ad(e,t)?Th(r,n):(e.flags=e.flags&-4097|2,Se=!1,mt=e)}}else{if(hc(e))throw Error(U(418));e.flags=e.flags&-4097|2,Se=!1,mt=e}}}function Id(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;mt=e}function Pl(e){if(e!==mt)return!1;if(!Se)return Id(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cc(e.type,e.memoizedProps)),t&&(t=pt)){if(hc(e))throw Oh(),Error(U(418));for(;t;)Th(e,t),t=Fn(t.nextSibling)}if(Id(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){pt=Fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}pt=null}}else pt=mt?Fn(e.stateNode.nextSibling):null;return!0}function Oh(){for(var e=pt;e;)e=Fn(e.nextSibling)}function ps(){pt=mt=null,Se=!1}function du(e){Ft===null?Ft=[e]:Ft.push(e)}var Lg=yn.ReactCurrentBatchConfig;function Tt(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var mo=Qn(null),go=null,ns=null,fu=null;function hu(){fu=ns=go=null}function pu(e){var t=mo.current;be(mo),e._currentValue=t}function mc(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cs(e,t){go=e,fu=ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Rt(e){var t=e._currentValue;if(fu!==e)if(e={context:e,memoizedValue:t,next:null},ns===null){if(go===null)throw Error(U(308));ns=e,go.dependencies={lanes:0,firstContext:e}}else ns=ns.next=e;return t}var pr=null;function mu(e){pr===null?pr=[e]:pr.push(e)}function Uh(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mu(t)):(n.next=s.next,s.next=n),t.interleaved=n,xn(e,r)}function xn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var _n=!1;function gu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $n(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,fe&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,xn(e,n)}return s=r.interleaved,s===null?(t.next=t,mu(r)):(t.next=s.next,s.next=t),r.interleaved=t,xn(e,n)}function Wl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tu(e,n)}}function Td(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,l=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};l===null?s=l=o:l=l.next=o,n=n.next}while(n!==null);l===null?s=l=t:l=l.next=t}else s=l=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xo(e,t,n,r){var s=e.updateQueue;_n=!1;var l=s.firstBaseUpdate,o=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var u=c,h=u.next;u.next=null,o===null?l=h:o.next=h,o=u;var x=e.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==o&&(c===null?x.firstBaseUpdate=h:c.next=h,x.lastBaseUpdate=u))}if(l!==null){var v=s.baseState;o=0,x=h=u=null,c=l;do{var j=c.lane,E=c.eventTime;if((r&j)===j){x!==null&&(x=x.next={eventTime:E,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var L=e,R=c;switch(j=t,E=n,R.tag){case 1:if(L=R.payload,typeof L=="function"){v=L.call(E,v,j);break e}v=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=R.payload,j=typeof L=="function"?L.call(E,v,j):L,j==null)break e;v=Re({},v,j);break e;case 2:_n=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,j=s.effects,j===null?s.effects=[c]:j.push(c))}else E={eventTime:E,lane:j,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(h=x=E,u=v):x=x.next=E,o|=j;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;j=c,c=j.next,j.next=null,s.lastBaseUpdate=j,s.shared.pending=null}}while(!0);if(x===null&&(u=v),s.baseState=u,s.firstBaseUpdate=h,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);br|=o,e.lanes=o,e.memoizedState=v}}function Od(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var $h=new Uf.Component().refs;function gc(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var To={isMounted:function(e){return(e=e._reactInternals)?kr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=et(),s=Dn(e),l=pn(r,s);l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,s),t!==null&&(Mt(t,e,s,r),Wl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=et(),s=Dn(e),l=pn(r,s);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=$n(e,l,s),t!==null&&(Mt(t,e,s,r),Wl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),r=Dn(e),s=pn(n,r);s.tag=2,t!=null&&(s.callback=t),t=$n(e,s,r),t!==null&&(Mt(t,e,r,n),Wl(t,e,r))}};function Ud(e,t,n,r,s,l,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,l,o):t.prototype&&t.prototype.isPureReactComponent?!La(n,r)||!La(s,l):!0}function Mh(e,t,n){var r=!1,s=Hn,l=t.contextType;return typeof l=="object"&&l!==null?l=Rt(l):(s=it(t)?vr:Je.current,r=t.contextTypes,l=(r=r!=null)?hs(e,s):Hn),t=new t(n,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=To,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Fd(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&To.enqueueReplaceState(t,t.state,null)}function xc(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs=$h,gu(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Rt(l):(l=it(t)?vr:Je.current,s.context=hs(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(gc(e,t,l,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&To.enqueueReplaceState(s,s.state,null),xo(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function sa(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var s=r,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(o){var c=s.refs;c===$h&&(c=s.refs={}),o===null?delete c[l]:c[l]=o},t._stringRef=l,t)}if(typeof e!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function Ll(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $d(e){var t=e._init;return t(e._payload)}function Dh(e){function t(y,m){if(e){var w=y.deletions;w===null?(y.deletions=[m],y.flags|=16):w.push(m)}}function n(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=zn(y,m),y.index=0,y.sibling=null,y}function l(y,m,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<m?(y.flags|=2,m):w):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function c(y,m,w,S){return m===null||m.tag!==6?(m=Ri(w,y.mode,S),m.return=y,m):(m=s(m,w),m.return=y,m)}function u(y,m,w,S){var P=w.type;return P===Kr?x(y,m,w.props.children,S,w.key):m!==null&&(m.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Cn&&$d(P)===m.type)?(S=s(m,w.props),S.ref=sa(y,m,w),S.return=y,S):(S=Zl(w.type,w.key,w.props,null,y.mode,S),S.ref=sa(y,m,w),S.return=y,S)}function h(y,m,w,S){return m===null||m.tag!==4||m.stateNode.containerInfo!==w.containerInfo||m.stateNode.implementation!==w.implementation?(m=Pi(w,y.mode,S),m.return=y,m):(m=s(m,w.children||[]),m.return=y,m)}function x(y,m,w,S,P){return m===null||m.tag!==7?(m=xr(w,y.mode,S,P),m.return=y,m):(m=s(m,w),m.return=y,m)}function v(y,m,w){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ri(""+m,y.mode,w),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case wl:return w=Zl(m.type,m.key,m.props,null,y.mode,w),w.ref=sa(y,null,m),w.return=y,w;case Qr:return m=Pi(m,y.mode,w),m.return=y,m;case Cn:var S=m._init;return v(y,S(m._payload),w)}if(da(m)||Xs(m))return m=xr(m,y.mode,w,null),m.return=y,m;Ll(y,m)}return null}function j(y,m,w,S){var P=m!==null?m.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:c(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:return w.key===P?u(y,m,w,S):null;case Qr:return w.key===P?h(y,m,w,S):null;case Cn:return P=w._init,j(y,m,P(w._payload),S)}if(da(w)||Xs(w))return P!==null?null:x(y,m,w,S,null);Ll(y,w)}return null}function E(y,m,w,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(w)||null,c(m,y,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case wl:return y=y.get(S.key===null?w:S.key)||null,u(m,y,S,P);case Qr:return y=y.get(S.key===null?w:S.key)||null,h(m,y,S,P);case Cn:var $=S._init;return E(y,m,w,$(S._payload),P)}if(da(S)||Xs(S))return y=y.get(w)||null,x(m,y,S,P,null);Ll(m,S)}return null}function L(y,m,w,S){for(var P=null,$=null,z=m,I=m=0,O=null;z!==null&&I<w.length;I++){z.index>I?(O=z,z=null):O=z.sibling;var A=j(y,z,w[I],S);if(A===null){z===null&&(z=O);break}e&&z&&A.alternate===null&&t(y,z),m=l(A,m,I),$===null?P=A:$.sibling=A,$=A,z=O}if(I===w.length)return n(y,z),Se&&ur(y,I),P;if(z===null){for(;I<w.length;I++)z=v(y,w[I],S),z!==null&&(m=l(z,m,I),$===null?P=z:$.sibling=z,$=z);return Se&&ur(y,I),P}for(z=r(y,z);I<w.length;I++)O=E(z,y,I,w[I],S),O!==null&&(e&&O.alternate!==null&&z.delete(O.key===null?I:O.key),m=l(O,m,I),$===null?P=O:$.sibling=O,$=O);return e&&z.forEach(function(Z){return t(y,Z)}),Se&&ur(y,I),P}function R(y,m,w,S){var P=Xs(w);if(typeof P!="function")throw Error(U(150));if(w=P.call(w),w==null)throw Error(U(151));for(var $=P=null,z=m,I=m=0,O=null,A=w.next();z!==null&&!A.done;I++,A=w.next()){z.index>I?(O=z,z=null):O=z.sibling;var Z=j(y,z,A.value,S);if(Z===null){z===null&&(z=O);break}e&&z&&Z.alternate===null&&t(y,z),m=l(Z,m,I),$===null?P=Z:$.sibling=Z,$=Z,z=O}if(A.done)return n(y,z),Se&&ur(y,I),P;if(z===null){for(;!A.done;I++,A=w.next())A=v(y,A.value,S),A!==null&&(m=l(A,m,I),$===null?P=A:$.sibling=A,$=A);return Se&&ur(y,I),P}for(z=r(y,z);!A.done;I++,A=w.next())A=E(z,y,I,A.value,S),A!==null&&(e&&A.alternate!==null&&z.delete(A.key===null?I:A.key),m=l(A,m,I),$===null?P=A:$.sibling=A,$=A);return e&&z.forEach(function(ce){return t(y,ce)}),Se&&ur(y,I),P}function T(y,m,w,S){if(typeof w=="object"&&w!==null&&w.type===Kr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case wl:e:{for(var P=w.key,$=m;$!==null;){if($.key===P){if(P=w.type,P===Kr){if($.tag===7){n(y,$.sibling),m=s($,w.props.children),m.return=y,y=m;break e}}else if($.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Cn&&$d(P)===$.type){n(y,$.sibling),m=s($,w.props),m.ref=sa(y,$,w),m.return=y,y=m;break e}n(y,$);break}else t(y,$);$=$.sibling}w.type===Kr?(m=xr(w.props.children,y.mode,S,w.key),m.return=y,y=m):(S=Zl(w.type,w.key,w.props,null,y.mode,S),S.ref=sa(y,m,w),S.return=y,y=S)}return o(y);case Qr:e:{for($=w.key;m!==null;){if(m.key===$)if(m.tag===4&&m.stateNode.containerInfo===w.containerInfo&&m.stateNode.implementation===w.implementation){n(y,m.sibling),m=s(m,w.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else t(y,m);m=m.sibling}m=Pi(w,y.mode,S),m.return=y,y=m}return o(y);case Cn:return $=w._init,T(y,m,$(w._payload),S)}if(da(w))return L(y,m,w,S);if(Xs(w))return R(y,m,w,S);Ll(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,w),m.return=y,y=m):(n(y,m),m=Ri(w,y.mode,S),m.return=y,y=m),o(y)):n(y,m)}return T}var ms=Dh(!0),zh=Dh(!1),Qa={},Gt=Qn(Qa),Oa=Qn(Qa),Ua=Qn(Qa);function mr(e){if(e===Qa)throw Error(U(174));return e}function xu(e,t){switch(ye(Ua,t),ye(Oa,e),ye(Gt,Qa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Gi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Gi(t,e)}be(Gt),ye(Gt,t)}function gs(){be(Gt),be(Oa),be(Ua)}function Bh(e){mr(Ua.current);var t=mr(Gt.current),n=Gi(t,e.type);t!==n&&(ye(Oa,e),ye(Gt,n))}function vu(e){Oa.current===e&&(be(Gt),be(Oa))}var Ce=Qn(0);function vo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ni=[];function yu(){for(var e=0;e<Ni.length;e++)Ni[e]._workInProgressVersionPrimary=null;Ni.length=0}var Hl=yn.ReactCurrentDispatcher,ki=yn.ReactCurrentBatchConfig,wr=0,_e=null,$e=null,ze=null,yo=!1,wa=!1,Fa=0,Ag=0;function Ke(){throw Error(U(321))}function wu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Dt(e[n],t[n]))return!1;return!0}function bu(e,t,n,r,s,l){if(wr=l,_e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hl.current=e===null||e.memoizedState===null?Ug:Fg,e=n(r,s),wa){l=0;do{if(wa=!1,Fa=0,25<=l)throw Error(U(301));l+=1,ze=$e=null,t.updateQueue=null,Hl.current=$g,e=n(r,s)}while(wa)}if(Hl.current=wo,t=$e!==null&&$e.next!==null,wr=0,ze=$e=_e=null,yo=!1,t)throw Error(U(300));return e}function ju(){var e=Fa!==0;return Fa=0,e}function Wt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?_e.memoizedState=ze=e:ze=ze.next=e,ze}function Pt(){if($e===null){var e=_e.alternate;e=e!==null?e.memoizedState:null}else e=$e.next;var t=ze===null?_e.memoizedState:ze.next;if(t!==null)ze=t,$e=e;else{if(e===null)throw Error(U(310));$e=e,e={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},ze===null?_e.memoizedState=ze=e:ze=ze.next=e}return ze}function $a(e,t){return typeof t=="function"?t(e):t}function Si(e){var t=Pt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=$e,s=r.baseQueue,l=n.pending;if(l!==null){if(s!==null){var o=s.next;s.next=l.next,l.next=o}r.baseQueue=s=l,n.pending=null}if(s!==null){l=s.next,r=r.baseState;var c=o=null,u=null,h=l;do{var x=h.lane;if((wr&x)===x)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:e(r,h.action);else{var v={lane:x,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(c=u=v,o=r):u=u.next=v,_e.lanes|=x,br|=x}h=h.next}while(h!==null&&h!==l);u===null?o=r:u.next=c,Dt(r,t.memoizedState)||(lt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do l=s.lane,_e.lanes|=l,br|=l,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ei(e){var t=Pt(),n=t.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,l=t.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do l=e(l,o.action),o=o.next;while(o!==s);Dt(l,t.memoizedState)||(lt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),n.lastRenderedState=l}return[l,r]}function Vh(){}function Wh(e,t){var n=_e,r=Pt(),s=t(),l=!Dt(r.memoizedState,s);if(l&&(r.memoizedState=s,lt=!0),r=r.queue,Nu(Qh.bind(null,n,r,e),[e]),r.getSnapshot!==t||l||ze!==null&&ze.memoizedState.tag&1){if(n.flags|=2048,Ma(9,qh.bind(null,n,r,s,t),void 0,null),Be===null)throw Error(U(349));wr&30||Hh(n,t,s)}return s}function Hh(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function qh(e,t,n,r){t.value=n,t.getSnapshot=r,Kh(t)&&Gh(e)}function Qh(e,t,n){return n(function(){Kh(t)&&Gh(e)})}function Kh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Dt(e,n)}catch{return!0}}function Gh(e){var t=xn(e,1);t!==null&&Mt(t,e,1,-1)}function Md(e){var t=Wt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$a,lastRenderedState:e},t.queue=e,e=e.dispatch=Og.bind(null,_e,e),[t.memoizedState,e]}function Ma(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=_e.updateQueue,t===null?(t={lastEffect:null,stores:null},_e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Zh(){return Pt().memoizedState}function ql(e,t,n,r){var s=Wt();_e.flags|=e,s.memoizedState=Ma(1|t,n,void 0,r===void 0?null:r)}function Oo(e,t,n,r){var s=Pt();r=r===void 0?null:r;var l=void 0;if($e!==null){var o=$e.memoizedState;if(l=o.destroy,r!==null&&wu(r,o.deps)){s.memoizedState=Ma(t,n,l,r);return}}_e.flags|=e,s.memoizedState=Ma(1|t,n,l,r)}function Dd(e,t){return ql(8390656,8,e,t)}function Nu(e,t){return Oo(2048,8,e,t)}function Jh(e,t){return Oo(4,2,e,t)}function Yh(e,t){return Oo(4,4,e,t)}function Xh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ep(e,t,n){return n=n!=null?n.concat([e]):null,Oo(4,4,Xh.bind(null,t,e),n)}function ku(){}function tp(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function np(e,t){var n=Pt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function rp(e,t,n){return wr&21?(Dt(n,t)||(n=lh(),_e.lanes|=n,br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=n)}function Ig(e,t){var n=me;me=n!==0&&4>n?n:4,e(!0);var r=ki.transition;ki.transition={};try{e(!1),t()}finally{me=n,ki.transition=r}}function sp(){return Pt().memoizedState}function Tg(e,t,n){var r=Dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ap(e))lp(t,n);else if(n=Uh(e,t,n,r),n!==null){var s=et();Mt(n,e,r,s),op(n,t,r)}}function Og(e,t,n){var r=Dn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ap(e))lp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var o=t.lastRenderedState,c=l(o,n);if(s.hasEagerState=!0,s.eagerState=c,Dt(c,o)){var u=t.interleaved;u===null?(s.next=s,mu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Uh(e,t,s,r),n!==null&&(s=et(),Mt(n,e,r,s),op(n,t,r))}}function ap(e){var t=e.alternate;return e===_e||t!==null&&t===_e}function lp(e,t){wa=yo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function op(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tu(e,n)}}var wo={readContext:Rt,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Ug={readContext:Rt,useCallback:function(e,t){return Wt().memoizedState=[e,t===void 0?null:t],e},useContext:Rt,useEffect:Dd,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ql(4194308,4,Xh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var n=Wt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Wt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Tg.bind(null,_e,e),[r.memoizedState,e]},useRef:function(e){var t=Wt();return e={current:e},t.memoizedState=e},useState:Md,useDebugValue:ku,useDeferredValue:function(e){return Wt().memoizedState=e},useTransition:function(){var e=Md(!1),t=e[0];return e=Ig.bind(null,e[1]),Wt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=_e,s=Wt();if(Se){if(n===void 0)throw Error(U(407));n=n()}else{if(n=t(),Be===null)throw Error(U(349));wr&30||Hh(r,t,n)}s.memoizedState=n;var l={value:n,getSnapshot:t};return s.queue=l,Dd(Qh.bind(null,r,l,e),[e]),r.flags|=2048,Ma(9,qh.bind(null,r,l,n,t),void 0,null),n},useId:function(){var e=Wt(),t=Be.identifierPrefix;if(Se){var n=hn,r=fn;n=(r&~(1<<32-$t(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Fa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ag++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Fg={readContext:Rt,useCallback:tp,useContext:Rt,useEffect:Nu,useImperativeHandle:ep,useInsertionEffect:Jh,useLayoutEffect:Yh,useMemo:np,useReducer:Si,useRef:Zh,useState:function(){return Si($a)},useDebugValue:ku,useDeferredValue:function(e){var t=Pt();return rp(t,$e.memoizedState,e)},useTransition:function(){var e=Si($a)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Wh,useId:sp,unstable_isNewReconciler:!1},$g={readContext:Rt,useCallback:tp,useContext:Rt,useEffect:Nu,useImperativeHandle:ep,useInsertionEffect:Jh,useLayoutEffect:Yh,useMemo:np,useReducer:Ei,useRef:Zh,useState:function(){return Ei($a)},useDebugValue:ku,useDeferredValue:function(e){var t=Pt();return $e===null?t.memoizedState=e:rp(t,$e.memoizedState,e)},useTransition:function(){var e=Ei($a)[0],t=Pt().memoizedState;return[e,t]},useMutableSource:Vh,useSyncExternalStore:Wh,useId:sp,unstable_isNewReconciler:!1};function xs(e,t){try{var n="",r=t;do n+=f0(r),r=r.return;while(r);var s=n}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function Ci(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function vc(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Mg=typeof WeakMap=="function"?WeakMap:Map;function ip(e,t,n){n=pn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){jo||(jo=!0,_c=r),vc(e,t)},n}function cp(e,t,n){n=pn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){vc(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(n.callback=function(){vc(e,t),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function zd(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Mg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Xg.bind(null,e,t,n),t.then(e,e))}function Bd(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pn(-1,1),t.tag=2,$n(n,t,1))),n.lanes|=1),e)}var Dg=yn.ReactCurrentOwner,lt=!1;function Xe(e,t,n,r){t.child=e===null?zh(t,null,n,r):ms(t,e.child,n,r)}function Wd(e,t,n,r,s){n=n.render;var l=t.ref;return cs(t,s),r=bu(e,t,n,r,l,s),n=ju(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Se&&n&&cu(t),t.flags|=1,Xe(e,t,r,s),t.child)}function Hd(e,t,n,r,s){if(e===null){var l=n.type;return typeof l=="function"&&!Au(l)&&l.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=l,up(e,t,l,r,s)):(e=Zl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var o=l.memoizedProps;if(n=n.compare,n=n!==null?n:La,n(o,r)&&e.ref===t.ref)return vn(e,t,s)}return t.flags|=1,e=zn(l,r),e.ref=t.ref,e.return=t,t.child=e}function up(e,t,n,r,s){if(e!==null){var l=e.memoizedProps;if(La(l,r)&&e.ref===t.ref)if(lt=!1,t.pendingProps=r=l,(e.lanes&s)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,vn(e,t,s)}return yc(e,t,n,r,s)}function dp(e,t,n){var r=t.pendingProps,s=r.children,l=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(ss,ht),ht|=n;else{if(!(n&1073741824))return e=l!==null?l.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ye(ss,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=l!==null?l.baseLanes:n,ye(ss,ht),ht|=r}else l!==null?(r=l.baseLanes|n,t.memoizedState=null):r=n,ye(ss,ht),ht|=r;return Xe(e,t,s,n),t.child}function fp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function yc(e,t,n,r,s){var l=it(n)?vr:Je.current;return l=hs(t,l),cs(t,s),n=bu(e,t,n,r,l,s),r=ju(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,vn(e,t,s)):(Se&&r&&cu(t),t.flags|=1,Xe(e,t,n,s),t.child)}function qd(e,t,n,r,s){if(it(n)){var l=!0;fo(t)}else l=!1;if(cs(t,s),t.stateNode===null)Ql(e,t),Mh(t,n,r),xc(t,n,r,s),r=!0;else if(e===null){var o=t.stateNode,c=t.memoizedProps;o.props=c;var u=o.context,h=n.contextType;typeof h=="object"&&h!==null?h=Rt(h):(h=it(n)?vr:Je.current,h=hs(t,h));var x=n.getDerivedStateFromProps,v=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function";v||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==r||u!==h)&&Fd(t,o,r,h),_n=!1;var j=t.memoizedState;o.state=j,xo(t,r,o,s),u=t.memoizedState,c!==r||j!==u||ot.current||_n?(typeof x=="function"&&(gc(t,n,x,r),u=t.memoizedState),(c=_n||Ud(t,n,c,r,j,u,h))?(v||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=h,r=c):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Fh(e,t),c=t.memoizedProps,h=t.type===t.elementType?c:Tt(t.type,c),o.props=h,v=t.pendingProps,j=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=Rt(u):(u=it(n)?vr:Je.current,u=hs(t,u));var E=n.getDerivedStateFromProps;(x=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(c!==v||j!==u)&&Fd(t,o,r,u),_n=!1,j=t.memoizedState,o.state=j,xo(t,r,o,s);var L=t.memoizedState;c!==v||j!==L||ot.current||_n?(typeof E=="function"&&(gc(t,n,E,r),L=t.memoizedState),(h=_n||Ud(t,n,h,r,j,L,u)||!1)?(x||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,L,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,L,u)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=L),o.props=r,o.state=L,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||c===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),r=!1)}return wc(e,t,n,r,l,s)}function wc(e,t,n,r,s,l){fp(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return s&&Ld(t,n,!1),vn(e,t,l);r=t.stateNode,Dg.current=t;var c=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=ms(t,e.child,null,l),t.child=ms(t,null,c,l)):Xe(e,t,c,l),t.memoizedState=r.state,s&&Ld(t,n,!0),t.child}function hp(e){var t=e.stateNode;t.pendingContext?Pd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pd(e,t.context,!1),xu(e,t.containerInfo)}function Qd(e,t,n,r,s){return ps(),du(s),t.flags|=256,Xe(e,t,n,r),t.child}var bc={dehydrated:null,treeContext:null,retryLane:0};function jc(e){return{baseLanes:e,cachePool:null,transitions:null}}function pp(e,t,n){var r=t.pendingProps,s=Ce.current,l=!1,o=(t.flags&128)!==0,c;if((c=o)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ye(Ce,s&1),e===null)return pc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},!(r&1)&&l!==null?(l.childLanes=0,l.pendingProps=o):l=$o(o,r,0,null),e=xr(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=jc(n),t.memoizedState=bc,e):Su(t,o));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return zg(e,t,o,r,c,s,n);if(l){l=r.fallback,o=t.mode,s=e.child,c=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=zn(s,u),r.subtreeFlags=s.subtreeFlags&14680064),c!==null?l=zn(c,l):(l=xr(l,o,n,null),l.flags|=2),l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=e.child.memoizedState,o=o===null?jc(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=bc,r}return l=e.child,e=l.sibling,r=zn(l,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Su(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Al(e,t,n,r){return r!==null&&du(r),ms(t,e.child,null,n),e=Su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function zg(e,t,n,r,s,l,o){if(n)return t.flags&256?(t.flags&=-257,r=Ci(Error(U(422))),Al(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=r.fallback,s=t.mode,r=$o({mode:"visible",children:r.children},s,0,null),l=xr(l,s,o,null),l.flags|=2,r.return=t,l.return=t,r.sibling=l,t.child=r,t.mode&1&&ms(t,e.child,null,o),t.child.memoizedState=jc(o),t.memoizedState=bc,l);if(!(t.mode&1))return Al(e,t,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var c=r.dgst;return r=c,l=Error(U(419)),r=Ci(l,r,void 0),Al(e,t,o,r)}if(c=(o&e.childLanes)!==0,lt||c){if(r=Be,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,xn(e,s),Mt(r,e,s,-1))}return Lu(),r=Ci(Error(U(421))),Al(e,t,o,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ex.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,pt=Fn(s.nextSibling),mt=t,Se=!0,Ft=null,e!==null&&(kt[St++]=fn,kt[St++]=hn,kt[St++]=yr,fn=e.id,hn=e.overflow,yr=t),t=Su(t,r.children),t.flags|=4096,t)}function Kd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),mc(e.return,t,n)}function _i(e,t,n,r,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=r,l.tail=n,l.tailMode=s)}function mp(e,t,n){var r=t.pendingProps,s=r.revealOrder,l=r.tail;if(Xe(e,t,r.children,n),r=Ce.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kd(e,n,t);else if(e.tag===19)Kd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ye(Ce,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vo(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),_i(t,!1,s,n,l);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vo(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}_i(t,!0,n,null,l);break;case"together":_i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ql(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(U(153));if(t.child!==null){for(e=t.child,n=zn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=zn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Bg(e,t,n){switch(t.tag){case 3:hp(t),ps();break;case 5:Bh(t);break;case 1:it(t.type)&&fo(t);break;case 4:xu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;ye(mo,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ce,Ce.current&1),t.flags|=128,null):n&t.child.childLanes?pp(e,t,n):(ye(Ce,Ce.current&1),e=vn(e,t,n),e!==null?e.sibling:null);ye(Ce,Ce.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mp(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ce,Ce.current),r)break;return null;case 22:case 23:return t.lanes=0,dp(e,t,n)}return vn(e,t,n)}var gp,Nc,xp,vp;gp=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Nc=function(){};xp=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,mr(Gt.current);var l=null;switch(n){case"input":s=Hi(e,s),r=Hi(e,r),l=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),l=[];break;case"textarea":s=Ki(e,s),r=Ki(e,r),l=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=co)}Zi(n,r);var o;n=null;for(h in s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var c=s[h];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ka.hasOwnProperty(h)?l||(l=[]):(l=l||[]).push(h,null));for(h in r){var u=r[h];if(c=s!=null?s[h]:void 0,r.hasOwnProperty(h)&&u!==c&&(u!=null||c!=null))if(h==="style")if(c){for(o in c)!c.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&c[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(l||(l=[]),l.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(l=l||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(l=l||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ka.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&we("scroll",e),l||c===u||(l=[])):(l=l||[]).push(h,u))}n&&(l=l||[]).push("style",n);var h=l;(t.updateQueue=h)&&(t.flags|=4)}};vp=function(e,t,n,r){n!==r&&(t.flags|=4)};function aa(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Vg(e,t,n){var r=t.pendingProps;switch(uu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return it(t.type)&&uo(),Ge(t),null;case 3:return r=t.stateNode,gs(),be(ot),be(Je),yu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Pl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ft!==null&&(Lc(Ft),Ft=null))),Nc(e,t),Ge(t),null;case 5:vu(t);var s=mr(Ua.current);if(n=t.type,e!==null&&t.stateNode!=null)xp(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(U(166));return Ge(t),null}if(e=mr(Gt.current),Pl(t)){r=t.stateNode,n=t.type;var l=t.memoizedProps;switch(r[Qt]=t,r[Ta]=l,e=(t.mode&1)!==0,n){case"dialog":we("cancel",r),we("close",r);break;case"iframe":case"object":case"embed":we("load",r);break;case"video":case"audio":for(s=0;s<ha.length;s++)we(ha[s],r);break;case"source":we("error",r);break;case"img":case"image":case"link":we("error",r),we("load",r);break;case"details":we("toggle",r);break;case"input":rd(r,l),we("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!l.multiple},we("invalid",r);break;case"textarea":ad(r,l),we("invalid",r)}Zi(n,l),s=null;for(var o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="children"?typeof c=="string"?r.textContent!==c&&(l.suppressHydrationWarning!==!0&&Rl(r.textContent,c,e),s=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(l.suppressHydrationWarning!==!0&&Rl(r.textContent,c,e),s=["children",""+c]):ka.hasOwnProperty(o)&&c!=null&&o==="onScroll"&&we("scroll",r)}switch(n){case"input":bl(r),sd(r,l,!0);break;case"textarea":bl(r),ld(r);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(r.onclick=co)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[Qt]=t,e[Ta]=r,gp(e,t,!1,!1),t.stateNode=e;e:{switch(o=Ji(n,r),n){case"dialog":we("cancel",e),we("close",e),s=r;break;case"iframe":case"object":case"embed":we("load",e),s=r;break;case"video":case"audio":for(s=0;s<ha.length;s++)we(ha[s],e);s=r;break;case"source":we("error",e),s=r;break;case"img":case"image":case"link":we("error",e),we("load",e),s=r;break;case"details":we("toggle",e),s=r;break;case"input":rd(e,r),s=Hi(e,r),we("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),we("invalid",e);break;case"textarea":ad(e,r),s=Ki(e,r),we("invalid",e);break;default:s=r}Zi(n,s),c=s;for(l in c)if(c.hasOwnProperty(l)){var u=c[l];l==="style"?Kf(e,u):l==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&qf(e,u)):l==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Sa(e,u):typeof u=="number"&&Sa(e,""+u):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ka.hasOwnProperty(l)?u!=null&&l==="onScroll"&&we("scroll",e):u!=null&&Gc(e,l,u,o))}switch(n){case"input":bl(e),sd(e,r,!1);break;case"textarea":bl(e),ld(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Wn(r.value));break;case"select":e.multiple=!!r.multiple,l=r.value,l!=null?as(e,!!r.multiple,l,!1):r.defaultValue!=null&&as(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=co)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ge(t),null;case 6:if(e&&t.stateNode!=null)vp(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(U(166));if(n=mr(Ua.current),mr(Gt.current),Pl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Qt]=t,(l=r.nodeValue!==n)&&(e=mt,e!==null))switch(e.tag){case 3:Rl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rl(r.nodeValue,n,(e.mode&1)!==0)}l&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Qt]=t,t.stateNode=r}return Ge(t),null;case 13:if(be(Ce),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&pt!==null&&t.mode&1&&!(t.flags&128))Oh(),ps(),t.flags|=98560,l=!1;else if(l=Pl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!l)throw Error(U(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(U(317));l[Qt]=t}else ps(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ge(t),l=!1}else Ft!==null&&(Lc(Ft),Ft=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Ce.current&1?Me===0&&(Me=3):Lu())),t.updateQueue!==null&&(t.flags|=4),Ge(t),null);case 4:return gs(),Nc(e,t),e===null&&Aa(t.stateNode.containerInfo),Ge(t),null;case 10:return pu(t.type._context),Ge(t),null;case 17:return it(t.type)&&uo(),Ge(t),null;case 19:if(be(Ce),l=t.memoizedState,l===null)return Ge(t),null;if(r=(t.flags&128)!==0,o=l.rendering,o===null)if(r)aa(l,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=vo(e),o!==null){for(t.flags|=128,aa(l,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)l=n,e=r,l.flags&=14680066,o=l.alternate,o===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=o.childLanes,l.lanes=o.lanes,l.child=o.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=o.memoizedProps,l.memoizedState=o.memoizedState,l.updateQueue=o.updateQueue,l.type=o.type,e=o.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ye(Ce,Ce.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>vs&&(t.flags|=128,r=!0,aa(l,!1),t.lanes=4194304)}else{if(!r)if(e=vo(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),aa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!o.alternate&&!Se)return Ge(t),null}else 2*Ie()-l.renderingStartTime>vs&&n!==1073741824&&(t.flags|=128,r=!0,aa(l,!1),t.lanes=4194304);l.isBackwards?(o.sibling=t.child,t.child=o):(n=l.last,n!==null?n.sibling=o:t.child=o,l.last=o)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,n=Ce.current,ye(Ce,r?n&1|2:n&1),t):(Ge(t),null);case 22:case 23:return Pu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ht&1073741824&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),null;case 24:return null;case 25:return null}throw Error(U(156,t.tag))}function Wg(e,t){switch(uu(t),t.tag){case 1:return it(t.type)&&uo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gs(),be(ot),be(Je),yu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return vu(t),null;case 13:if(be(Ce),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(U(340));ps()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return be(Ce),null;case 4:return gs(),null;case 10:return pu(t.type._context),null;case 22:case 23:return Pu(),null;case 24:return null;default:return null}}var Il=!1,Ze=!1,Hg=typeof WeakSet=="function"?WeakSet:Set,Q=null;function rs(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Pe(e,t,r)}else n.current=null}function kc(e,t,n){try{n()}catch(r){Pe(e,t,r)}}var Gd=!1;function qg(e,t){if(oc=lo,e=jh(),iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,l=r.focusNode;r=r.focusOffset;try{n.nodeType,l.nodeType}catch{n=null;break e}var o=0,c=-1,u=-1,h=0,x=0,v=e,j=null;t:for(;;){for(var E;v!==n||s!==0&&v.nodeType!==3||(c=o+s),v!==l||r!==0&&v.nodeType!==3||(u=o+r),v.nodeType===3&&(o+=v.nodeValue.length),(E=v.firstChild)!==null;)j=v,v=E;for(;;){if(v===e)break t;if(j===n&&++h===s&&(c=o),j===l&&++x===r&&(u=o),(E=v.nextSibling)!==null)break;v=j,j=v.parentNode}v=E}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ic={focusedElem:e,selectionRange:n},lo=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var L=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var R=L.memoizedProps,T=L.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?R:Tt(t.type,R),T);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){Pe(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return L=Gd,Gd=!1,L}function ba(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&kc(t,n,l)}s=s.next}while(s!==r)}}function Uo(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Sc(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function yp(e){var t=e.alternate;t!==null&&(e.alternate=null,yp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Qt],delete t[Ta],delete t[dc],delete t[_g],delete t[Rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wp(e){return e.tag===5||e.tag===3||e.tag===4}function Zd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ec(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=co));else if(r!==4&&(e=e.child,e!==null))for(Ec(e,t,n),e=e.sibling;e!==null;)Ec(e,t,n),e=e.sibling}function Cc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Cc(e,t,n),e=e.sibling;e!==null;)Cc(e,t,n),e=e.sibling}var Ve=null,Ot=!1;function En(e,t,n){for(n=n.child;n!==null;)bp(e,t,n),n=n.sibling}function bp(e,t,n){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(_o,n)}catch{}switch(n.tag){case 5:Ze||rs(n,t);case 6:var r=Ve,s=Ot;Ve=null,En(e,t,n),Ve=r,Ot=s,Ve!==null&&(Ot?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(Ot?(e=Ve,n=n.stateNode,e.nodeType===8?bi(e.parentNode,n):e.nodeType===1&&bi(e,n),Ra(e)):bi(Ve,n.stateNode));break;case 4:r=Ve,s=Ot,Ve=n.stateNode.containerInfo,Ot=!0,En(e,t,n),Ve=r,Ot=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var l=s,o=l.destroy;l=l.tag,o!==void 0&&(l&2||l&4)&&kc(n,t,o),s=s.next}while(s!==r)}En(e,t,n);break;case 1:if(!Ze&&(rs(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Pe(n,t,c)}En(e,t,n);break;case 21:En(e,t,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,En(e,t,n),Ze=r):En(e,t,n);break;default:En(e,t,n)}}function Jd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Hg),t.forEach(function(r){var s=tx.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function At(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var l=e,o=t,c=o;e:for(;c!==null;){switch(c.tag){case 5:Ve=c.stateNode,Ot=!1;break e;case 3:Ve=c.stateNode.containerInfo,Ot=!0;break e;case 4:Ve=c.stateNode.containerInfo,Ot=!0;break e}c=c.return}if(Ve===null)throw Error(U(160));bp(l,o,s),Ve=null,Ot=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(h){Pe(s,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)jp(t,e),t=t.sibling}function jp(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(At(t,e),Vt(e),r&4){try{ba(3,e,e.return),Uo(3,e)}catch(R){Pe(e,e.return,R)}try{ba(5,e,e.return)}catch(R){Pe(e,e.return,R)}}break;case 1:At(t,e),Vt(e),r&512&&n!==null&&rs(n,n.return);break;case 5:if(At(t,e),Vt(e),r&512&&n!==null&&rs(n,n.return),e.flags&32){var s=e.stateNode;try{Sa(s,"")}catch(R){Pe(e,e.return,R)}}if(r&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,o=n!==null?n.memoizedProps:l,c=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{c==="input"&&l.type==="radio"&&l.name!=null&&Vf(s,l),Ji(c,o);var h=Ji(c,l);for(o=0;o<u.length;o+=2){var x=u[o],v=u[o+1];x==="style"?Kf(s,v):x==="dangerouslySetInnerHTML"?qf(s,v):x==="children"?Sa(s,v):Gc(s,x,v,h)}switch(c){case"input":qi(s,l);break;case"textarea":Wf(s,l);break;case"select":var j=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var E=l.value;E!=null?as(s,!!l.multiple,E,!1):j!==!!l.multiple&&(l.defaultValue!=null?as(s,!!l.multiple,l.defaultValue,!0):as(s,!!l.multiple,l.multiple?[]:"",!1))}s[Ta]=l}catch(R){Pe(e,e.return,R)}}break;case 6:if(At(t,e),Vt(e),r&4){if(e.stateNode===null)throw Error(U(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(R){Pe(e,e.return,R)}}break;case 3:if(At(t,e),Vt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ra(t.containerInfo)}catch(R){Pe(e,e.return,R)}break;case 4:At(t,e),Vt(e);break;case 13:At(t,e),Vt(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(_u=Ie())),r&4&&Jd(e);break;case 22:if(x=n!==null&&n.memoizedState!==null,e.mode&1?(Ze=(h=Ze)||x,At(t,e),Ze=h):At(t,e),Vt(e),r&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!x&&e.mode&1)for(Q=e,x=e.child;x!==null;){for(v=Q=x;Q!==null;){switch(j=Q,E=j.child,j.tag){case 0:case 11:case 14:case 15:ba(4,j,j.return);break;case 1:rs(j,j.return);var L=j.stateNode;if(typeof L.componentWillUnmount=="function"){r=j,n=j.return;try{t=r,L.props=t.memoizedProps,L.state=t.memoizedState,L.componentWillUnmount()}catch(R){Pe(r,n,R)}}break;case 5:rs(j,j.return);break;case 22:if(j.memoizedState!==null){Xd(v);continue}}E!==null?(E.return=j,Q=E):Xd(v)}x=x.sibling}e:for(x=null,v=e;;){if(v.tag===5){if(x===null){x=v;try{s=v.stateNode,h?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(c=v.stateNode,u=v.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=Qf("display",o))}catch(R){Pe(e,e.return,R)}}}else if(v.tag===6){if(x===null)try{v.stateNode.nodeValue=h?"":v.memoizedProps}catch(R){Pe(e,e.return,R)}}else if((v.tag!==22&&v.tag!==23||v.memoizedState===null||v===e)&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===e)break e;for(;v.sibling===null;){if(v.return===null||v.return===e)break e;x===v&&(x=null),v=v.return}x===v&&(x=null),v.sibling.return=v.return,v=v.sibling}}break;case 19:At(t,e),Vt(e),r&4&&Jd(e);break;case 21:break;default:At(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wp(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Sa(s,""),r.flags&=-33);var l=Zd(e);Cc(e,l,s);break;case 3:case 4:var o=r.stateNode.containerInfo,c=Zd(e);Ec(e,c,o);break;default:throw Error(U(161))}}catch(u){Pe(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qg(e,t,n){Q=e,Np(e)}function Np(e,t,n){for(var r=(e.mode&1)!==0;Q!==null;){var s=Q,l=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Il;if(!o){var c=s.alternate,u=c!==null&&c.memoizedState!==null||Ze;c=Il;var h=Ze;if(Il=o,(Ze=u)&&!h)for(Q=s;Q!==null;)o=Q,u=o.child,o.tag===22&&o.memoizedState!==null?ef(s):u!==null?(u.return=o,Q=u):ef(s);for(;l!==null;)Q=l,Np(l),l=l.sibling;Q=s,Il=c,Ze=h}Yd(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,Q=l):Yd(e)}}function Yd(e){for(;Q!==null;){var t=Q;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ze||Uo(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Od(t,l,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Od(t,o,n)}break;case 5:var c=t.stateNode;if(n===null&&t.flags&4){n=c;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var x=h.memoizedState;if(x!==null){var v=x.dehydrated;v!==null&&Ra(v)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ze||t.flags&512&&Sc(t)}catch(j){Pe(t,t.return,j)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function Xd(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function ef(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uo(4,t)}catch(u){Pe(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){Pe(t,s,u)}}var l=t.return;try{Sc(t)}catch(u){Pe(t,l,u)}break;case 5:var o=t.return;try{Sc(t)}catch(u){Pe(t,o,u)}}}catch(u){Pe(t,t.return,u)}if(t===e){Q=null;break}var c=t.sibling;if(c!==null){c.return=t.return,Q=c;break}Q=t.return}}var Kg=Math.ceil,bo=yn.ReactCurrentDispatcher,Eu=yn.ReactCurrentOwner,_t=yn.ReactCurrentBatchConfig,fe=0,Be=null,Oe=null,We=0,ht=0,ss=Qn(0),Me=0,Da=null,br=0,Fo=0,Cu=0,ja=null,at=null,_u=0,vs=1/0,on=null,jo=!1,_c=null,Mn=null,Tl=!1,An=null,No=0,Na=0,Rc=null,Kl=-1,Gl=0;function et(){return fe&6?Ie():Kl!==-1?Kl:Kl=Ie()}function Dn(e){return e.mode&1?fe&2&&We!==0?We&-We:Lg.transition!==null?(Gl===0&&(Gl=lh()),Gl):(e=me,e!==0||(e=window.event,e=e===void 0?16:hh(e.type)),e):1}function Mt(e,t,n,r){if(50<Na)throw Na=0,Rc=null,Error(U(185));Wa(e,n,r),(!(fe&2)||e!==Be)&&(e===Be&&(!(fe&2)&&(Fo|=n),Me===4&&Pn(e,We)),ct(e,r),n===1&&fe===0&&!(t.mode&1)&&(vs=Ie()+500,Io&&Kn()))}function ct(e,t){var n=e.callbackNode;L0(e,t);var r=ao(e,e===Be?We:0);if(r===0)n!==null&&cd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&cd(n),t===1)e.tag===0?Pg(tf.bind(null,e)):Ah(tf.bind(null,e)),Eg(function(){!(fe&6)&&Kn()}),n=null;else{switch(oh(r)){case 1:n=eu;break;case 4:n=sh;break;case 16:n=so;break;case 536870912:n=ah;break;default:n=so}n=Lp(n,kp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function kp(e,t){if(Kl=-1,Gl=0,fe&6)throw Error(U(327));var n=e.callbackNode;if(us()&&e.callbackNode!==n)return null;var r=ao(e,e===Be?We:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=ko(e,r);else{t=r;var s=fe;fe|=2;var l=Ep();(Be!==e||We!==t)&&(on=null,vs=Ie()+500,gr(e,t));do try{Jg();break}catch(c){Sp(e,c)}while(!0);hu(),bo.current=l,fe=s,Oe!==null?t=0:(Be=null,We=0,t=Me)}if(t!==0){if(t===2&&(s=nc(e),s!==0&&(r=s,t=Pc(e,s))),t===1)throw n=Da,gr(e,0),Pn(e,r),ct(e,Ie()),n;if(t===6)Pn(e,r);else{if(s=e.current.alternate,!(r&30)&&!Gg(s)&&(t=ko(e,r),t===2&&(l=nc(e),l!==0&&(r=l,t=Pc(e,l))),t===1))throw n=Da,gr(e,0),Pn(e,r),ct(e,Ie()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:dr(e,at,on);break;case 3:if(Pn(e,r),(r&130023424)===r&&(t=_u+500-Ie(),10<t)){if(ao(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){et(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=uc(dr.bind(null,e,at,on),t);break}dr(e,at,on);break;case 4:if(Pn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-$t(r);l=1<<o,o=t[o],o>s&&(s=o),r&=~l}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kg(r/1960))-r,10<r){e.timeoutHandle=uc(dr.bind(null,e,at,on),r);break}dr(e,at,on);break;case 5:dr(e,at,on);break;default:throw Error(U(329))}}}return ct(e,Ie()),e.callbackNode===n?kp.bind(null,e):null}function Pc(e,t){var n=ja;return e.current.memoizedState.isDehydrated&&(gr(e,t).flags|=256),e=ko(e,t),e!==2&&(t=at,at=n,t!==null&&Lc(t)),e}function Lc(e){at===null?at=e:at.push.apply(at,e)}function Gg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],l=s.getSnapshot;s=s.value;try{if(!Dt(l(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pn(e,t){for(t&=~Cu,t&=~Fo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-$t(t),r=1<<n;e[n]=-1,t&=~r}}function tf(e){if(fe&6)throw Error(U(327));us();var t=ao(e,0);if(!(t&1))return ct(e,Ie()),null;var n=ko(e,t);if(e.tag!==0&&n===2){var r=nc(e);r!==0&&(t=r,n=Pc(e,r))}if(n===1)throw n=Da,gr(e,0),Pn(e,t),ct(e,Ie()),n;if(n===6)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dr(e,at,on),ct(e,Ie()),null}function Ru(e,t){var n=fe;fe|=1;try{return e(t)}finally{fe=n,fe===0&&(vs=Ie()+500,Io&&Kn())}}function jr(e){An!==null&&An.tag===0&&!(fe&6)&&us();var t=fe;fe|=1;var n=_t.transition,r=me;try{if(_t.transition=null,me=1,e)return e()}finally{me=r,_t.transition=n,fe=t,!(fe&6)&&Kn()}}function Pu(){ht=ss.current,be(ss)}function gr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Sg(n)),Oe!==null)for(n=Oe.return;n!==null;){var r=n;switch(uu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uo();break;case 3:gs(),be(ot),be(Je),yu();break;case 5:vu(r);break;case 4:gs();break;case 13:be(Ce);break;case 19:be(Ce);break;case 10:pu(r.type._context);break;case 22:case 23:Pu()}n=n.return}if(Be=e,Oe=e=zn(e.current,null),We=ht=t,Me=0,Da=null,Cu=Fo=br=0,at=ja=null,pr!==null){for(t=0;t<pr.length;t++)if(n=pr[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,l=n.pending;if(l!==null){var o=l.next;l.next=s,r.next=o}n.pending=r}pr=null}return e}function Sp(e,t){do{var n=Oe;try{if(hu(),Hl.current=wo,yo){for(var r=_e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yo=!1}if(wr=0,ze=$e=_e=null,wa=!1,Fa=0,Eu.current=null,n===null||n.return===null){Me=1,Da=t,Oe=null;break}e:{var l=e,o=n.return,c=n,u=t;if(t=We,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,x=c,v=x.tag;if(!(x.mode&1)&&(v===0||v===11||v===15)){var j=x.alternate;j?(x.updateQueue=j.updateQueue,x.memoizedState=j.memoizedState,x.lanes=j.lanes):(x.updateQueue=null,x.memoizedState=null)}var E=Bd(o);if(E!==null){E.flags&=-257,Vd(E,o,c,l,t),E.mode&1&&zd(l,h,t),t=E,u=h;var L=t.updateQueue;if(L===null){var R=new Set;R.add(u),t.updateQueue=R}else L.add(u);break e}else{if(!(t&1)){zd(l,h,t),Lu();break e}u=Error(U(426))}}else if(Se&&c.mode&1){var T=Bd(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),Vd(T,o,c,l,t),du(xs(u,c));break e}}l=u=xs(u,c),Me!==4&&(Me=2),ja===null?ja=[l]:ja.push(l),l=o;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=ip(l,u,t);Td(l,y);break e;case 1:c=u;var m=l.type,w=l.stateNode;if(!(l.flags&128)&&(typeof m.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Mn===null||!Mn.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t;var S=cp(l,c,t);Td(l,S);break e}}l=l.return}while(l!==null)}_p(n)}catch(P){t=P,Oe===n&&n!==null&&(Oe=n=n.return);continue}break}while(!0)}function Ep(){var e=bo.current;return bo.current=wo,e===null?wo:e}function Lu(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||!(br&268435455)&&!(Fo&268435455)||Pn(Be,We)}function ko(e,t){var n=fe;fe|=2;var r=Ep();(Be!==e||We!==t)&&(on=null,gr(e,t));do try{Zg();break}catch(s){Sp(e,s)}while(!0);if(hu(),fe=n,bo.current=r,Oe!==null)throw Error(U(261));return Be=null,We=0,Me}function Zg(){for(;Oe!==null;)Cp(Oe)}function Jg(){for(;Oe!==null&&!j0();)Cp(Oe)}function Cp(e){var t=Pp(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?_p(e):Oe=t,Eu.current=null}function _p(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Wg(n,t),n!==null){n.flags&=32767,Oe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Oe=null;return}}else if(n=Vg(n,t,ht),n!==null){Oe=n;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Me===0&&(Me=5)}function dr(e,t,n){var r=me,s=_t.transition;try{_t.transition=null,me=1,Yg(e,t,n,r)}finally{_t.transition=s,me=r}return null}function Yg(e,t,n,r){do us();while(An!==null);if(fe&6)throw Error(U(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var l=n.lanes|n.childLanes;if(A0(e,l),e===Be&&(Oe=Be=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Tl||(Tl=!0,Lp(so,function(){return us(),null})),l=(n.flags&15990)!==0,n.subtreeFlags&15990||l){l=_t.transition,_t.transition=null;var o=me;me=1;var c=fe;fe|=4,Eu.current=null,qg(e,n),jp(n,e),vg(ic),lo=!!oc,ic=oc=null,e.current=n,Qg(n),N0(),fe=c,me=o,_t.transition=l}else e.current=n;if(Tl&&(Tl=!1,An=e,No=s),l=e.pendingLanes,l===0&&(Mn=null),E0(n.stateNode),ct(e,Ie()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(jo)throw jo=!1,e=_c,_c=null,e;return No&1&&e.tag!==0&&us(),l=e.pendingLanes,l&1?e===Rc?Na++:(Na=0,Rc=e):Na=0,Kn(),null}function us(){if(An!==null){var e=oh(No),t=_t.transition,n=me;try{if(_t.transition=null,me=16>e?16:e,An===null)var r=!1;else{if(e=An,An=null,No=0,fe&6)throw Error(U(331));var s=fe;for(fe|=4,Q=e.current;Q!==null;){var l=Q,o=l.child;if(Q.flags&16){var c=l.deletions;if(c!==null){for(var u=0;u<c.length;u++){var h=c[u];for(Q=h;Q!==null;){var x=Q;switch(x.tag){case 0:case 11:case 15:ba(8,x,l)}var v=x.child;if(v!==null)v.return=x,Q=v;else for(;Q!==null;){x=Q;var j=x.sibling,E=x.return;if(yp(x),x===h){Q=null;break}if(j!==null){j.return=E,Q=j;break}Q=E}}}var L=l.alternate;if(L!==null){var R=L.child;if(R!==null){L.child=null;do{var T=R.sibling;R.sibling=null,R=T}while(R!==null)}}Q=l}}if(l.subtreeFlags&2064&&o!==null)o.return=l,Q=o;else e:for(;Q!==null;){if(l=Q,l.flags&2048)switch(l.tag){case 0:case 11:case 15:ba(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,Q=y;break e}Q=l.return}}var m=e.current;for(Q=m;Q!==null;){o=Q;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,Q=w;else e:for(o=m;Q!==null;){if(c=Q,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Uo(9,c)}}catch(P){Pe(c,c.return,P)}if(c===o){Q=null;break e}var S=c.sibling;if(S!==null){S.return=c.return,Q=S;break e}Q=c.return}}if(fe=s,Kn(),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(_o,e)}catch{}r=!0}return r}finally{me=n,_t.transition=t}}return!1}function nf(e,t,n){t=xs(n,t),t=ip(e,t,1),e=$n(e,t,1),t=et(),e!==null&&(Wa(e,1,t),ct(e,t))}function Pe(e,t,n){if(e.tag===3)nf(e,e,n);else for(;t!==null;){if(t.tag===3){nf(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){e=xs(n,e),e=cp(t,e,1),t=$n(t,e,1),e=et(),t!==null&&(Wa(t,1,e),ct(t,e));break}}t=t.return}}function Xg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(We&n)===n&&(Me===4||Me===3&&(We&130023424)===We&&500>Ie()-_u?gr(e,0):Cu|=n),ct(e,t)}function Rp(e,t){t===0&&(e.mode&1?(t=kl,kl<<=1,!(kl&130023424)&&(kl=4194304)):t=1);var n=et();e=xn(e,t),e!==null&&(Wa(e,t,n),ct(e,n))}function ex(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Rp(e,n)}function tx(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(t),Rp(e,n)}var Pp;Pp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ot.current)lt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return lt=!1,Bg(e,t,n);lt=!!(e.flags&131072)}else lt=!1,Se&&t.flags&1048576&&Ih(t,po,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ql(e,t),e=t.pendingProps;var s=hs(t,Je.current);cs(t,n),s=bu(null,t,r,e,s,n);var l=ju();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(l=!0,fo(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,gu(t),s.updater=To,t.stateNode=s,s._reactInternals=t,xc(t,r,e,n),t=wc(null,t,r,!0,l,n)):(t.tag=0,Se&&l&&cu(t),Xe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ql(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=rx(r),e=Tt(r,e),s){case 0:t=yc(null,t,r,e,n);break e;case 1:t=qd(null,t,r,e,n);break e;case 11:t=Wd(null,t,r,e,n);break e;case 14:t=Hd(null,t,r,Tt(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),yc(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),qd(e,t,r,s,n);case 3:e:{if(hp(t),e===null)throw Error(U(387));r=t.pendingProps,l=t.memoizedState,s=l.element,Fh(e,t),xo(t,r,null,n);var o=t.memoizedState;if(r=o.element,l.isDehydrated)if(l={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=xs(Error(U(423)),t),t=Qd(e,t,r,n,s);break e}else if(r!==s){s=xs(Error(U(424)),t),t=Qd(e,t,r,n,s);break e}else for(pt=Fn(t.stateNode.containerInfo.firstChild),mt=t,Se=!0,Ft=null,n=zh(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ps(),r===s){t=vn(e,t,n);break e}Xe(e,t,r,n)}t=t.child}return t;case 5:return Bh(t),e===null&&pc(t),r=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,o=s.children,cc(r,s)?o=null:l!==null&&cc(r,l)&&(t.flags|=32),fp(e,t),Xe(e,t,o,n),t.child;case 6:return e===null&&pc(t),null;case 13:return pp(e,t,n);case 4:return xu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ms(t,null,r,n):Xe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Wd(e,t,r,s,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,l=t.memoizedProps,o=s.value,ye(mo,r._currentValue),r._currentValue=o,l!==null)if(Dt(l.value,o)){if(l.children===s.children&&!ot.current){t=vn(e,t,n);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var c=l.dependencies;if(c!==null){o=l.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(l.tag===1){u=pn(-1,n&-n),u.tag=2;var h=l.updateQueue;if(h!==null){h=h.shared;var x=h.pending;x===null?u.next=u:(u.next=x.next,x.next=u),h.pending=u}}l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),mc(l.return,n,t),c.lanes|=n;break}u=u.next}}else if(l.tag===10)o=l.type===t.type?null:l.child;else if(l.tag===18){if(o=l.return,o===null)throw Error(U(341));o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),mc(o,n,t),o=l.sibling}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===t){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}Xe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,cs(t,n),s=Rt(s),r=r(s),t.flags|=1,Xe(e,t,r,n),t.child;case 14:return r=t.type,s=Tt(r,t.pendingProps),s=Tt(r.type,s),Hd(e,t,r,s,n);case 15:return up(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Ql(e,t),t.tag=1,it(r)?(e=!0,fo(t)):e=!1,cs(t,n),Mh(t,r,s),xc(t,r,s,n),wc(null,t,r,!0,e,n);case 19:return mp(e,t,n);case 22:return dp(e,t,n)}throw Error(U(156,t.tag))};function Lp(e,t){return rh(e,t)}function nx(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,n,r){return new nx(e,t,n,r)}function Au(e){return e=e.prototype,!(!e||!e.isReactComponent)}function rx(e){if(typeof e=="function")return Au(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jc)return 11;if(e===Yc)return 14}return 2}function zn(e,t){var n=e.alternate;return n===null?(n=Ct(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zl(e,t,n,r,s,l){var o=2;if(r=e,typeof e=="function")Au(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case Kr:return xr(n.children,s,l,t);case Zc:o=8,s|=8;break;case zi:return e=Ct(12,n,t,s|2),e.elementType=zi,e.lanes=l,e;case Bi:return e=Ct(13,n,t,s),e.elementType=Bi,e.lanes=l,e;case Vi:return e=Ct(19,n,t,s),e.elementType=Vi,e.lanes=l,e;case Df:return $o(n,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case $f:o=10;break e;case Mf:o=9;break e;case Jc:o=11;break e;case Yc:o=14;break e;case Cn:o=16,r=null;break e}throw Error(U(130,e==null?e:typeof e,""))}return t=Ct(o,n,t,s),t.elementType=e,t.type=r,t.lanes=l,t}function xr(e,t,n,r){return e=Ct(7,e,r,t),e.lanes=n,e}function $o(e,t,n,r){return e=Ct(22,e,r,t),e.elementType=Df,e.lanes=n,e.stateNode={isHidden:!1},e}function Ri(e,t,n){return e=Ct(6,e,null,t),e.lanes=n,e}function Pi(e,t,n){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sx(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ui(0),this.expirationTimes=ui(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Iu(e,t,n,r,s,l,o,c,u){return e=new sx(e,t,n,c,u),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Ct(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gu(l),e}function ax(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ap(e){if(!e)return Hn;e=e._reactInternals;e:{if(kr(e)!==e||e.tag!==1)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(U(171))}if(e.tag===1){var n=e.type;if(it(n))return Lh(e,n,t)}return t}function Ip(e,t,n,r,s,l,o,c,u){return e=Iu(n,r,!0,e,s,l,o,c,u),e.context=Ap(null),n=e.current,r=et(),s=Dn(n),l=pn(r,s),l.callback=t??null,$n(n,l,s),e.current.lanes=s,Wa(e,s,r),ct(e,r),e}function Mo(e,t,n,r){var s=t.current,l=et(),o=Dn(s);return n=Ap(n),t.context===null?t.context=n:t.pendingContext=n,t=pn(l,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$n(s,t,o),e!==null&&(Mt(e,s,o,l),Wl(e,s,o)),o}function So(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function rf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tu(e,t){rf(e,t),(e=e.alternate)&&rf(e,t)}function lx(){return null}var Tp=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ou(e){this._internalRoot=e}Do.prototype.render=Ou.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(U(409));Mo(e,t,null,null)};Do.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jr(function(){Mo(null,e,null,null)}),t[gn]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=uh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rn.length&&t!==0&&t<Rn[n].priority;n++);Rn.splice(n,0,e),n===0&&fh(e)}};function Uu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sf(){}function ox(e,t,n,r,s){if(s){if(typeof r=="function"){var l=r;r=function(){var h=So(o);l.call(h)}}var o=Ip(t,r,e,0,null,!1,!1,"",sf);return e._reactRootContainer=o,e[gn]=o.current,Aa(e.nodeType===8?e.parentNode:e),jr(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var c=r;r=function(){var h=So(u);c.call(h)}}var u=Iu(e,0,!1,null,null,!1,!1,"",sf);return e._reactRootContainer=u,e[gn]=u.current,Aa(e.nodeType===8?e.parentNode:e),jr(function(){Mo(t,u,n,r)}),u}function Bo(e,t,n,r,s){var l=n._reactRootContainer;if(l){var o=l;if(typeof s=="function"){var c=s;s=function(){var u=So(o);c.call(u)}}Mo(t,o,e,s)}else o=ox(n,t,e,s,r);return So(o)}ih=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=fa(t.pendingLanes);n!==0&&(tu(t,n|1),ct(t,Ie()),!(fe&6)&&(vs=Ie()+500,Kn()))}break;case 13:jr(function(){var r=xn(e,1);if(r!==null){var s=et();Mt(r,e,1,s)}}),Tu(e,1)}};nu=function(e){if(e.tag===13){var t=xn(e,134217728);if(t!==null){var n=et();Mt(t,e,134217728,n)}Tu(e,134217728)}};ch=function(e){if(e.tag===13){var t=Dn(e),n=xn(e,t);if(n!==null){var r=et();Mt(n,e,t,r)}Tu(e,t)}};uh=function(){return me};dh=function(e,t){var n=me;try{return me=e,t()}finally{me=n}};Xi=function(e,t,n){switch(t){case"input":if(qi(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ao(r);if(!s)throw Error(U(90));Bf(r),qi(r,s)}}}break;case"textarea":Wf(e,n);break;case"select":t=n.value,t!=null&&as(e,!!n.multiple,t,!1)}};Jf=Ru;Yf=jr;var ix={usingClientEntryPoint:!1,Events:[qa,Yr,Ao,Gf,Zf,Ru]},la={findFiberByHostInstance:hr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cx={bundleType:la.bundleType,version:la.version,rendererPackageName:la.rendererPackageName,rendererConfig:la.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=th(e),e===null?null:e.stateNode},findFiberByHostInstance:la.findFiberByHostInstance||lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{_o=Ol.inject(cx),Kt=Ol}catch{}}xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Uu(t))throw Error(U(200));return ax(e,t,null,n)};xt.createRoot=function(e,t){if(!Uu(e))throw Error(U(299));var n=!1,r="",s=Tp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Iu(e,1,!1,null,null,n,!1,r,s),e[gn]=t.current,Aa(e.nodeType===8?e.parentNode:e),new Ou(t)};xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=th(t),e=e===null?null:e.stateNode,e};xt.flushSync=function(e){return jr(e)};xt.hydrate=function(e,t,n){if(!zo(t))throw Error(U(200));return Bo(null,e,t,!0,n)};xt.hydrateRoot=function(e,t,n){if(!Uu(e))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,l="",o=Tp;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Ip(t,null,e,1,n??null,s,!1,l,o),e[gn]=t.current,Aa(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Do(t)};xt.render=function(e,t,n){if(!zo(t))throw Error(U(200));return Bo(null,e,t,!1,n)};xt.unmountComponentAtNode=function(e){if(!zo(e))throw Error(U(40));return e._reactRootContainer?(jr(function(){Bo(null,null,e,!1,function(){e._reactRootContainer=null,e[gn]=null})}),!0):!1};xt.unstable_batchedUpdates=Ru;xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!zo(n))throw Error(U(200));if(e==null||e._reactInternals===void 0)throw Error(U(38));return Bo(e,t,n,!1,r)};xt.version="18.2.0-next-9e3b772b8-20220608";function Op(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Op)}catch(e){console.error(e)}}Op(),If.exports=xt;var ux=If.exports,Up,af=ux;Up=af.createRoot,af.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function za(){return za=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},za.apply(this,arguments)}var In;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(In||(In={}));const lf="popstate";function dx(e){e===void 0&&(e={});function t(r,s){let{pathname:l,search:o,hash:c}=r.location;return Ac("",{pathname:l,search:o,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Eo(s)}return hx(t,n,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Fp(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fx(){return Math.random().toString(36).substr(2,8)}function of(e,t){return{usr:e.state,key:e.key,idx:t}}function Ac(e,t,n,r){return n===void 0&&(n=null),za({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?js(t):t,{state:n,key:t&&t.key||r||fx()})}function Eo(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function js(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function hx(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:l=!1}=r,o=s.history,c=In.Pop,u=null,h=x();h==null&&(h=0,o.replaceState(za({},o.state,{idx:h}),""));function x(){return(o.state||{idx:null}).idx}function v(){c=In.Pop;let T=x(),y=T==null?null:T-h;h=T,u&&u({action:c,location:R.location,delta:y})}function j(T,y){c=In.Push;let m=Ac(R.location,T,y);h=x()+1;let w=of(m,h),S=R.createHref(m);try{o.pushState(w,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(S)}l&&u&&u({action:c,location:R.location,delta:1})}function E(T,y){c=In.Replace;let m=Ac(R.location,T,y);h=x();let w=of(m,h),S=R.createHref(m);o.replaceState(w,"",S),l&&u&&u({action:c,location:R.location,delta:0})}function L(T){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof T=="string"?T:Eo(T);return m=m.replace(/ $/,"%20"),Te(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let R={get action(){return c},get location(){return e(s,o)},listen(T){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(lf,v),u=T,()=>{s.removeEventListener(lf,v),u=null}},createHref(T){return t(s,T)},createURL:L,encodeLocation(T){let y=L(T);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:j,replace:E,go(T){return o.go(T)}};return R}var cf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(cf||(cf={}));function px(e,t,n){return n===void 0&&(n="/"),mx(e,t,n)}function mx(e,t,n,r){let s=typeof t=="string"?js(t):t,l=Fu(s.pathname||"/",n);if(l==null)return null;let o=$p(e);gx(o);let c=null;for(let u=0;c==null&&u<o.length;++u){let h=_x(l);c=Sx(o[u],h)}return c}function $p(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(l,o,c)=>{let u={relativePath:c===void 0?l.path||"":c,caseSensitive:l.caseSensitive===!0,childrenIndex:o,route:l};u.relativePath.startsWith("/")&&(Te(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=Bn([r,u.relativePath]),x=n.concat(u);l.children&&l.children.length>0&&(Te(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),$p(l.children,t,x,h)),!(l.path==null&&!l.index)&&t.push({path:h,score:Nx(h,l.index),routesMeta:x})};return e.forEach((l,o)=>{var c;if(l.path===""||!((c=l.path)!=null&&c.includes("?")))s(l,o);else for(let u of Mp(l.path))s(l,o,u)}),t}function Mp(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let o=Mp(r.join("/")),c=[];return c.push(...o.map(u=>u===""?l:[l,u].join("/"))),s&&c.push(...o),c.map(u=>e.startsWith("/")&&u===""?"/":u)}function gx(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:kx(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xx=/^:[\w-]+$/,vx=3,yx=2,wx=1,bx=10,jx=-2,uf=e=>e==="*";function Nx(e,t){let n=e.split("/"),r=n.length;return n.some(uf)&&(r+=jx),t&&(r+=yx),n.filter(s=>!uf(s)).reduce((s,l)=>s+(xx.test(l)?vx:l===""?wx:bx),r)}function kx(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Sx(e,t,n){let{routesMeta:r}=e,s={},l="/",o=[];for(let c=0;c<r.length;++c){let u=r[c],h=c===r.length-1,x=l==="/"?t:t.slice(l.length)||"/",v=Ex({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},x),j=u.route;if(!v)return null;Object.assign(s,v.params),o.push({params:s,pathname:Bn([l,v.pathname]),pathnameBase:Ax(Bn([l,v.pathnameBase])),route:j}),v.pathnameBase!=="/"&&(l=Bn([l,v.pathnameBase]))}return o}function Ex(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Cx(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],o=l.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,x,v)=>{let{paramName:j,isOptional:E}=x;if(j==="*"){let R=c[v]||"";o=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const L=c[v];return E&&!L?h[j]=void 0:h[j]=(L||"").replace(/%2F/g,"/"),h},{}),pathname:l,pathnameBase:o,pattern:e}}function Cx(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Fp(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,u)=>(r.push({paramName:c,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function _x(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Fp(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Fu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Rx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?js(e):e;return{pathname:n?n.startsWith("/")?n:Px(n,t):t,search:Ix(r),hash:Tx(s)}}function Px(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Li(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function $u(e,t){let n=Lx(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Mu(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=js(e):(s=za({},e),Te(!s.pathname||!s.pathname.includes("?"),Li("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),Li("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),Li("#","search","hash",s)));let l=e===""||s.pathname==="",o=l?"/":s.pathname,c;if(o==null)c=n;else{let v=t.length-1;if(!r&&o.startsWith("..")){let j=o.split("/");for(;j[0]==="..";)j.shift(),v-=1;s.pathname=j.join("/")}c=v>=0?t[v]:"/"}let u=Rx(s,c),h=o&&o!=="/"&&o.endsWith("/"),x=(l||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||x)&&(u.pathname+="/"),u}const Bn=e=>e.join("/").replace(/\/\/+/g,"/"),Ax=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ix=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Tx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ox(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dp=["post","put","patch","delete"];new Set(Dp);const Ux=["get",...Dp];new Set(Ux);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ba(){return Ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ba.apply(this,arguments)}const Du=d.createContext(null),Fx=d.createContext(null),Gn=d.createContext(null),Vo=d.createContext(null),Yt=d.createContext({outlet:null,matches:[],isDataRoute:!1}),zp=d.createContext(null);function $x(e,t){let{relative:n}=t===void 0?{}:t;Ns()||Te(!1);let{basename:r,navigator:s}=d.useContext(Gn),{hash:l,pathname:o,search:c}=Wp(e,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Bn([r,o])),s.createHref({pathname:u,search:c,hash:l})}function Ns(){return d.useContext(Vo)!=null}function Zn(){return Ns()||Te(!1),d.useContext(Vo).location}function Bp(e){d.useContext(Gn).static||d.useLayoutEffect(e)}function Xt(){let{isDataRoute:e}=d.useContext(Yt);return e?Xx():Mx()}function Mx(){Ns()||Te(!1);let e=d.useContext(Du),{basename:t,future:n,navigator:r}=d.useContext(Gn),{matches:s}=d.useContext(Yt),{pathname:l}=Zn(),o=JSON.stringify($u(s,n.v7_relativeSplatPath)),c=d.useRef(!1);return Bp(()=>{c.current=!0}),d.useCallback(function(h,x){if(x===void 0&&(x={}),!c.current)return;if(typeof h=="number"){r.go(h);return}let v=Mu(h,JSON.parse(o),l,x.relative==="path");e==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Bn([t,v.pathname])),(x.replace?r.replace:r.push)(v,x.state,x)},[t,r,o,l,e])}const Dx=d.createContext(null);function zx(e){let t=d.useContext(Yt).outlet;return t&&d.createElement(Dx.Provider,{value:e},t)}function Vp(){let{matches:e}=d.useContext(Yt),t=e[e.length-1];return t?t.params:{}}function Wp(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=d.useContext(Gn),{matches:s}=d.useContext(Yt),{pathname:l}=Zn(),o=JSON.stringify($u(s,r.v7_relativeSplatPath));return d.useMemo(()=>Mu(e,JSON.parse(o),l,n==="path"),[e,o,l,n])}function Bx(e,t){return Vx(e,t)}function Vx(e,t,n,r){Ns()||Te(!1);let{navigator:s}=d.useContext(Gn),{matches:l}=d.useContext(Yt),o=l[l.length-1],c=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let h=Zn(),x;if(t){var v;let T=typeof t=="string"?js(t):t;u==="/"||(v=T.pathname)!=null&&v.startsWith(u)||Te(!1),x=T}else x=h;let j=x.pathname||"/",E=j;if(u!=="/"){let T=u.replace(/^\//,"").split("/");E="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let L=px(e,{pathname:E}),R=Kx(L&&L.map(T=>Object.assign({},T,{params:Object.assign({},c,T.params),pathname:Bn([u,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?u:Bn([u,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),l,n,r);return t&&R?d.createElement(Vo.Provider,{value:{location:Ba({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:In.Pop}},R):R}function Wx(){let e=Yx(),t=Ox(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),n?d.createElement("pre",{style:s},n):null,null)}const Hx=d.createElement(Wx,null);class qx extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?d.createElement(Yt.Provider,{value:this.props.routeContext},d.createElement(zp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qx(e){let{routeContext:t,match:n,children:r}=e,s=d.useContext(Du);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),d.createElement(Yt.Provider,{value:t},r)}function Kx(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var l;if(!n)return null;if(n.errors)e=n.matches;else if((l=r)!=null&&l.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,c=(s=n)==null?void 0:s.errors;if(c!=null){let x=o.findIndex(v=>v.route.id&&(c==null?void 0:c[v.route.id])!==void 0);x>=0||Te(!1),o=o.slice(0,Math.min(o.length,x+1))}let u=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<o.length;x++){let v=o[x];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(h=x),v.route.id){let{loaderData:j,errors:E}=n,L=v.route.loader&&j[v.route.id]===void 0&&(!E||E[v.route.id]===void 0);if(v.route.lazy||L){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((x,v,j)=>{let E,L=!1,R=null,T=null;n&&(E=c&&v.route.id?c[v.route.id]:void 0,R=v.route.errorElement||Hx,u&&(h<0&&j===0?(ev("route-fallback"),L=!0,T=null):h===j&&(L=!0,T=v.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,j+1)),m=()=>{let w;return E?w=R:L?w=T:v.route.Component?w=d.createElement(v.route.Component,null):v.route.element?w=v.route.element:w=x,d.createElement(Qx,{match:v,routeContext:{outlet:x,matches:y,isDataRoute:n!=null},children:w})};return n&&(v.route.ErrorBoundary||v.route.errorElement||j===0)?d.createElement(qx,{location:n.location,revalidation:n.revalidation,component:R,error:E,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Hp=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Hp||{}),qp=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(qp||{});function Gx(e){let t=d.useContext(Du);return t||Te(!1),t}function Zx(e){let t=d.useContext(Fx);return t||Te(!1),t}function Jx(e){let t=d.useContext(Yt);return t||Te(!1),t}function Qp(e){let t=Jx(),n=t.matches[t.matches.length-1];return n.route.id||Te(!1),n.route.id}function Yx(){var e;let t=d.useContext(zp),n=Zx(),r=Qp();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Xx(){let{router:e}=Gx(Hp.UseNavigateStable),t=Qp(qp.UseNavigateStable),n=d.useRef(!1);return Bp(()=>{n.current=!0}),d.useCallback(function(s,l){l===void 0&&(l={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,Ba({fromRouteId:t},l)))},[e,t])}const df={};function ev(e,t,n){df[e]||(df[e]=!0)}function tv(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ic(e){let{to:t,replace:n,state:r,relative:s}=e;Ns()||Te(!1);let{future:l,static:o}=d.useContext(Gn),{matches:c}=d.useContext(Yt),{pathname:u}=Zn(),h=Xt(),x=Mu(t,$u(c,l.v7_relativeSplatPath),u,s==="path"),v=JSON.stringify(x);return d.useEffect(()=>h(JSON.parse(v),{replace:n,state:r,relative:s}),[h,v,s,n,r]),null}function nv(e){return zx(e.context)}function ft(e){Te(!1)}function rv(e){let{basename:t="/",children:n=null,location:r,navigationType:s=In.Pop,navigator:l,static:o=!1,future:c}=e;Ns()&&Te(!1);let u=t.replace(/^\/*/,"/"),h=d.useMemo(()=>({basename:u,navigator:l,static:o,future:Ba({v7_relativeSplatPath:!1},c)}),[u,c,l,o]);typeof r=="string"&&(r=js(r));let{pathname:x="/",search:v="",hash:j="",state:E=null,key:L="default"}=r,R=d.useMemo(()=>{let T=Fu(x,u);return T==null?null:{location:{pathname:T,search:v,hash:j,state:E,key:L},navigationType:s}},[u,x,v,j,E,L,s]);return R==null?null:d.createElement(Gn.Provider,{value:h},d.createElement(Vo.Provider,{children:n,value:R}))}function sv(e){let{children:t,location:n}=e;return Bx(Tc(t),n)}new Promise(()=>{});function Tc(e,t){t===void 0&&(t=[]);let n=[];return d.Children.forEach(e,(r,s)=>{if(!d.isValidElement(r))return;let l=[...t,s];if(r.type===d.Fragment){n.push.apply(n,Tc(r.props.children,l));return}r.type!==ft&&Te(!1),!r.props.index||!r.props.children||Te(!1);let o={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Tc(r.props.children,l)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oc.apply(this,arguments)}function av(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,l;for(l=0;l<r.length;l++)s=r[l],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function lv(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ov(e,t){return e.button===0&&(!t||t==="_self")&&!lv(e)}const iv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],cv="6";try{window.__reactRouterVersion=cv}catch{}const uv="startTransition",ff=e0[uv];function dv(e){let{basename:t,children:n,future:r,window:s}=e,l=d.useRef();l.current==null&&(l.current=dx({window:s,v5Compat:!0}));let o=l.current,[c,u]=d.useState({action:o.action,location:o.location}),{v7_startTransition:h}=r||{},x=d.useCallback(v=>{h&&ff?ff(()=>u(v)):u(v)},[u,h]);return d.useLayoutEffect(()=>o.listen(x),[o,x]),d.useEffect(()=>tv(r),[r]),d.createElement(rv,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:r})}const fv=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=d.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:l,replace:o,state:c,target:u,to:h,preventScrollReset:x,viewTransition:v}=t,j=av(t,iv),{basename:E}=d.useContext(Gn),L,R=!1;if(typeof h=="string"&&hv.test(h)&&(L=h,fv))try{let w=new URL(window.location.href),S=h.startsWith("//")?new URL(w.protocol+h):new URL(h),P=Fu(S.pathname,E);S.origin===w.origin&&P!=null?h=P+S.search+S.hash:R=!0}catch{}let T=$x(h,{relative:s}),y=pv(h,{replace:o,state:c,target:u,preventScrollReset:x,relative:s,viewTransition:v});function m(w){r&&r(w),w.defaultPrevented||y(w)}return d.createElement("a",Oc({},j,{href:L||T,onClick:R||l?r:m,ref:n,target:u}))});var hf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(hf||(hf={}));var pf;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(pf||(pf={}));function pv(e,t){let{target:n,replace:r,state:s,preventScrollReset:l,relative:o,viewTransition:c}=t===void 0?{}:t,u=Xt(),h=Zn(),x=Wp(e,{relative:o});return d.useCallback(v=>{if(ov(v,n)){v.preventDefault();let j=r!==void 0?r:Eo(h)===Eo(x);u(e,{replace:j,state:s,preventScrollReset:l,relative:o,viewTransition:c})}},[h,u,x,r,s,n,e,l,o,c])}const Wo="chat_auth";function Kp(e,t){localStorage.setItem(Wo,JSON.stringify({token:e,user:t}))}function Ht(){const e=localStorage.getItem(Wo);if(!e)return null;try{return JSON.parse(e).token}catch{return null}}function ds(){const e=localStorage.getItem(Wo);if(!e)return null;try{return JSON.parse(e).user}catch{return null}}function Gp(){localStorage.removeItem(Wo)}function mv(){try{if(typeof window<"u"){const{origin:e,location:t}=window,n=(t==null?void 0:t.hostname)||"";return n==="localhost"||n==="127.0.0.1"?"http://localhost:3000/api":`${String(e).replace(/\/$/,"")}/api`}}catch{}return"http://localhost:3000/api"}const qt=mv(),Zp=qt.replace(/\/?api$/,"");function gv(e){const t=`${qt}${e}`,n=t.includes("?")?"&":"?";return`${t}${n}_=${Date.now()}`}const q={get:e=>fetch(gv(e),{headers:{Authorization:`Bearer ${Ht()}`},cache:"no-store"}).then(cn),post:(e,t)=>fetch(`${qt}${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ht()}`},body:JSON.stringify(t)}).then(cn),patch:(e,t)=>fetch(`${qt}${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ht()}`},body:JSON.stringify(t)}).then(cn),del:e=>fetch(`${qt}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ht()}`}}).then(cn),upload:(e,t)=>fetch(`${qt}${e}`,{method:"POST",headers:{Authorization:`Bearer ${Ht()}`},body:t}).then(cn),uploadPatch:(e,t)=>fetch(`${qt}${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${Ht()}`},body:t}).then(cn),delete:e=>fetch(`${qt}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${Ht()}`}}).then(cn)},xv={post:(e,t)=>fetch(`${qt}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(cn),upload:(e,t)=>fetch(`${qt}${e}`,{method:"POST",body:t}).then(cn)};function It(e){return!e||/^https?:\/\//i.test(e)?e:`${Zp.replace(/\/$/,"")}${e}`}async function cn(e){if(e.status===304)return null;if(!e.ok){const n=await e.text();let r;try{r=JSON.parse(n).error||n}catch{r=n}if(e.status===401){try{Gp()}catch{}try{typeof window<"u"&&window.location.assign("/login")}catch{}throw new Error(r||"Sesso expirada. Faa login novamente.")}throw new Error(r||"Erro de requisio")}return(e.headers.get("content-type")||"").includes("application/json")?e.json():e.text()}const Jt=Object.create(null);Jt.open="0";Jt.close="1";Jt.ping="2";Jt.pong="3";Jt.message="4";Jt.upgrade="5";Jt.noop="6";const Jl=Object.create(null);Object.keys(Jt).forEach(e=>{Jl[Jt[e]]=e});const Uc={type:"error",data:"parser error"},Jp=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Yp=typeof ArrayBuffer=="function",Xp=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,zu=({type:e,data:t},n,r)=>Jp&&t instanceof Blob?n?r(t):mf(t,r):Yp&&(t instanceof ArrayBuffer||Xp(t))?n?r(t):mf(new Blob([t]),r):r(Jt[e]+(t||"")),mf=(e,t)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];t("b"+(r||""))},n.readAsDataURL(e)};function gf(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let Ai;function vv(e,t){if(Jp&&e.data instanceof Blob)return e.data.arrayBuffer().then(gf).then(t);if(Yp&&(e.data instanceof ArrayBuffer||Xp(e.data)))return t(gf(e.data));zu(e,!1,n=>{Ai||(Ai=new TextEncoder),t(Ai.encode(n))})}const xf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pa=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<xf.length;e++)pa[xf.charCodeAt(e)]=e;const yv=e=>{let t=e.length*.75,n=e.length,r,s=0,l,o,c,u;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const h=new ArrayBuffer(t),x=new Uint8Array(h);for(r=0;r<n;r+=4)l=pa[e.charCodeAt(r)],o=pa[e.charCodeAt(r+1)],c=pa[e.charCodeAt(r+2)],u=pa[e.charCodeAt(r+3)],x[s++]=l<<2|o>>4,x[s++]=(o&15)<<4|c>>2,x[s++]=(c&3)<<6|u&63;return h},wv=typeof ArrayBuffer=="function",Bu=(e,t)=>{if(typeof e!="string")return{type:"message",data:em(e,t)};const n=e.charAt(0);return n==="b"?{type:"message",data:bv(e.substring(1),t)}:Jl[n]?e.length>1?{type:Jl[n],data:e.substring(1)}:{type:Jl[n]}:Uc},bv=(e,t)=>{if(wv){const n=yv(e);return em(n,t)}else return{base64:!0,data:e}},em=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},tm="",jv=(e,t)=>{const n=e.length,r=new Array(n);let s=0;e.forEach((l,o)=>{zu(l,!1,c=>{r[o]=c,++s===n&&t(r.join(tm))})})},Nv=(e,t)=>{const n=e.split(tm),r=[];for(let s=0;s<n.length;s++){const l=Bu(n[s],t);if(r.push(l),l.type==="error")break}return r};function kv(){return new TransformStream({transform(e,t){vv(e,n=>{const r=n.length;let s;if(r<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,r);else if(r<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,r)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(r))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(n)})}})}let Ii;function Ul(e){return e.reduce((t,n)=>t+n.length,0)}function Fl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let s=0;s<t;s++)n[s]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Sv(e,t){Ii||(Ii=new TextDecoder);const n=[];let r=0,s=-1,l=!1;return new TransformStream({transform(o,c){for(n.push(o);;){if(r===0){if(Ul(n)<1)break;const u=Fl(n,1);l=(u[0]&128)===128,s=u[0]&127,s<126?r=3:s===126?r=1:r=2}else if(r===1){if(Ul(n)<2)break;const u=Fl(n,2);s=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),r=3}else if(r===2){if(Ul(n)<8)break;const u=Fl(n,8),h=new DataView(u.buffer,u.byteOffset,u.length),x=h.getUint32(0);if(x>Math.pow(2,21)-1){c.enqueue(Uc);break}s=x*Math.pow(2,32)+h.getUint32(4),r=3}else{if(Ul(n)<s)break;const u=Fl(n,s);c.enqueue(Bu(l?u:Ii.decode(u),t)),r=0}if(s===0||s>e){c.enqueue(Uc);break}}}})}const nm=4;function Ue(e){if(e)return Ev(e)}function Ev(e){for(var t in Ue.prototype)e[t]=Ue.prototype[t];return e}Ue.prototype.on=Ue.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Ue.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this};Ue.prototype.off=Ue.prototype.removeListener=Ue.prototype.removeAllListeners=Ue.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var r,s=0;s<n.length;s++)if(r=n[s],r===t||r.fn===t){n.splice(s,1);break}return n.length===0&&delete this._callbacks["$"+e],this};Ue.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,s=n.length;r<s;++r)n[r].apply(this,t)}return this};Ue.prototype.emitReserved=Ue.prototype.emit;Ue.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Ue.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Ho=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,n)=>n(t,0),Et=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cv="arraybuffer";function rm(e,...t){return t.reduce((n,r)=>(e.hasOwnProperty(r)&&(n[r]=e[r]),n),{})}const _v=Et.setTimeout,Rv=Et.clearTimeout;function qo(e,t){t.useNativeTimers?(e.setTimeoutFn=_v.bind(Et),e.clearTimeoutFn=Rv.bind(Et)):(e.setTimeoutFn=Et.setTimeout.bind(Et),e.clearTimeoutFn=Et.clearTimeout.bind(Et))}const Pv=1.33;function Lv(e){return typeof e=="string"?Av(e):Math.ceil((e.byteLength||e.size)*Pv)}function Av(e){let t=0,n=0;for(let r=0,s=e.length;r<s;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}function sm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Iv(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}function Tv(e){let t={},n=e.split("&");for(let r=0,s=n.length;r<s;r++){let l=n[r].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class Ov extends Error{constructor(t,n,r){super(t),this.description=n,this.context=r,this.type="TransportError"}}class Vu extends Ue{constructor(t){super(),this.writable=!1,qo(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,n,r){return super.emitReserved("error",new Ov(t,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const n=Bu(t,this.socket.binaryType);this.onPacket(n)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,n={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const n=Iv(t);return n.length?"?"+n:""}}class Uv extends Vu{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const n=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};Nv(t,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,jv(t,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=sm()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(t,n)}}let am=!1;try{am=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Fv=am;function $v(){}class Mv extends Uv{constructor(t){if(super(t),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||r!==t.port}}doWrite(t,n){const r=this.request({method:"POST",data:t});r.on("success",n),r.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=t}}class Zt extends Ue{constructor(t,n,r){super(),this.createRequest=t,qo(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var t;const n=rm(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&r.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var s;r.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=Zt.requestsCount++,Zt.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=$v,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Zt.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Zt.requestsCount=0;Zt.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",vf);else if(typeof addEventListener=="function"){const e="onpagehide"in Et?"pagehide":"unload";addEventListener(e,vf,!1)}}function vf(){for(let e in Zt.requests)Zt.requests.hasOwnProperty(e)&&Zt.requests[e].abort()}const Dv=function(){const e=lm({xdomain:!1});return e&&e.responseType!==null}();class zv extends Mv{constructor(t){super(t);const n=t&&t.forceBase64;this.supportsBinary=Dv&&!n}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Zt(lm,this.uri(),t)}}function lm(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Fv))return new XMLHttpRequest}catch{}if(!t)try{return new Et[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const om=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Bv extends Vu{get name(){return"websocket"}doOpen(){const t=this.uri(),n=this.opts.protocols,r=om?{}:rm(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,n,r)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;zu(r,this.supportsBinary,l=>{try{this.doWrite(r,l)}catch{}s&&Ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=sm()),this.supportsBinary||(n.b64=1),this.createUri(t,n)}}const Ti=Et.WebSocket||Et.MozWebSocket;class Vv extends Bv{createSocket(t,n,r){return om?new Ti(t,n,r):n?new Ti(t,n):new Ti(t)}doWrite(t,n){this.ws.send(n)}}class Wv extends Vu{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const n=Sv(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=t.readable.pipeThrough(n).getReader(),s=kv();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const l=()=>{r.read().then(({done:c,value:u})=>{c||(this.onPacket(u),l())}).catch(c=>{})};l();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let n=0;n<t.length;n++){const r=t[n],s=n===t.length-1;this._writer.write(r).then(()=>{s&&Ho(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Hv={websocket:Vv,webtransport:Wv,polling:zv},qv=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qv=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Fc(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");n!=-1&&r!=-1&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let s=qv.exec(e||""),l={},o=14;for(;o--;)l[Qv[o]]=s[o]||"";return n!=-1&&r!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Kv(l,l.path),l.queryKey=Gv(l,l.query),l}function Kv(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&r.splice(0,1),t.slice(-1)=="/"&&r.splice(r.length-1,1),r}function Gv(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,s,l){s&&(n[s]=l)}),n}const $c=typeof addEventListener=="function"&&typeof removeEventListener=="function",Yl=[];$c&&addEventListener("offline",()=>{Yl.forEach(e=>e())},!1);class Vn extends Ue{constructor(t,n){if(super(),this.binaryType=Cv,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(n=t,t=null),t){const r=Fc(t);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Fc(n.host).host);qo(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const s=r.prototype.name;this.transports.push(s),this._transportsByName[s]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Tv(this.opts.query)),$c&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Yl.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const n=Object.assign({},this.opts.query);n.EIO=nm,n.transport=t,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&Vn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(t);n.open(),this.setTransport(n)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Vn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=t.data,this._onError(n);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const s=this.writeBuffer[r].data;if(s&&(n+=Lv(s)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Ho(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,n,r){return this._sendPacket("message",t,n,r),this}send(t,n,r){return this._sendPacket("message",t,n,r),this}_sendPacket(t,n,r,s){if(typeof n=="function"&&(s=n,n=void 0),typeof r=="function"&&(s=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const l={type:t,data:n,options:r};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),t()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():t()}):this.upgrading?r():t()),this}_onError(t){if(Vn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),$c&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Yl.indexOf(this._offlineEventListener);r!==-1&&Yl.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,n),this.writeBuffer=[],this._prevBufferLen=0}}}Vn.protocol=nm;class Zv extends Vn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let n=this.createTransport(t),r=!1;Vn.priorWebsocketSuccess=!1;const s=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",v=>{if(!r)if(v.type==="pong"&&v.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Vn.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(x(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const j=new Error("probe error");j.transport=n.name,this.emitReserved("upgradeError",j)}}))};function l(){r||(r=!0,x(),n.close(),n=null)}const o=v=>{const j=new Error("probe error: "+v);j.transport=n.name,l(),this.emitReserved("upgradeError",j)};function c(){o("transport closed")}function u(){o("socket closed")}function h(v){n&&v.name!==n.name&&l()}const x=()=>{n.removeListener("open",s),n.removeListener("error",o),n.removeListener("close",c),this.off("close",u),this.off("upgrading",h)};n.once("open",s),n.once("error",o),n.once("close",c),this.once("close",u),this.once("upgrading",h),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const n=[];for(let r=0;r<t.length;r++)~this.transports.indexOf(t[r])&&n.push(t[r]);return n}}let Jv=class extends Zv{constructor(t,n={}){const r=typeof t=="object"?t:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(s=>Hv[s]).filter(s=>!!s)),super(t,r)}};function Yv(e,t="",n){let r=e;n=n||typeof location<"u"&&location,e==null&&(e=n.protocol+"//"+n.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=n.protocol+e:e=n.host+e),/^(https?|wss?):\/\//.test(e)||(typeof n<"u"?e=n.protocol+"//"+e:e="https://"+e),r=Fc(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const l=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+l+":"+r.port+t,r.href=r.protocol+"://"+l+(n&&n.port===r.port?"":":"+r.port),r}const Xv=typeof ArrayBuffer=="function",ey=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,im=Object.prototype.toString,ty=typeof Blob=="function"||typeof Blob<"u"&&im.call(Blob)==="[object BlobConstructor]",ny=typeof File=="function"||typeof File<"u"&&im.call(File)==="[object FileConstructor]";function Wu(e){return Xv&&(e instanceof ArrayBuffer||ey(e))||ty&&e instanceof Blob||ny&&e instanceof File}function Xl(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let n=0,r=e.length;n<r;n++)if(Xl(e[n]))return!0;return!1}if(Wu(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Xl(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Xl(e[n]))return!0;return!1}function ry(e){const t=[],n=e.data,r=e;return r.data=Mc(n,t),r.attachments=t.length,{packet:r,buffers:t}}function Mc(e,t){if(!e)return e;if(Wu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}else if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=Mc(e[r],t);return n}else if(typeof e=="object"&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=Mc(e[r],t));return n}return e}function sy(e,t){return e.data=Dc(e.data,t),delete e.attachments,e}function Dc(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=Dc(e[n],t);else if(typeof e=="object")for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=Dc(e[n],t));return e}const ay=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],ly=5;var ie;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(ie||(ie={}));class oy{constructor(t){this.replacer=t}encode(t){return(t.type===ie.EVENT||t.type===ie.ACK)&&Xl(t)?this.encodeAsBinary({type:t.type===ie.EVENT?ie.BINARY_EVENT:ie.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let n=""+t.type;return(t.type===ie.BINARY_EVENT||t.type===ie.BINARY_ACK)&&(n+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(n+=t.nsp+","),t.id!=null&&(n+=t.id),t.data!=null&&(n+=JSON.stringify(t.data,this.replacer)),n}encodeAsBinary(t){const n=ry(t),r=this.encodeAsString(n.packet),s=n.buffers;return s.unshift(r),s}}function yf(e){return Object.prototype.toString.call(e)==="[object Object]"}class Hu extends Ue{constructor(t){super(),this.reviver=t}add(t){let n;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(t);const r=n.type===ie.BINARY_EVENT;r||n.type===ie.BINARY_ACK?(n.type=r?ie.EVENT:ie.ACK,this.reconstructor=new iy(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(Wu(t)||t.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(t),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let n=0;const r={type:Number(t.charAt(0))};if(ie[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===ie.BINARY_EVENT||r.type===ie.BINARY_ACK){const l=n+1;for(;t.charAt(++n)!=="-"&&n!=t.length;);const o=t.substring(l,n);if(o!=Number(o)||t.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(t.charAt(n+1)==="/"){const l=n+1;for(;++n&&!(t.charAt(n)===","||n===t.length););r.nsp=t.substring(l,n)}else r.nsp="/";const s=t.charAt(n+1);if(s!==""&&Number(s)==s){const l=n+1;for(;++n;){const o=t.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===t.length)break}r.id=Number(t.substring(l,n+1))}if(t.charAt(++n)){const l=this.tryParse(t.substr(n));if(Hu.isPayloadValid(r.type,l))r.data=l;else throw new Error("invalid payload")}return r}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,n){switch(t){case ie.CONNECT:return yf(n);case ie.DISCONNECT:return n===void 0;case ie.CONNECT_ERROR:return typeof n=="string"||yf(n);case ie.EVENT:case ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&ay.indexOf(n[0])===-1);case ie.ACK:case ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class iy{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const n=sy(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const cy=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Hu,Encoder:oy,get PacketType(){return ie},protocol:ly},Symbol.toStringTag,{value:"Module"}));function Ut(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const uy=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class cm extends Ue{constructor(t,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Ut(t,"open",this.onopen.bind(this)),Ut(t,"packet",this.onpacket.bind(this)),Ut(t,"error",this.onerror.bind(this)),Ut(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...n){var r,s,l;if(uy.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(n.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:ie.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const x=this.ids++,v=n.pop();this._registerAckCallback(x,v),o.id=x}const c=(s=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||s===void 0?void 0:s.writable,u=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!c||(u?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,n){var r;const s=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(s===void 0){this.acks[t]=n;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let c=0;c<this.sendBuffer.length;c++)this.sendBuffer[c].id===t&&this.sendBuffer.splice(c,1);n.call(this,new Error("operation has timed out"))},s),o=(...c)=>{this.io.clearTimeoutFn(l),n.apply(this,c)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...n){return new Promise((r,s)=>{const l=(o,c)=>o?s(o):r(c);l.withError=!0,n.push(l),this.emit(t,...n)})}_addToQueue(t){let n;typeof t[t.length-1]=="function"&&(n=t.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...l)=>r!==this._queue[0]?void 0:(s!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(s)):(this._queue.shift(),n&&n(null,...l)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!t||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(r=>String(r.id)===t)){const r=this.acks[t];delete this.acks[t],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case ie.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ie.EVENT:case ie.BINARY_EVENT:this.onevent(t);break;case ie.ACK:case ie.BINARY_ACK:this.onack(t);break;case ie.DISCONNECT:this.ondisconnect();break;case ie.CONNECT_ERROR:this.destroy();const r=new Error(t.data.message);r.data=t.data.data,this.emitReserved("connect_error",r);break}}onevent(t){const n=t.data||[];t.id!=null&&n.push(this.ack(t.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const n=this;let r=!1;return function(...s){r||(r=!0,n.packet({type:ie.ACK,id:t,data:s}))}}onack(t){const n=this.acks[t.id];typeof n=="function"&&(delete this.acks[t.id],n.withError&&t.data.unshift(null),n.apply(this,t.data))}onconnect(t,n){this.id=t,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(t===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,t.data)}}}function ks(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}ks.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+n:e-n}return Math.min(e,this.max)|0};ks.prototype.reset=function(){this.attempts=0};ks.prototype.setMin=function(e){this.ms=e};ks.prototype.setMax=function(e){this.max=e};ks.prototype.setJitter=function(e){this.jitter=e};class zc extends Ue{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(n=t,t=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,qo(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new ks({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=t;const s=n.parser||cy;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var n;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(n=this.backoff)===null||n===void 0||n.setMin(t),this)}randomizationFactor(t){var n;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(n=this.backoff)===null||n===void 0||n.setJitter(t),this)}reconnectionDelayMax(t){var n;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(n=this.backoff)===null||n===void 0||n.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Jv(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const s=Ut(n,"open",function(){r.onopen(),t&&t()}),l=c=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",c),t?t(c):this.maybeReconnectOnOpen()},o=Ut(n,"error",l);if(this._timeout!==!1){const c=this._timeout,u=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),n.close()},c);this.opts.autoUnref&&u.unref(),this.subs.push(()=>{this.clearTimeoutFn(u)})}return this.subs.push(s),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Ut(t,"ping",this.onping.bind(this)),Ut(t,"data",this.ondata.bind(this)),Ut(t,"error",this.onerror.bind(this)),Ut(t,"close",this.onclose.bind(this)),Ut(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(n){this.onclose("parse error",n)}}ondecoded(t){Ho(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,n){let r=this.nsps[t];return r?this._autoConnect&&!r.active&&r.connect():(r=new cm(this,t,n),this.nsps[t]=r),r}_destroy(t){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(t){const n=this.encoder.encode(t);for(let r=0;r<n.length;r++)this.engine.write(n[r],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const oa={};function eo(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const n=Yv(e,t.path||"/socket.io"),r=n.source,s=n.id,l=n.path,o=oa[s]&&l in oa[s].nsps,c=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let u;return c?u=new zc(r,t):(oa[s]||(oa[s]=new zc(r,t)),u=oa[s]),n.query&&!t.query&&(t.query=n.queryKey),u.socket(n.path,t)}Object.assign(eo,{Manager:zc,Socket:cm,io:eo,connect:eo});let Oi;function dn(){if(!Oi){const e=Zp||(typeof window<"u"?window.location.origin:"");Oi=eo(e,{path:"/socket.io",withCredentials:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3})}return Oi}async function dy(){if(typeof window<"u"&&window.JsSIP)return window.JsSIP;await new Promise((e,t)=>{const n=document.createElement("script");n.src="https://cdn.jsdelivr.net/npm/jssip@3/dist/jssip.min.js",n.async=!0,n.onload=()=>e(),n.onerror=()=>t(new Error("Falha ao carregar JsSIP via CDN")),document.head.appendChild(n)});try{window.JsSIP.debug.enable("JsSIP:*")}catch{}return window.JsSIP}async function fy({wsUrl:e,domain:t,extension:n,password:r,iceServers:s}){const l=await dy(),c={sockets:[new l.WebSocketInterface(e)],uri:`sip:${n}@${t}`,authorization_user:n,password:r,register:!0,register_expires:300,session_timers:!1},u=new l.UA(c);let h=null,x=!1;function v(m,w){u.on(m,w)}function j(){return new Promise(m=>{const w=()=>{x=!0,P(),m()},S=()=>{P(),m()};function P(){try{u.off("registered",w)}catch{}try{u.off("registrationFailed",S)}catch{}}u.on("registered",w),u.on("registrationFailed",S);try{u.start()}catch{m()}})}function E(){return x}function L(m,{onProgress:w,onAccepted:S,onEnded:P,onFailed:$,onTrack:z,audioDeviceId:I}={}){return new Promise((O,A)=>{const ce={eventHandlers:{progress:M=>{w&&w(M)},failed:M=>{h=null,$&&$(M),O(!1)},ended:M=>{h=null,P&&P(M),O(!1)},confirmed:M=>{S&&S(M),O(!0)}},mediaConstraints:{audio:I?{deviceId:{exact:I}}:!0,video:!1},pcConfig:{iceServers:s||[],iceTransportPolicy:"all"}};try{h=u.call(/^sip:/i.test(m)?m:`sip:${m}@${t}`,ce);try{h.connection.addEventListener("track",M=>{const[J]=M.streams;z&&z(J)}),h.connection.addEventListener("iceconnectionstatechange",()=>{})}catch{}}catch(M){A(M)}})}async function R(m){try{if(!h||!h.connection)return!1;const S=(await navigator.mediaDevices.getUserMedia({audio:m?{deviceId:{exact:m}}:!0})).getAudioTracks()[0];if(!S)return!1;const P=h.connection.getSenders().find($=>$.track&&$.track.kind==="audio");return P&&await P.replaceTrack(S),!0}catch{return!1}}function T(m){var w;try{(w=h==null?void 0:h.sendDTMF)==null||w.call(h,String(m||"").substring(0,1))}catch{}}function y(){try{h==null||h.terminate()}catch{}h=null}return{ua:u,start:j,isRegistered:E,call:L,hangup:y,on:v,dtmf:T,setAudioDevice:R}}let ue=null,$l=!1,ia=null,Ui=null;function ca(e){try{localStorage.setItem("sip_registered",e?"1":"0"),window.dispatchEvent(new CustomEvent("sip:reg",{detail:{registered:e}}))}catch{}}function Fi(e=3e3){Ui||(Ui=setTimeout(()=>{Ui=null;try{um().catch(()=>{})}catch{}},e))}function hy(){const e=[];try{const n=void 0,r=void 0,s=void 0}catch{}return e.length||e.push({urls:"stun:stun.l.google.com:19302"}),e}async function um(){return $l?ue:ia||(ia=(async()=>{var e;try{const t="wss://202106.maisfone.com.br:7443/ws",n=await q.get("/phone/me").catch(()=>null);if(!n||!n.hasPassword||!n.domain||!n.extension)return $l=!0,null;if(ue=await fy({wsUrl:t,domain:n.domain,extension:n.extension,password:n.password||"",iceServers:hy()}),ue!=null&&ue.on){try{ue.on("registered",()=>ca(!0))}catch{}try{ue.on("unregistered",()=>ca(!1))}catch{}try{ue.on("registrationFailed",()=>{ca(!1),Fi(5e3)})}catch{}try{ue.on("disconnected",()=>{ca(!1),Fi(3e3)})}catch{}}await ue.start(),ca(!!((e=ue==null?void 0:ue.isRegistered)!=null&&e.call(ue)));try{document.addEventListener("visibilitychange",()=>{var r,s;(r=ue==null?void 0:ue.isRegistered)!=null&&r.call(ue)||(s=ue.start)==null||s.call(ue).catch(()=>{})})}catch{}try{window.addEventListener("online",()=>{var r;(r=ue==null?void 0:ue.start)==null||r.call(ue).catch(()=>{})})}catch{}try{setInterval(()=>{var r;try{(r=ue==null?void 0:ue.ua)!=null&&r.register&&ue.ua.register()}catch{}},24e4)}catch{}return $l=!0,ue}catch{return $l=!1,Fi(5e3),null}finally{ia=null}})(),ia)}function py(){return ue}function my(){var te,he;const e=Xt(),t=Zn(),n=ds(),r=H=>{try{H?localStorage.setItem("notif_sound_url",H):localStorage.removeItem("notif_sound_url"),window.dispatchEvent(new Event("chat:alertSoundUpdated"))}catch{}},[s,l]=d.useState(0);d.useEffect(()=>{const H=()=>l(re=>re+1);return window.addEventListener("chat:userUpdated",H),()=>window.removeEventListener("chat:userUpdated",H)},[]),d.useEffect(()=>{const H=()=>{const de=localStorage.getItem("chat_wallpaper")||"";de?document.documentElement.style.setProperty("--chat-wallpaper",`url('${de}')`):document.documentElement.style.removeProperty("--chat-wallpaper")},re=de=>r(de);return H(),window.addEventListener("chat:wallpaperUpdated",H),(async()=>{try{const de=`${window.location.origin}/api`.replace(/\/$/,""),pe=await fetch(`${de}/admin/config/public`);if(!pe.ok)return;const ve=await pe.json();if(!!!localStorage.getItem("chat_wallpaper")&&(ve!=null&&ve.chatWallpaperUrl)&&document.documentElement.style.setProperty("--chat-wallpaper",`url('${ve.chatWallpaperUrl}')`),ve&&Object.prototype.hasOwnProperty.call(ve,"alertSoundUrl")&&re((ve==null?void 0:ve.alertSoundUrl)||""),ve&&Object.prototype.hasOwnProperty.call(ve,"chatIconUrl")){const rt=(ve==null?void 0:ve.chatIconUrl)||"";P(rt);try{rt?localStorage.setItem("chat_icon",rt):localStorage.removeItem("chat_icon"),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}}}catch{}})(),()=>window.removeEventListener("chat:wallpaperUpdated",H)},[]),d.useEffect(()=>{const H=dn(),re=(de={})=>{r((de==null?void 0:de.url)||"")},je=(de={})=>{const pe=(de==null?void 0:de.url)||"";P(pe);try{pe?localStorage.setItem("chat_icon",pe):localStorage.removeItem("chat_icon"),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}};return H.on("config:alert-sound",re),H.on("config:chat-icon",je),()=>{H.off("config:alert-sound",re),H.off("config:chat-icon",je)}},[]),d.useEffect(()=>{um().catch(()=>{})},[]);const o=()=>{Gp(),e("/login")},[c,u]=d.useState(!1),[h,x]=d.useState(()=>localStorage.getItem("chat_status")||"online"),v=H=>{x(H),localStorage.setItem("chat_status",H)},[j,E]=d.useState(()=>localStorage.getItem("theme")||"light"),[L,R]=d.useState(()=>localStorage.getItem("chat_bg")||"whatsapp"),[T,y]=d.useState(!1),[m,w]=d.useState(!1),[S,P]=d.useState(()=>localStorage.getItem("chat_icon")||""),$=d.useRef(null),[z,I]=d.useState(!1),[O,A]=d.useState(""),[Z,ce]=d.useState(""),M=d.useRef(null),J=d.useCallback(H=>{M.current=H},[]),oe=m?"w-16 md:w-16":"w-64 md:w-64",Le=d.useCallback(()=>{},[]);d.useEffect(()=>{const H=document.documentElement,re=document.body;j==="dark"?(H.classList.add("dark"),re.classList.add("dark")):(H.classList.remove("dark"),re.classList.remove("dark")),localStorage.setItem("theme",j)},[j]),d.useEffect(()=>{const H=document.body;try{H.setAttribute("data-chat-bg",L)}catch{}localStorage.setItem("chat_bg",L)},[L]),d.useEffect(()=>{const H=()=>P(localStorage.getItem("chat_icon")||""),re=()=>R(localStorage.getItem("chat_bg")||"whatsapp");return window.addEventListener("chat:iconUpdated",H),window.addEventListener("chat:bgUpdated",re),()=>{window.removeEventListener("chat:iconUpdated",H),window.removeEventListener("chat:bgUpdated",re)}},[]),d.useEffect(()=>{var je;const H=dn(),re=(je=ds())==null?void 0:je.id;if(re)try{H.emit("presence:online",{userId:re,status:h})}catch{}},[n==null?void 0:n.id]),d.useEffect(()=>{var je;const H=dn();if((je=ds())!=null&&je.id)try{H.emit("presence:set",{status:h})}catch{}},[h]),d.useEffect(()=>{if(!c)return;const H=re=>{const je=M.current;je&&(je.contains(re.target)||u(!1))};return document.addEventListener("mousedown",H),document.addEventListener("touchstart",H),()=>{document.removeEventListener("mousedown",H),document.removeEventListener("touchstart",H)}},[c]);const yt=async H=>{var je,de;const re=(je=H.target.files)==null?void 0:je[0];if(re){if(!((de=re.type)!=null&&de.startsWith("image/"))){ce("Escolha um arquivo de imagem"),H.target.value="";return}A(""),ce(""),I(!0);try{const pe=new FormData;pe.append("avatar",re);const ve=await q.uploadPatch("/users/me",pe),qe=(ve==null?void 0:ve.user)||ve;if(qe!=null&&qe.avatarUrl){try{const rt=localStorage.getItem("chat_auth");if(rt){const en=JSON.parse(rt);en.user={...en.user||{},avatarUrl:qe.avatarUrl},localStorage.setItem("chat_auth",JSON.stringify(en))}}catch{}window.dispatchEvent(new Event("chat:userUpdated")),A("Foto atualizada com sucesso")}else A("Foto atualizada");u(!1)}catch(pe){ce((pe==null?void 0:pe.message)||"Falha ao enviar foto")}finally{I(!1),H.target.value=""}}},V=()=>{var H;ce(""),A(""),(H=$.current)==null||H.click()},D=H=>a.jsxs("div",{className:`${H} w-64 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded shadow-lg p-3 z-50`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Preferencias"}),a.jsx("button",{type:"button",onClick:()=>u(!1),className:"inline-flex w-6 h-6 items-center justify-center rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Fechar menu",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:a.jsx("path",{d:"m6.225 4.811 13.964 13.964-1.061 1.06L5.164 5.871l1.061-1.06Zm11.55 0 1.06 1.06L4.87 19.386l-1.06-1.06L17.776 4.81Z"})})})]}),a.jsx("div",{className:"mt-3 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Status"}),a.jsxs("div",{className:"flex flex-wrap gap-2 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>v("online"),className:`px-2 py-1 rounded text-sm ${h==="online"?"bg-green-100 text-green-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Online"}),a.jsx("button",{onClick:()=>v("ausente"),className:`px-2 py-1 rounded text-sm ${h==="ausente"?"bg-yellow-100 text-yellow-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Ausente"}),a.jsx("button",{onClick:()=>v("offline"),className:`px-2 py-1 rounded text-sm ${h==="offline"?"bg-slate-100 text-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Offline"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Tema"}),a.jsxs("div",{className:"flex gap-2 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>E("light"),className:`px-2 py-1 rounded text-sm ${j==="light"?"bg-slate-100 text-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Claro"}),a.jsx("button",{onClick:()=>E("dark"),className:`px-2 py-1 rounded text-sm ${j==="dark"?"bg-slate-700 text-white":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Escuro"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Foto"}),a.jsxs("button",{type:"button",onClick:()=>{u(!1),V()},className:"w-full inline-flex items-center justify-center gap-2 px-2 py-1.5 rounded border border-slate-300 dark:border-slate-600 text-sm hover:bg-slate-50 dark:hover:bg-slate-700/60 disabled:opacity-50",disabled:z,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:a.jsx("path",{d:"M9 3.75A.75.75 0 0 1 9.75 3h4.5a.75.75 0 0 1 .707.493l.401 1.12h2.192A1.95 1.95 0 0 1 19.5 6.563l.75 2.25A2.25 2.25 0 0 1 21 9.75v7.5A3.75 3.75 0 0 1 17.25 21h-10.5A3.75 3.75 0 0 1 3 17.25v-7.5a2.25 2.25 0 0 1 .75-1.688l.75-2.25A1.95 1.95 0 0 1 6.45 4.5h2.192l.401-1.12A.75.75 0 0 1 9 3.75ZM12 8.25a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Zm0 1.5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Z"})}),a.jsx("span",{children:z?"Enviando...":"Alterar foto"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsxs("div",{className:"flex flex-col gap-1 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>{u(!1),e("/")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Ir para Chat"}),(n==null?void 0:n.isAdmin)&&a.jsx("button",{onClick:()=>{u(!1),e("/admin")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Ir para Admin"}),a.jsx("button",{onClick:()=>{u(!1),e("/profile")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Editar perfil"}),a.jsx("button",{onClick:()=>{u(!1),o()},className:"px-2 py-1.5 text-sm text-red-600 rounded hover:bg-red-50 dark:hover:bg-red-900/30 text-left",children:"Sair"})]})]}),Y=H=>t.pathname===H?"text-blue-600 font-semibold":"text-slate-700 hover:text-blue-600";return a.jsxs("div",{className:"flex h-screen overflow-x-hidden bg-slate-50 dark:bg-slate-900 dark:text-slate-100",children:[a.jsx("button",{type:"button",className:"md:hidden fixed top-3 left-3 z-40 inline-flex items-center justify-center w-10 h-10 rounded-md bg-white/90 dark:bg-slate-800/90 border border-slate-200 dark:border-slate-700 shadow","aria-label":"Abrir menu",onClick:()=>y(!0),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:a.jsx("path",{d:"M3.75 6.75h16.5v1.5H3.75v-1.5Zm0 4.5h16.5v1.5H3.75v-1.5Zm0 4.5h16.5v1.5H3.75v-1.5Z"})})}),T&&a.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 md:hidden",onClick:()=>y(!1)}),a.jsxs("aside",{className:`fixed md:static inset-y-0 left-0 ${oe} border-r border-slate-200 dark:border-slate-700 p-4 bg-white dark:bg-slate-800 flex flex-col z-40 transform transition-transform duration-200 ${T?"translate-x-0":"-translate-x-full md:translate-x-0"}`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[m?S?a.jsx("img",{src:S,alt:"cone do chat",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-slate-700 dark:text-slate-200",children:a.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z",fill:"currentColor"})}):a.jsxs("div",{className:"flex items-center gap-2",children:[S&&a.jsx("img",{src:S,alt:"cone",className:"w-6 h-6 rounded object-cover"}),a.jsx("h3",{className:"font-semibold text-xl",children:"Chat Farmacon"})]}),a.jsxs("div",{className:"relative group hidden",children:[a.jsx("button",{type:"button",className:"inline-flex w-8 h-8 items-center justify-center rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700/60",title:m?"Expandir":"Recolher",onClick:()=>{const H=!m;w(H);try{localStorage.setItem("sidebar_mini",H?"1":"0")}catch{}},children:m?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M4.5 12h15v1.5h-15V12Zm0-4.5h9V9h-9V7.5Zm0 9h9V18h-9v-1.5Z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M9 6h10v1.5H9V6Zm0 10.5h10V18H9v-1.5ZM9 11.25h10v1.5H9v-1.5ZM5 6h2v12H5V6Z"})})}),a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:m?"Expandir":"Recolher"})]})]}),!m&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Ol, ",n==null?void 0:n.name]}),a.jsxs("nav",{className:"mt-4 flex flex-col gap-2",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs(fr,{title:"Conversas",className:`px-2 py-2 rounded flex items-center gap-2 ${Y("/conversas")}`,to:"/conversas",onClick:Le,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z"})}),!m&&a.jsx("span",{children:"Conversas"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Conversas"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs(fr,{title:"Telefonia",className:`px-2 py-2 rounded flex items-center gap-2 ${Y("/telefonia")}`,to:"/telefonia",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.25 6.75c0-1.24 1.01-2.25 2.25-2.25h3c.97 0 1.8.62 2.1 1.54l.86 2.58a2.25 2.25 0 0 1-.57 2.31l-1.21 1.21a12.06 12.06 0 0 0 4.88 4.88l1.21-1.21a2.25 2.25 0 0 1 2.31-.57l2.58.86c.92.3 1.54 1.13 1.54 2.1v3c0 1.24-1.01 2.25-2.25 2.25H18c-8.28 0-15-6.72-15-15v-3Z"})}),!m&&a.jsx("span",{children:"Telefonia"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Telefonia"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs(fr,{title:"Reunies",className:`px-2 py-2 rounded flex items-center gap-2 ${Y("/reunioes")}`,to:"/reunioes",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M6.75 2a.75.75 0 0 1 .75.75V4h9V2.75a.75.75 0 0 1 1.5 0V4h.75A2.25 2.25 0 0 1 21 6.25v11A2.25 2.25 0 0 1 18.75 19.5H5.25A2.25 2.25 0 0 1 3 17.25v-11A2.25 2.25 0 0 1 5.25 4H6V2.75a.75.75 0 0 1 .75-.75Zm12 6H5.25a.75.75 0 0 0-.75.75V9h15V8.75a.75.75 0 0 0-.75-.75ZM19.5 10.5h-15V17.25c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75V10.5Zm-9.75 2.25a.75.75 0 0 1 .102 1.493L9.75 14.25h-2.5a.75.75 0 0 1-.102-1.493l.102-.007h2.5Zm6 0a.75.75 0 0 1 .102 1.493l-.102.007h-3.5a.75.75 0 0 1-.102-1.493l.102-.007h3.5Z"})}),!m&&a.jsx("span",{children:"Reunies"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Reunies"})]}),(n==null?void 0:n.isAdmin)&&a.jsxs("div",{className:"relative group",children:[a.jsxs(fr,{title:"Admin",className:`px-2 py-2 rounded flex items-center gap-2 ${Y("/admin")}`,to:"/admin",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 2.25 3.75 6v5.25c0 5.108 3.66 9.837 8.625 10.5 4.965-.663 8.625-5.392 8.625-10.5V6L12 2.25Zm0 5.25a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm0 12a7.5 7.5 0 0 1-6-3.09c.03-1.982 4.5-3.06 6-3.06s5.97 1.078 6 3.06A7.5 7.5 0 0 1 12 19.5Z"})}),!m&&a.jsx("span",{children:"Admin"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Admin"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs(fr,{title:"Contatos",className:`px-2 py-2 rounded flex items-center gap-2 ${Y("/contatos")}`,to:"/contatos",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M5.25 3A2.25 2.25 0 0 0 3 5.25v13.5A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V5.25A2.25 2.25 0 0 0 18.75 3H5.25Zm6.75 4.5a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm0 6c2.209 0 4.5 1.122 4.5 2.5V17H7.5v-1c0-1.378 2.291-2.5 4.5-2.5Z"})}),!m&&a.jsx("span",{children:"Contatos"})]}),m&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Contatos"})]})]}),a.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("input",{ref:$,type:"file",accept:"image/*",className:"hidden",onChange:yt}),m?a.jsxs("div",{ref:J,className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>u(H=>!H),className:"relative inline-flex items-center justify-center w-10 h-10 rounded-full border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 hover:ring-2 hover:ring-blue-500/30","aria-label":"Abrir menu do perfil",children:[a.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:n!=null&&n.avatarUrl?a.jsx("img",{src:n.avatarUrl,alt:"avatar",className:"w-full h-full object-cover",onError:H=>{H.currentTarget.style.display="none"}}):a.jsx("div",{className:"w-full h-full bg-slate-300"})}),a.jsx("span",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white dark:border-slate-800 ${h==="online"?"bg-green-500":h==="ausente"?"bg-yellow-500":"bg-slate-400"}`})]}),c&&D("fixed top-4 left-20")]}),z&&a.jsx("span",{className:"text-[10px] text-slate-500",children:"Enviando..."}),O&&a.jsx("span",{className:"text-[10px] text-green-600 text-center max-w-[64px]",children:O}),Z&&a.jsx("span",{className:"text-[10px] text-red-600 text-center max-w-[64px]",children:Z})]}):a.jsxs("div",{className:"relative",children:[a.jsxs("button",{ref:J,type:"button",onClick:()=>u(H=>!H),className:"w-full inline-flex items-center gap-3 rounded border border-slate-300 dark:border-slate-600 px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left","aria-expanded":c,children:[a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"w-12 h-12 rounded-full border border-slate-300 dark:border-slate-600 overflow-hidden bg-slate-200 block",children:n!=null&&n.avatarUrl?a.jsx("img",{src:n.avatarUrl,alt:"avatar",className:"w-full h-full object-cover",onError:H=>{H.currentTarget.style.display="none"}}):a.jsx("span",{className:"w-full h-full flex items-center justify-center text-sm text-slate-500",children:((he=(te=n==null?void 0:n.name)==null?void 0:te.slice(0,2))==null?void 0:he.toUpperCase())||"ME"})}),a.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white dark:border-slate-800 ${h==="online"?"bg-green-500":h==="ausente"?"bg-yellow-500":h==="ocupado"?"bg-red-500":"bg-slate-400"}`})]}),a.jsxs("span",{className:"flex-1 min-w-0 text-left",children:[a.jsx("span",{className:"block font-semibold text-sm truncate",children:(n==null?void 0:n.name)||"Meu perfil"}),a.jsxs("span",{className:"block text-xs text-slate-500 capitalize truncate",children:["Status: ",h]})]}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-4 h-4 transition-transform ${c?"rotate-180":""}`,children:a.jsx("path",{d:"M12 15.75a.75.75 0 0 1-.53-.22l-4.5-4.5a.75.75 0 1 1 1.06-1.06L12 13.94l3.97-3.97a.75.75 0 0 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-.53.22Z"})})]}),c&&D("absolute right-0 bottom-full mb-2")]})]})]}),a.jsx("main",{className:"flex-1 overflow-hidden",children:a.jsx(nv,{})})]})}function gy(){const e=Xt(),t=Zn(),[n,r]=d.useState(""),[s,l]=d.useState(""),[o,c]=d.useState(!1),[u,h]=d.useState(!1),[x,v]=d.useState(""),[j,E]=d.useState(!1),[L,R]=d.useState("");d.useEffect(()=>{try{const y=localStorage.getItem("theme")||(matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.classList.toggle("dark",y==="dark");const m=localStorage.getItem("rememberedEmail");m&&(r(m),c(!0))}catch{}},[]),d.useEffect(()=>{try{new URLSearchParams((t==null?void 0:t.search)||"").get("registered")==="1"?v("Conta criada com sucesso! Faa login com suas credenciais."):v("")}catch{v("")}},[t]);async function T(y){y.preventDefault(),E(!0),v(""),R("");try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(n))throw new Error("Informe um e-mail vlido");if(!s||s.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const w=await q.post("/auth/login",{email:n,password:s});Kp(w.token,w.user);try{o?localStorage.setItem("rememberedEmail",n):localStorage.removeItem("rememberedEmail")}catch{}e("/")}catch(m){R(m.message||"Falha no login")}finally{E(!1)}}return a.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"absolute -top-32 -left-24 h-72 w-72 rounded-full bg-emerald-500/30 blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-8rem] right-[-6rem] h-96 w-96 rounded-full bg-blue-500/25 blur-3xl"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(56,189,248,0.18),transparent_55%)]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(15,23,42,0.6),rgba(15,23,42,0.9))]"})]}),a.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"grid w-full max-w-5xl gap-12 rounded-[2.5rem] border border-white/5 bg-white/5 p-8 shadow-[0_20px_70px_-30px_rgba(15,23,42,0.9)] backdrop-blur-lg lg:grid-cols-[1.1fr_1fr] lg:p-12",children:[a.jsxs("div",{className:"hidden flex-col justify-between lg:flex",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 w-fit rounded-full border border-white/10 bg-white/5 px-4 py-1 text-sm text-slate-200",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Plataforma omnichannel Farmachat"]}),a.jsx("h1",{className:"text-4xl font-semibold leading-tight text-white",children:"Conecte sua equipe e Participe de Grupos"}),a.jsx("p",{className:"text-lg text-slate-300",children:"Nosso chat interno conecta toda a equipe em tempo real, facilitando a troca de ideias e decises rpidas. Comunicao simples, gil e segura para aumentar a produtividade e fortalecer a colaborao."})]}),a.jsxs("div",{className:"mt-10 flex flex-col gap-4 text-sm text-slate-200/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/15 text-emerald-300",children:"01"}),"Respostas rpidas e consistentes em todos os atendimentos."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-200",children:"02"}),"Monitoramento em tempo real e histrico completo das conversas."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-500/20 text-blue-200",children:"03"}),"Segurana e privacidade alinhadas s melhores prticas do mercado."]})]})]}),a.jsxs("form",{onSubmit:T,className:"relative flex flex-col gap-6 rounded-3xl border border-white/10 bg-white/90 p-8 text-slate-900 shadow-2xl backdrop-blur dark:bg-slate-900/85 dark:text-slate-100",noValidate:!0,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/images/logo.png",alt:"Farmachat",className:"h-10 w-auto",draggable:!1}),a.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-300"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-3xl font-semibold text-slate-900 dark:text-white",children:"Bem-vindo de volta"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Acesse sua conta para continuar acompanhando suas conversas."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"E-mail"}),a.jsx("input",{id:"email",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-emerald-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"voce@empresa.com",type:"email",autoComplete:"email",autoFocus:!0,required:!0,value:n,onChange:y=>r(y.target.value)})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-emerald-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Insira sua senha",type:u?"text":"password",autoComplete:"current-password",minLength:6,required:!0,value:s,onChange:y=>l(y.target.value)}),a.jsx("button",{type:"button",onClick:()=>h(y=>!y),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center gap-2 rounded-lg border border-transparent px-3 text-xs font-medium text-emerald-600 transition hover:border-emerald-200 hover:bg-emerald-50 hover:text-emerald-700 dark:text-emerald-300 dark:hover:border-emerald-500/50 dark:hover:bg-emerald-500/10",children:u?"Ocultar":"Mostrar"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[a.jsx("input",{type:"checkbox",checked:o,onChange:y=>c(y.target.checked),className:"h-4 w-4 rounded border-slate-300 text-emerald-500 focus:ring-emerald-400 dark:border-slate-600"}),"Lembrar de mim"]}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Esqueceu seus dados? Fale com o administrador."})]}),x&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-emerald-300/60 bg-emerald-50 px-3 py-2 text-sm text-emerald-700 dark:border-emerald-500/40 dark:bg-emerald-500/10 dark:text-emerald-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:x})]}),L&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-300/60 bg-red-50/80 px-3 py-2 text-sm text-red-600 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:L})]}),a.jsx("button",{type:"submit",disabled:j,className:"inline-flex h-12 items-center justify-center rounded-2xl bg-gradient-to-r from-emerald-500 via-cyan-500 to-blue-500 px-6 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:shadow-2xl hover:shadow-emerald-500/40 disabled:opacity-60 disabled:shadow-none",children:j?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-300",children:["No tem conta?"," ",a.jsx(fr,{className:"font-medium text-emerald-600 transition hover:text-emerald-500 dark:text-emerald-300 dark:hover:text-emerald-200",to:"/register",children:"Criar cadastro"})]}),a.jsx("p",{className:"text-center text-[11px] text-slate-400 dark:text-slate-500",children:"Ao continuar voc concorda com os termos de uso e poltica de privacidade da Farmachat."})]})]})})]})}function xy(){const e=Xt(),[t,n]=d.useState(""),[r,s]=d.useState(""),[l,o]=d.useState(""),[c,u]=d.useState(""),[h,x]=d.useState(!0),[v,j]=d.useState(!1),[E,L]=d.useState(!1),[R,T]=d.useState(!1),[y,m]=d.useState(null),[w,S]=d.useState(""),[P,$]=d.useState("");d.useEffect(()=>()=>{w&&URL.revokeObjectURL(w)},[w]);async function z(O){if(O.preventDefault(),!h){$("Confirme que leu e aceita os termos de uso.");return}if($(""),l!==c){$("As senhas no conferem.");return}T(!0);try{const A=new FormData;A.append("name",t.trim()),A.append("email",r.trim()),A.append("password",l),y&&A.append("avatar",y),await xv.upload("/auth/register",A),e("/login?registered=1")}catch(A){$(A.message||"Falha no cadastro. Tente novamente.")}finally{T(!1)}}function I(O){var Z;const A=((Z=O.target.files)==null?void 0:Z[0])||null;m(A),w&&URL.revokeObjectURL(w),S(A?URL.createObjectURL(A):"")}return a.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"absolute -top-28 -left-36 h-80 w-80 rounded-full bg-cyan-400/25 blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-7rem] right-[-6rem] h-96 w-96 rounded-full bg-emerald-500/25 blur-3xl"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(14,165,233,0.18),transparent_60%)]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(15,23,42,0.65),rgba(15,23,42,0.92))]"})]}),a.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"grid w-full max-w-5xl gap-10 rounded-[2.5rem] border border-white/5 bg-white/5 p-8 shadow-[0_22px_80px_-28px_rgba(14,116,144,0.8)] backdrop-blur-lg lg:grid-cols-[1.05fr_1fr] lg:p-12",children:[a.jsxs("div",{className:"hidden flex-col justify-between lg:flex",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("span",{className:"inline-flex w-fit items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-1 text-sm text-slate-200",children:[a.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Crie sua conta em minutos"]}),a.jsx("h1",{className:"text-4xl font-semibold leading-tight text-white",children:"Personalize seu atendimento com o poder do Farmachat"}),a.jsx("p",{className:"text-lg text-slate-300",children:"Gesto de equipes, dashboards inteligentes e integraes prontas para canais que o seu cliente ama usar."})]}),a.jsxs("ul",{className:"mt-10 space-y-4 text-sm text-slate-200/80",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-200",children:""}),"Fluxos automticos e organizao de filas de atendimento."]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-200",children:""}),"Biblioteca de templates, etiquetas e respostas salvas."]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500/20 text-blue-200",children:""}),"Times ilimitados, usurios convidados e permisses customizadas."]})]})]}),a.jsxs("form",{onSubmit:z,className:"relative flex flex-col gap-5 rounded-3xl border border-white/10 bg-white/90 p-8 text-slate-900 shadow-2xl backdrop-blur dark:bg-slate-900/85 dark:text-slate-100",noValidate:!0,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/images/logo.png",alt:"Farmachat",className:"h-10 w-auto",draggable:!1}),a.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-300",children:"Novo portal de atendimento"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-3xl font-semibold text-slate-900 dark:text-white",children:"Criar conta"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Preencha os dados abaixo para ativar seu espao de trabalho."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Nome completo"}),a.jsx("input",{id:"name",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Como devemos te chamar?",value:t,onChange:O=>n(O.target.value),required:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"E-mail corporativo"}),a.jsx("input",{id:"email",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"voce@empresa.com",type:"email",autoComplete:"email",value:r,onChange:O=>s(O.target.value),required:!0})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Crie uma senha",type:v?"text":"password",minLength:8,value:l,onChange:O=>o(O.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>j(O=>!O),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center rounded-lg border border-transparent px-3 text-xs font-medium text-cyan-600 transition hover:border-cyan-200 hover:bg-cyan-50 hover:text-cyan-700 dark:text-cyan-200 dark:hover:border-cyan-400/50 dark:hover:bg-cyan-500/10",children:v?"Ocultar":"Mostrar"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"confirm",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Confirmar senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"confirm",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Repita a senha",type:E?"text":"password",minLength:8,value:c,onChange:O=>u(O.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>L(O=>!O),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center rounded-lg border border-transparent px-3 text-xs font-medium text-cyan-600 transition hover:border-cyan-200 hover:bg-cyan-50 hover:text-cyan-700 dark:text-cyan-200 dark:hover:border-cyan-400/50 dark:hover:bg-cyan-500/10",children:E?"Ocultar":"Mostrar"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Foto de perfil (opcional)"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"relative h-16 w-16 overflow-hidden rounded-full border border-slate-200 bg-slate-100 dark:border-slate-700 dark:bg-slate-800",children:w?a.jsx("img",{src:w,alt:"Pr-visualizao do avatar",className:"h-full w-full object-cover"}):a.jsx("div",{className:"grid h-full w-full place-items-center text-xs text-slate-400 dark:text-slate-500",children:"sem foto"})}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3 rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-cyan-200 hover:text-cyan-600 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:border-cyan-500/60 dark:hover:text-cyan-300",children:[a.jsx("span",{children:"Carregar imagem"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:I})]})]})]}),a.jsxs("label",{className:"mt-1 inline-flex items-start gap-3 text-xs text-slate-500 dark:text-slate-300",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:O=>x(O.target.checked),className:"mt-1 h-4 w-4 rounded border-slate-300 text-cyan-500 focus:ring-cyan-400 dark:border-slate-600"}),a.jsx("span",{children:"Li e concordo com os termos de uso, poltica de privacidade e boas prticas da Farmachat."})]}),P&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-300/60 bg-red-50/80 px-3 py-2 text-sm text-red-600 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:P})]}),a.jsx("button",{type:"submit",disabled:R,className:"inline-flex h-12 items-center justify-center rounded-2xl bg-gradient-to-r from-cyan-500 via-emerald-500 to-blue-500 px-6 text-sm font-semibold text-white shadow-lg shadow-cyan-500/25 transition hover:shadow-2xl hover:shadow-cyan-500/35 disabled:opacity-60 disabled:shadow-none",children:R?"Cadastrando...":"Criar minha conta"}),a.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-300",children:["J possui conta?"," ",a.jsx(fr,{className:"font-medium text-cyan-600 transition hover:text-cyan-500 dark:text-cyan-300 dark:hover:text-cyan-200",to:"/login",children:"Entrar"})]}),a.jsx("p",{className:"text-center text-[11px] text-slate-400 dark:text-slate-500",children:"Suporte 24/7 e implementao assistida inclusos para novos clientes."})]})]})})]})}function vy({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"})})}function yy({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}function wy({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}function wf({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function by({className:e="w-5 h-5"}){return a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("circle",{cx:"5",cy:"12",r:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"2"}),a.jsx("circle",{cx:"19",cy:"12",r:"2"})]})}function jy({className:e="w-5 h-5"}){return a.jsx("span",{className:e,role:"img","aria-label":"emoji",children:""})}function bf({className:e="w-4 h-4",filled:t=!1}){return t?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:a.jsx("path",{d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l1.63 3.918 4.254.372c1.164.102 1.636 1.545.749 2.32l-3.244 2.76 1.003 4.135c.274 1.127-.964 1.997-1.96 1.4L12 15.64 8.356 18.116c-.996.598-2.234-.273-1.96-1.4l1.003-4.135-3.244-2.76c-.887-.775-.415-2.218.749-2.32l4.254-.372 1.63-3.918z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:a.jsx("path",{d:"M11.48 3.499a.562.562 0 011.04 0l1.4 3.36a.562.562 0 00.46.345l3.633.314a.562.562 0 01.32.98l-2.77 2.357a.562.562 0 00-.182.536l.82 3.493a.562.562 0 01-.84.61l-3.1-1.87a.562.562 0 00-.586 0l-3.1 1.87a.562.562 0 01-.84-.61l.82-3.493a.562.562 0 00-.182-.536l-2.77-2.357a.562.562 0 01.32-.98l3.633-.314a.562.562 0 00.46-.345l1.4-3.36z"})})}const Ny="BLX4iWgrhNgMUBR7yYLSu_LLHgE0ZbrFlrY9UBd3hGAfXc6SrOTcsVf2tdI1hJEzcXG3cg8NFIkNmvDXIK8sKm0",jf={attached:!1};function ky(e){const t="=".repeat((4-e.length%4)%4),n=(e+t).replace(/-/g,"+").replace(/_/g,"/"),r=atob(n),s=new Uint8Array(r.length);for(let l=0;l<r.length;l+=1)s[l]=r.charCodeAt(l);return s}async function Sy(){try{const{key:e}=await q.get("/push/vapid-public-key");if(e)return e}catch{}return Ny}async function dm(e){if(!e)return null;try{await q.post("/push/subscribe",{subscription:e})}catch(t){console.error("Falha ao registrar subscription no servidor",t)}return e}function Ey(){if(!(jf.attached||typeof navigator>"u"||!navigator.serviceWorker))try{navigator.serviceWorker.addEventListener("message",async e=>{var t;if(((t=e==null?void 0:e.data)==null?void 0:t.type)==="push:subscription")try{await dm(e.data.subscription)}catch{}}),jf.attached=!0}catch{}}async function Cy(){if(typeof window>"u"||!("serviceWorker"in navigator)||!("PushManager"in window))return null;Ey();const e=await navigator.serviceWorker.ready;let t=await e.pushManager.getSubscription();if(!t){const n=await Sy(),r=ky(n);t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:r})}return await dm(t),t}function cr(e){return Array.isArray(e)?e:[]}function fm(){var Zu;const[e,t]=d.useState([]),[n,r]=d.useState([]),[s,l]=d.useState([]),[o,c]=d.useState(null),[u,h]=d.useState([]),[x,v]=d.useState(""),[j,E]=d.useState([]),[L,R]=d.useState(""),[T,y]=d.useState(null),[m,w]=d.useState(!1),[S,P]=d.useState(""),[$,z]=d.useState(0),[I,O]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("chat_pins")||"{}")}catch{return{}}}),[A,Z]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("chat_mutes")||"{}")}catch{return{}}});function ce(i){O(p=>{const g={...p||{}};g[i]=!g[i];try{localStorage.setItem("chat_pins",JSON.stringify(g))}catch{}return g})}function M(i){Z(p=>{const g={...p||{}};g[i]=!g[i];try{localStorage.setItem("chat_mutes",JSON.stringify(g))}catch{}return g})}const[J,oe]=d.useState(null),Le=d.useRef(null),yt=d.useCallback(i=>{Le.current=i},[]),[V,D]=d.useState(null),[Y,te]=d.useState(""),[he,H]=d.useState(""),[re,je]=d.useState(""),[de,pe]=d.useState(!1),ve=d.useRef(null),[qe,rt]=d.useState({left:4,bottom:120,width:360,maxHeight:416}),en=d.useRef(null);function Ka(){try{const i=ve.current,p=en.current,g=typeof window<"u"?window.innerWidth:800,N=typeof window<"u"?window.innerHeight:600,_=4,k=4,B=Math.min(26*16,N-_*2),C=ae=>ae&&ae.getBoundingClientRect?ae.getBoundingClientRect():null,W=C(p),ee=C(i);if(W||ee){const ae=W?Math.min(420,Math.max(320,W.width||420)):Math.min(420,Math.max(320,g*.95)),De=Math.min(ae,g-_*2),Ye=W?W.left:ee?ee.left:_,Ae=_,xe=W?W.top:ee?ee.top:N/2,ke=Math.max(_,N-xe+k);rt({left:Ae,bottom:ke,width:De,maxHeight:B})}else rt({left:_,bottom:120,width:Math.min(420,Math.max(320,g*.95)),maxHeight:B})}catch{}pe(!0)}const[se,wt]=d.useState({open:!1,type:null,id:null,groupId:null,x:0,y:0}),wn=d.useRef(null),bn={recent:[],caras:["","","","","","","","","","","","","","","","","","","","","","","",""],gestos:["","","","","","","","","","","","","","","",""],amor:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],animais:["","","","","","","","","","","","","","","",""],comida:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],objetos:["","","","","","","","","","","","","","",""],transportes:["","","","","","","","","",""],clima:["","","","","","","","","","","","","","","","","","","",""],natureza:["","","","","","","","","","","","","","","","","","","","",""]},Ga=[{key:"recent",label:"Recentes",icon:""},{key:"favoritos",label:"Favoritos",icon:""},{key:"caras",label:"Caras",icon:""},{key:"gestos",label:"Gestos",icon:""},{key:"amor",label:"Amor",icon:""},{key:"natureza",label:"Natureza",icon:""},{key:"clima",label:"Clima",icon:""},{key:"animais",label:"Animais",icon:""},{key:"comida",label:"Comida",icon:""},{key:"objetos",label:"Objetos",icon:""},{key:"transportes",label:"Transp.",icon:""}];qc.useMemo(()=>{try{const i=Object.keys(bn).filter(N=>N!=="recent"&&N!=="bandeiras"),p=[];i.forEach(N=>{(bn[N]||[]).forEach(_=>p.push(_))});const g=new Set;return p.filter(N=>g.has(N)?!1:(g.add(N),!0))}catch{return[]}},[]);const[Jn,Sr]=d.useState("caras"),[Er,G]=d.useState(()=>{try{const i=localStorage.getItem("chat_recent_emojis"),p=i?JSON.parse(i):[];return Array.isArray(p)?p.slice(0,24):[]}catch{return[]}}),[Cr,Yn]=d.useState(""),[bt,_r]=d.useState(()=>{try{const i=localStorage.getItem("chat_fav_emojis"),p=i?JSON.parse(i):[];return Array.isArray(p)?p.slice(0,48):[]}catch{return[]}});function Rr(i){try{_r(p=>{const N=(p||[]).includes(i)?(p||[]).filter(_=>_!==i):[i,...(p||[]).filter(_=>_!==i)].slice(0,48);try{localStorage.setItem("chat_fav_emojis",JSON.stringify(N))}catch{}return N})}catch{}}const Pr=d.useRef(null),ut=d.useRef({}),Lr=i=>p=>{p&&(ut.current[i]=p)},Ss=["recent","favoritos","caras","gestos","amor","natureza","clima","animais","comida","objetos","transportes"];d.useEffect(()=>{if(!de)return;const i=Pr.current;if(!i)return;let p=!1;const g=()=>{p||(p=!0,requestAnimationFrame(()=>{try{let N=Jn;for(const _ of Ss){const k=ut.current[_];if(!k)continue;k.offsetTop-i.scrollTop<=32&&(N=_)}N&&N!==Jn&&Sr(N)}finally{p=!1}}))};return i.addEventListener("scroll",g,{passive:!0}),()=>i.removeEventListener("scroll",g)},[de,Cr,Jn]);const Xn=d.useRef(null),tn=d.useRef(null),nn=d.useRef(null),Ar=d.useRef(null),Ir=d.useRef(null),er=d.useRef(null),tr=d.useRef(null),X=ds(),Za=Xt(),[Tr,jn]=d.useState(null),[jt,Ja]=d.useState(""),Or=d.useRef([]),[nr,Nn]=d.useState(!1),Es=d.useRef(null);d.useEffect(()=>{Or.current=j},[j]),d.useEffect(()=>()=>{Or.current.forEach(i=>{if(i!=null&&i.preview)try{URL.revokeObjectURL(i.preview)}catch{}})},[]);function Ya(i){var p;return{id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,file:i,preview:(p=i==null?void 0:i.type)!=null&&p.startsWith("image/")?URL.createObjectURL(i):null}}function Cs(i=[]){if(!i.length)return;const p=i.map(g=>Ya(g));E(g=>[...g,...p])}function Ur(i){E(p=>{const g=p.find(N=>N.id===i);if(g!=null&&g.preview)try{URL.revokeObjectURL(g.preview)}catch{}return p.filter(N=>N.id!==i)})}function Qo(){Or.current.forEach(i=>{if(i!=null&&i.preview)try{URL.revokeObjectURL(i.preview)}catch{}}),E([]);try{tn.current&&(tn.current.value="")}catch{}}async function Ko(i,p="arquivo"){try{const g=await fetch(i,{mode:"cors",credentials:"omit"});if(!g.ok)throw new Error("Falha ao baixar arquivo");const N=await g.blob(),_=URL.createObjectURL(N),k=document.createElement("a");k.href=_,k.download=p,document.body.appendChild(k),k.click(),k.remove(),URL.revokeObjectURL(_)}catch(g){R((g==null?void 0:g.message)||"No foi possvel baixar o arquivo");try{window.open(i,"_blank","noopener,noreferrer")}catch{}}}d.useEffect(()=>{if(!J)return;const i=p=>{const g=Le.current;if(!g){oe(null);return}g.contains(p.target)||oe(null)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i)}},[J]),d.useEffect(()=>{if(!(se!=null&&se.open))return;const i=g=>{const N=wn.current;if(!N){wt(_=>({..._,open:!1}));return}N.contains(g.target)||wt(_=>({..._,open:!1}))},p=g=>{g.key==="Escape"&&wt(N=>({...N,open:!1}))};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),document.addEventListener("keydown",p),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i),document.removeEventListener("keydown",p)}},[se==null?void 0:se.open]),d.useEffect(()=>{if(!nr)return;const i=g=>{const N=Es.current;if(!N){Nn(!1);return}N.contains(g.target)||Nn(!1)},p=g=>{g.key==="Escape"&&Nn(!1)};return document.addEventListener("mousedown",i),document.addEventListener("touchstart",i),document.addEventListener("keydown",p),()=>{document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i),document.removeEventListener("keydown",p)}},[nr]);const rr=typeof window<"u"&&"Notification"in window,Go=(()=>{if(!rr)return"default";try{return Notification.permission}catch{return"default"}})(),[_s,Xa]=d.useState(Go==="granted"),el=d.useRef(typeof document<"u"?document.title:"Chat"),Fr=d.useRef(null),rn=d.useRef({url:"",buffer:null}),[tl,nl]=d.useState(()=>{try{return!document.hidden&&document.hasFocus()}catch{return!0}}),Zo=!0,[rl,Rs]=d.useState("");d.useEffect(()=>{const i=()=>{try{nl(!document.hidden&&document.hasFocus())}catch{nl(!0)}};return i(),window.addEventListener("focus",i),window.addEventListener("blur",i),document.addEventListener("visibilitychange",i),()=>{window.removeEventListener("focus",i),window.removeEventListener("blur",i),document.removeEventListener("visibilitychange",i)}},[]),d.useEffect(()=>{if(!rr||!_s)return;let i=!1;return(async()=>{try{await Cy(),i||Rs("")}catch(p){i||Rs((p==null?void 0:p.message)||"Falha ao registrar push")}})(),()=>{i=!0}},[rr,_s]),d.useEffect(()=>{const i=()=>{try{const p=localStorage.getItem("notif_sound_url")||"";p?rn.current.url!==p&&(rn.current={url:p,buffer:null}):rn.current={url:"",buffer:null}}catch{}};return i(),window.addEventListener("chat:alertSoundUpdated",i),()=>window.removeEventListener("chat:alertSoundUpdated",i)},[]),d.useEffect(()=>{if(!rr)return;let i=!1;const p=()=>{try{const g=Notification.permission;i||Xa(g==="granted")}catch{}};p();try{Notification.permission==="default"&&Notification.requestPermission().then(g=>{i||Xa(g==="granted")})}catch{}return window.addEventListener("focus",p),document.addEventListener("visibilitychange",p),()=>{i=!0,window.removeEventListener("focus",p),document.removeEventListener("visibilitychange",p)}},[rr]);function Ps(i){return i?i.type==="text"?i.content||"":i.type==="image"||i.type==="gif"?"Imagem":i.type==="audio"?"udio":"Anexo":""}function $r(i){try{if(!i)return"";try{const _=new URL(i,typeof window<"u"?window.location.origin:"http://localhost").searchParams.get("name");if(_)return _}catch{}const g=String(i).split("?")[0].split("/").pop()||"";return decodeURIComponent(g)}catch{return String(i||"")}}function Ls(i){var p,g;try{if(!_s)return;const N=((p=i==null?void 0:i.author)==null?void 0:p.name)||"Mensagem",_=Ps(i),k=(g=i==null?void 0:i.author)!=null&&g.avatarUrl?It(i.author.avatarUrl):void 0,B=new Notification(N,{body:_,icon:k});B.onclick=()=>{var C,W,ee,Ne;try{(C=window==null?void 0:window.focus)==null||C.call(window)}catch{}try{c({id:i.groupId,name:((W=i.group)==null?void 0:W.name)||"Direto",avatarUrl:((ee=i.group)==null?void 0:ee.avatarUrl)||((Ne=i.author)==null?void 0:Ne.avatarUrl)||void 0})}catch{}try{B.close()}catch{}},setTimeout(()=>{try{B.close()}catch{}},8e3)}catch{}}async function sl(){try{const i=window.AudioContext||window.webkitAudioContext;if(!i)return;Fr.current||(Fr.current=new i);const p=Fr.current;try{const _=localStorage.getItem("notif_sound_url")||"";if(_){if(rn.current.url!==_||!rn.current.buffer){const W=await(await fetch(_)).arrayBuffer(),ee=await p.decodeAudioData(W.slice(0));rn.current={url:_,buffer:ee}}const k=p.createBufferSource();k.buffer=rn.current.buffer;const B=p.createGain();B.gain.setValueAtTime(1e-4,p.currentTime),B.gain.exponentialRampToValueAtTime(.35,p.currentTime+.01),B.gain.exponentialRampToValueAtTime(1e-4,p.currentTime+Math.min(1.2,k.buffer.duration)),k.connect(B).connect(p.destination),k.start();return}}catch{}const g=p.createOscillator(),N=p.createGain();g.type="sine",g.frequency.value=880,N.gain.setValueAtTime(1e-4,p.currentTime),N.gain.exponentialRampToValueAtTime(.2,p.currentTime+.01),N.gain.exponentialRampToValueAtTime(1e-4,p.currentTime+.45),g.connect(N).connect(p.destination),g.start(),g.stop(p.currentTime+.5)}catch{}}d.useEffect(()=>{function i(){var p,g;try{(g=(p=Fr.current)==null?void 0:p.resume)==null||g.call(p)}catch{}try{window.removeEventListener("click",i),window.removeEventListener("keydown",i),window.removeEventListener("touchstart",i)}catch{}}return window.addEventListener("click",i),window.addEventListener("keydown",i),window.addEventListener("touchstart",i),()=>{try{window.removeEventListener("click",i),window.removeEventListener("keydown",i),window.removeEventListener("touchstart",i)}catch{}}},[]),d.useEffect(()=>{try{const i=(e||[]).reduce((p,g)=>p+(g._unread||0),0)+(n||[]).reduce((p,g)=>p+(g._unread||0),0);i>0?document.title=`(${i}) ${el.current}`:document.title=el.current}catch{}},[e,n]);const[sn,Mr]=d.useState(""),[kn,al]=d.useState([]),[ll,sr]=d.useState(-1),[Jo,ol]=d.useState(!1),[il,Dr]=d.useState(!1),[As,Is]=d.useState("self"),[zt,cl]=d.useState(null),[ge,ul]=d.useState(null),[Ts,Os]=d.useState([]),[dl,Us]=d.useState(!1),[Fs,$s]=d.useState(""),[Ms,Ds]=d.useState([]),[ar,lr]=d.useState(!1),[zr,zs]=d.useState(""),[st,Nt]=d.useState("perfil"),[Bt,fl]=d.useState(""),[or,Bs]=d.useState(""),[ir,hl]=d.useState(""),[Br,Vr]=d.useState(""),[Sn,an]=d.useState(null),[Vs,pl]=d.useState(""),[Ws,ml]=d.useState(""),[Hs,ln]=d.useState(""),[f,b]=d.useState(""),[F,K]=d.useState([]),[ne,Fe]=d.useState({});function Ee(i){var p;return!!((p=ne==null?void 0:ne[(o==null?void 0:o.id)||""])!=null&&p[i])}const qs=d.useRef(null),[Qs,hm]=d.useState(()=>{try{return localStorage.getItem("chat_groups_collapsed")==="1"}catch{}return!1}),[Ks,pm]=d.useState(()=>{try{return localStorage.getItem("chat_people_collapsed")==="1"}catch{}return!1});d.useEffect(()=>{try{localStorage.setItem("chat_groups_collapsed",Qs?"1":"0")}catch{}},[Qs]),d.useEffect(()=>{try{localStorage.setItem("chat_people_collapsed",Ks?"1":"0")}catch{}},[Ks]);async function Yo(i){if(!(!(o!=null&&o.id)||!(i!=null&&i.id)))try{Ee(i.id)?(await q.del(`/messages/${i.id}/favorite`),Fe(p=>{const g={...p||{}},N={...g[o.id]||{}};return delete N[i.id],g[o.id]=N,g}),K(p=>p.filter(g=>g.id!==i.id))):(await q.post(`/messages/${i.id}/favorite`,{}),Fe(p=>({...p,[o.id]:{...(p||{})[o.id]||{},[i.id]:!0}})),K(p=>p!=null&&p.some(g=>g.id===i.id)?p:[i,...p||[]]))}catch{}}const Xo=d.useMemo(()=>{const i={};return(n||[]).forEach(p=>{var g;p!=null&&p.groupId&&((g=p==null?void 0:p.other)!=null&&g.id)&&(i[p.groupId]=p.other.id)}),i},[n]);d.useEffect(()=>{(async()=>{var i;if(o!=null&&o.id)try{const p=cr(await q.get(`/messages/favorites?groupId=${o.id}`)),g={},N=[];for(const _ of p)(i=_==null?void 0:_.message)!=null&&i.id&&(g[_.message.id]=!0,N.push(_.message));Fe(_=>({..._,[o.id]:g})),K(N)}catch{}})()},[o==null?void 0:o.id,A,Xo]);const mm=d.useRef(null),[gm,qu]=d.useState({});d.useEffect(()=>{const i=dn(),p=X==null?void 0:X.id,g=(()=>{try{return localStorage.getItem("chat_status")||"online"}catch{return"online"}})();try{i.emit("presence:online",{userId:p,status:g})}catch{}const N=(k={})=>{try{const B={};for(const C of k.users||[])C!=null&&C.userId&&(B[C.userId]=C.status||"online");qu(B)}catch{}},_=(k={})=>{k!=null&&k.userId&&qu(B=>({...B,[k.userId]:k.status||"online"}))};i.on("presence:snapshot",N),i.on("presence:update",_);try{i.emit("presence:who")}catch{}return()=>{try{i.off("presence:snapshot",N),i.off("presence:update",_)}catch{}}},[X==null?void 0:X.id]);const Gs=d.useMemo(()=>{var g;const i=o==null?void 0:o.id;if(!i)return null;const p=n.find(N=>N.groupId===i);return((g=p==null?void 0:p.other)==null?void 0:g.id)||null},[n,o==null?void 0:o.id]),gl=d.useMemo(()=>{var p;if(Gs)return Gs;const i=(u||[]).find(g=>{var N,_;return(((N=g.author)==null?void 0:N.id)||g.authorId)&&(((_=g.author)==null?void 0:_.id)||g.authorId)!==(X==null?void 0:X.id)});return i?((p=i.author)==null?void 0:p.id)||i.authorId:null},[Gs,u,X==null?void 0:X.id]);d.useEffect(()=>{(async()=>{var i,p;try{const g=cr(await q.get("/groups"));t(g);const N=cr(await q.get("/dm"));r(N);const _=cr(await q.get("/users/all"));l(_);const k=localStorage.getItem("chat_active");if(k){const B=g.find(W=>W.id===k);if(B){c(B);return}const C=N.find(W=>W.groupId===k);if(C){c({id:C.groupId,name:((i=C.other)==null?void 0:i.name)||"Direto",avatarUrl:((p=C.other)==null?void 0:p.avatarUrl)||void 0});return}}g[0]&&c(g[0])}catch{R("Falha ao carregar listas")}})()},[]),d.useEffect(()=>{const i=qs.current;if(!i)return;const p=()=>{try{i.style.transform="translateX(0px)",i.style.transition="none",i.style.display="flex",i.classList.remove("hidden","translate-x-full","-translate-x-full","md:hidden")}catch{}};p();const g=new MutationObserver(p);return g.observe(i,{attributes:!0,attributeFilter:["class","style"]}),window.addEventListener("resize",p),()=>{g.disconnect(),window.removeEventListener("resize",p)}},[]),d.useEffect(()=>{function i(p){var g,N;try{(g=p.stopImmediatePropagation)==null||g.call(p),(N=p.stopPropagation)==null||N.call(p)}catch{}}return window.addEventListener("chat:openDrawer",i,!0),window.addEventListener("chat:closeDrawer",i,!0),()=>{window.removeEventListener("chat:openDrawer",i,!0),window.removeEventListener("chat:closeDrawer",i,!0)}},[]),d.useEffect(()=>{const i=dn();try{e.forEach(p=>i.emit("group:join",p.id))}catch{}},[e]),d.useEffect(()=>{const i=dn();try{n.forEach(p=>i.emit("group:join",p.groupId))}catch{}},[n]),d.useEffect(()=>{const i=dn(),p=X==null?void 0:X.id;if(!p)return;const g=N=>{try{const{groupId:_,userA:k,userB:B}=N||{};if(!_||!(k!=null&&k.id)||!(B!=null&&B.id)||k.id!==p&&B.id!==p)return;const C=k.id===p?B:k;r(W=>(W||[]).some(ee=>ee.groupId===_)?W:[{id:_,groupId:_,other:C,_unread:0,_lastAt:Date.now()},...W||[]]),i.emit("group:join",_)}catch{}};return i.on("dm:created",g),()=>i.off("dm:created",g)},[X==null?void 0:X.id]),d.useEffect(()=>{const i=dn();function p(k,B){return((k==null?void 0:k.name)||"").localeCompare((B==null?void 0:B.name)||"","pt-BR",{sensitivity:"base"})}const g=k=>{!(k!=null&&k.id)||k.id===(X==null?void 0:X.id)||l(B=>{if((B||[]).some(W=>W.id===k.id))return B;const C=[...B||[],{id:k.id,name:k.name,email:k.email,phone:k.phone,avatarUrl:k.avatarUrl}];return C.sort(p),C})},N=k=>{k!=null&&k.id&&l(B=>{const C=(B||[]).map(W=>W.id===k.id?{...W,name:k.name,email:k.email,phone:k.phone,avatarUrl:k.avatarUrl}:W);return C.sort(p),C})},_=({id:k})=>{k&&l(B=>(B||[]).filter(C=>C.id!==k))};return i.on("user:created",g),i.on("user:updated",N),i.on("user:deleted",_),()=>{i.off("user:created",g),i.off("user:updated",N),i.off("user:deleted",_)}},[X==null?void 0:X.id]),d.useEffect(()=>{(async()=>{var i;try{const p=n.filter(N=>N&&N.groupId&&(N._lastAt===void 0||N._lastAt===null||N._lastPreview===void 0));if(!p.length)return;const g={};for(const N of p)try{const k=cr(await q.get(`/messages/${N.groupId}?take=1`))[0]||null,B=k!=null&&k.createdAt?new Date(k.createdAt).getTime():0,C=(((i=k==null?void 0:k.author)==null?void 0:i.id)||(k==null?void 0:k.authorId))===(X==null?void 0:X.id);let W="";k&&(k.type==="text"?W=k.content||"":k.type==="image"||k.type==="gif"?W="Imagem":k.type==="audio"?W="udio":W="Anexo",C&&(W=`Voc: ${W}`)),g[N.groupId]={last:B,prev:W}}catch{}Object.keys(g).length&&r(N=>N.map(_=>g[_.groupId]!==void 0?{..._,_lastAt:g[_.groupId].last,_lastPreview:g[_.groupId].prev}:_))}catch{}})()},[n]);async function xm(i){var p,g,N,_;R("");try{const k=await q.get(`/dm/with/${i}`);if(k!=null&&k.groupId){r(B=>{const C=B.find(ae=>ae.groupId===k.groupId),W=C==null?void 0:C._lastAt,ee=(C==null?void 0:C._unread)||0,Ne=B.filter(ae=>ae.groupId!==k.groupId);return[{id:k.groupId,groupId:k.groupId,other:k.other,_unread:ee,_lastAt:W},...Ne]}),c({id:k.groupId,name:((p=k.other)==null?void 0:p.name)||"Direto",avatarUrl:((g=k.other)==null?void 0:g.avatarUrl)||void 0});return}}catch{}try{const k=await q.post(`/dm/${i}`);if(k!=null&&k.groupId){r(B=>{const C=B.find(ae=>ae.groupId===k.groupId),W=C==null?void 0:C._lastAt,ee=(C==null?void 0:C._unread)||0,Ne=B.filter(ae=>ae.groupId!==k.groupId);return[{id:k.groupId,groupId:k.groupId,other:k.other,_unread:ee,_lastAt:W},...Ne]}),c({id:k.groupId,name:((N=k.other)==null?void 0:N.name)||"Direto",avatarUrl:((_=k.other)==null?void 0:_.avatarUrl)||void 0});return}}catch(k){R(k.message||"Falha ao abrir conversa");return}R("Nao foi possivel iniciar a conversa")}d.useEffect(()=>{if(!o)return;let i=()=>{};return(async()=>{const p=cr(await q.get(`/messages/${o.id}?take=50`));h(p.slice().reverse());try{await q.post(`/messages/${o.id}/read`,{})}catch{}t(C=>C.map(W=>W.id===o.id?{...W,_unread:0}:W)),r(C=>C.map(W=>W.groupId===o.id?{...W,_unread:0}:W));const g=dn();try{g.off("message:new")}catch{}try{g.off("message:deleted")}catch{}g.emit("group:join",o.id);const N=C=>{var Ye;const W=new Date((C==null?void 0:C.createdAt)||Date.now()).getTime(),ee=(((Ye=C.author)==null?void 0:Ye.id)||C.authorId)===(X==null?void 0:X.id),Ne=C.groupId===o.id,ae=!!(A!=null&&A[C.groupId])||(Xo[C.groupId]?!!(A!=null&&A[Xo[C.groupId]]):!1),De=(()=>{try{return(!tl||document.hidden)&&!ee}catch{return!ee}})();if(Ne&&!ee)try{q.post(`/messages/${o.id}/read`,{})}catch{}if(De)try{Ls(C)}catch{}if(Ne){h(Ae=>{var xe;return(Ae||[]).some(ke=>ke.id===C.id)?Ae:(xe=C.replyTo)!=null&&xe.id?Ae.map(ke=>{var dt;return ke.id===C.replyTo.id?{...ke,_count:{replies:(((dt=ke._count)==null?void 0:dt.replies)||0)+1}}:ke}).concat(C):[...Ae,C]}),t(Ae=>Ae.map(xe=>xe.id===o.id?{...xe,_lastAt:W}:xe)),r(Ae=>Ae.map(xe=>xe.groupId===o.id?{...xe,_lastAt:W,_lastPreview:C.type==="text"?C.content:C.type==="image"||C.type==="gif"?"Imagem":C.type==="audio"?"udio":"Anexo"}:xe));try{!ee&&!ae&&sl()}catch{}}else{t(Ae=>Ae.map(xe=>xe.id===C.groupId?{...xe,_unread:(xe._unread||0)+1,_lastAt:W}:xe)),r(Ae=>Ae.map(xe=>xe.groupId===C.groupId?{...xe,_unread:(xe._unread||0)+1,_lastAt:W,_lastPreview:C.type==="text"?C.content:C.type==="image"||C.type==="gif"?"Imagem":C.type==="audio"?"udio":"Anexo"}:xe));try{!ee&&!ae&&sl()}catch{}}},_=C=>{(C==null?void 0:C.groupId)===o.id&&h(W=>W.map(ee=>ee.id===C.id?C:ee))},k=C=>{try{if(!C||C.groupId!==o.id)return;const W=Array.isArray(C.ids)?C.ids:[],ee=C.userId;if(!ee||!W.length)return;h(Ne=>Ne.map(ae=>W.includes(ae.id)?{...ae,reads:(ae.reads||[]).some(De=>De.userId===ee)?ae.reads||[]:[...ae.reads||[],{userId:ee}]}:ae))}catch{}},B=C=>{C.groupId===o.id&&h(W=>W.map(ee=>ee.id===C.id?{...ee,deletedAt:C.deletedAt}:ee))};g.on("message:new",N),g.on("message:updated",_),g.on("messages:read",k),g.on("message:deleted",B),i=()=>{oe(null),g.off("message:new",N),g.off("message:updated",_),g.off("messages:read",k),g.off("message:deleted",B),g.emit("group:leave",o.id)}})(),()=>i()},[o==null?void 0:o.id]),d.useEffect(()=>{if(o!=null&&o.id)try{localStorage.setItem("chat_active",o.id)}catch{}},[o==null?void 0:o.id]),d.useEffect(()=>{const i=setTimeout(()=>{if(nn.current&&(nn.current.scrollTop=nn.current.scrollHeight),Ar.current)try{Ar.current.scrollIntoView({behavior:"smooth",block:"end"})}catch{}},0);return()=>clearTimeout(i)},[u,o==null?void 0:o.id]);async function ei(i){var p,g;if(i&&i.preventDefault&&i.preventDefault(),R(""),!!o)try{const N=!!(x||"").trim(),_=j.length>0,k=(T==null?void 0:T.id)||null;if(N){const B=x,C=/^(https?:\/\/\S+)/i.test(B),W=B.toLowerCase(),ee=C&&/(\.gif($|\?))/i.test(W),Ne=C&&/(\.png|\.jpg|\.jpeg|\.webp|\.bmp|\.svg)($|\?)/i.test(W),ae=ee?"gif":Ne?"image":"text",De=await q.post(`/messages/${o.id}`,{type:ae,content:B,replyToId:k});h(Ye=>(Ye||[]).some(Ae=>Ae.id===De.id)?Ye:[...Ye,De]),v("")}if(_){for(const B of j){const C=B==null?void 0:B.file;if(!C)continue;const W=new FormData;W.append("file",C);let ee="file";(p=C.type)!=null&&p.startsWith("audio")?ee="audio":(g=C.type)!=null&&g.startsWith("image")&&(ee="image");const Ne=k?`&replyToId=${k}`:"",ae=await q.upload(`/messages/${o.id}/upload?type=${ee}${Ne}`,W);h(De=>(De||[]).some(Ye=>Ye.id===ae.id)?De:[...De,ae])}Qo()}(N||_)&&y(null)}catch(N){R(N.message||"Falha ao enviar mensagem")}}function vm(i){y(i)}async function ym(i){if(confirm("Excluir esta mensagem?"))try{await q.delete(`/messages/${i.id}`),h(p=>p.map(g=>g.id===i.id?{...g,deletedAt:new Date().toISOString()}:g))}catch(p){R(p.message||"Falha ao excluir")}}function wm(i){const p=u.find(g=>{var N;return((N=g.replyTo)==null?void 0:N.id)===i.id});if(p){const g=document.getElementById(`msg-${p.id}`);if(g){try{g.scrollIntoView({behavior:"smooth",block:"center"})}catch{}D(p.id),setTimeout(()=>D(null),2e3)}}}d.useEffect(()=>{const i=(sn||"").trim().toLowerCase();if(!i){al([]),sr(-1);return}const p=u.filter(g=>g&&!g.deletedAt&&g.type==="text"&&(g.content||"").toLowerCase().includes(i)).map(g=>g.id);if(al(p),p.length){sr(0);const g=document.getElementById(`msg-${p[0]}`);if(g)try{g.scrollIntoView({behavior:"smooth",block:"center"})}catch{}D(p[0]),setTimeout(()=>D(null),1500)}else sr(-1)},[sn,u,o==null?void 0:o.id]);function ti(i=!0){if(!kn.length)return;let p=ll;p<0?p=0:p=(p+(i?1:-1)+kn.length)%kn.length,sr(p);const g=kn[p],N=document.getElementById(`msg-${g}`);if(N)try{N.scrollIntoView({behavior:"smooth",block:"center"})}catch{}D(g),setTimeout(()=>D(null),1500)}function bm(i){const p=Xn.current;if(!p){v(k=>k+i);try{G(k=>{const B=[i,...(k||[]).filter(C=>C!==i)].slice(0,24);try{localStorage.setItem("chat_recent_emojis",JSON.stringify(B))}catch{}return B})}catch{}pe(!1);try{Yn("")}catch{}return}const g=p.selectionStart??x.length,N=p.selectionEnd??x.length,_=x.slice(0,g)+i+x.slice(N);v(_),requestAnimationFrame(()=>{p.focus();const k=g+i.length;try{p.setSelectionRange(k,k)}catch{}});try{G(k=>{const B=[i,...(k||[]).filter(C=>C!==i)].slice(0,24);try{localStorage.setItem("chat_recent_emojis",JSON.stringify(B))}catch{}return B})}catch{}pe(!1);try{Yn("")}catch{}}async function jm(){if(P(""),!m)try{const i=await navigator.mediaDevices.getUserMedia({audio:!0});er.current=i;const p=window.MediaRecorder&&MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",g=new MediaRecorder(i,{mimeType:p});Ir.current=g;const N=[];g.ondataavailable=_=>{_.data&&_.data.size>0&&N.push(_.data)},g.onstop=async()=>{try{const _=new Blob(N,{type:p}),k=new File([_],`rec-${Date.now()}.webm`,{type:p}),B=new FormData;B.append("file",k),o!=null&&o.id&&await q.upload(`/messages/${o.id}/upload?type=audio`,B)}catch(_){P(_.message||"Falha ao salvar udio")}finally{Qu()}},g.start(),w(!0),z(0),tr.current=setInterval(()=>z(_=>_+1),1e3)}catch{P("Acesso ao microfone negado ou indisponvel"),Qu()}}function Nm(){var i;try{(i=Ir.current)==null||i.stop()}catch{}}function Qu(){var i,p;if(w(!1),tr.current){try{clearInterval(tr.current)}catch{}tr.current=null}z(0);try{(p=(i=er.current)==null?void 0:i.getTracks)==null||p.call(i).forEach(g=>g.stop())}catch{}er.current=null,Ir.current=null}d.useEffect(()=>()=>{try{jt&&URL.revokeObjectURL(jt)}catch{}},[jt]);async function km(){if(!(!Tr||!(o!=null&&o.id)))try{const i=new FormData;i.append("file",Tr);const p=await q.upload(`/messages/${o.id}/upload?type=audio`,i);h(g=>g.some(N=>N.id===p.id)?g:[...g,p]),jn(null);try{jt&&URL.revokeObjectURL(jt)}catch{}Ja("")}catch(i){P((i==null?void 0:i.message)||"Falha ao Enviar udio")}}function Sm(){jn(null);try{jt&&URL.revokeObjectURL(jt)}catch{}Ja("")}function Ku(i=zt,{force:p=!1}={}){const g=i||{};if((p||!Bt)&&fl((g==null?void 0:g.name)||""),(p||!or)&&Bs((g==null?void 0:g.phone)||""),(p||!ir)&&hl((g==null?void 0:g.address)||""),p||!Br)try{const N=localStorage.getItem("profile_status");Vr(N!==null?N:(g==null?void 0:g.status)||"")}catch{Vr((g==null?void 0:g.status)||"")}}async function Gu(i=!1){try{Dr(!0);const p=await q.get("/users/me");cl(p||{}),Ku(p,{force:i}),b(""),ln("")}catch{b("Falha ao carregar perfil")}finally{Dr(!1)}}function Em(){var p;ol(!0);const i=o==null?void 0:o.id;if(i){const g=n.find(N=>N.groupId===i);if((p=g==null?void 0:g.other)!=null&&p.id){const N=(s||[]).find(_=>_.id===g.other.id)||g.other;Is("contact"),ul(N||null),(async()=>{try{Us(!0),$s("");const _=await q.get(`/users/${g.other.id}/shared-groups`);Os(Array.isArray(_)?_:[])}catch(_){$s((_==null?void 0:_.message)||"Falha ao carregar grupos em comum"),Os([])}finally{Us(!1)}})(),Nt("perfil"),Dr(!1),b(""),ln("");return}Is("group"),Nt("perfil"),Dr(!1),b(""),ln(""),(async()=>{try{lr(!0),zs("");const N=await q.get(`/groups/${i}/participants`);Ds(Array.isArray(N)?N:[])}catch(N){zs((N==null?void 0:N.message)||"Falha ao carregar participAes"),Ds([])}finally{lr(!1)}})();return}Is("self"),Gu(!0)}async function Cm(){try{b(""),ln("");const i=new FormData;i.append("name",Bt||""),or!=null&&i.append("phone",or),ir!=null&&i.append("address",ir),Sn&&i.append("avatar",Sn),await q.uploadPatch("/users/me",i);try{localStorage.setItem("profile_status",Br||"")}catch{}ln("Perfil atualizado"),an(null),Gu(!0)}catch(i){b((i==null?void 0:i.message)||"Falha ao salvar perfil")}}async function _m(){try{if(b(""),ln(""),!Vs||!Ws){b("Preencha senha atual e nova");return}await q.post("/users/me/password",{current:Vs,password:Ws}),ln("Senha atualizada"),pl(""),ml("")}catch(i){b((i==null?void 0:i.message)||"Falha ao alterar senha")}}const[Zs,Rm]=d.useState(!1),[Js,Pm]=d.useState(!1),ni=d.useMemo(()=>{const i={};return(e||[]).forEach((p,g)=>{p!=null&&p.id&&(i[p.id]=g)}),i},[e]),Lm=d.useMemo(()=>{const i=re.trim().toLowerCase();let p=i?e.filter(g=>(g.name||"").toLowerCase().includes(i)):e;return Zs&&(p=p.filter(g=>!!(I!=null&&I[g.id]))),Js&&(p=p.filter(g=>(g._unread||0)>0)),[...p].sort((g,N)=>{const _=I!=null&&I[g.id]?1:0,k=I!=null&&I[N.id]?1:0;if(_!==k)return k-_;const B=(g==null?void 0:g._lastAt)||0,C=(N==null?void 0:N._lastAt)||0;if(B!==C)return C-B;const W=(g==null?void 0:g._unread)||0,ee=(N==null?void 0:N._unread)||0;if(W!==ee)return ee-W;const Ne=ni[g.id]??Number.MAX_SAFE_INTEGER,ae=ni[N.id]??Number.MAX_SAFE_INTEGER;return Ne-ae})},[e,re,I,Zs,Js,ni]),Ys=d.useMemo(()=>{const i={};return(n||[]).forEach(p=>{var N;const g=(N=p==null?void 0:p.other)==null?void 0:N.id;g&&(i[g]=p)}),i},[n]),ri=d.useMemo(()=>{const i={};return(s||[]).forEach((p,g)=>{p!=null&&p.id&&(i[p.id]=g)}),i},[s]),si=d.useMemo(()=>{const i={};return(n||[]).forEach((p,g)=>{var _;const N=(_=p==null?void 0:p.other)==null?void 0:_.id;N&&(i[N]=g)}),i},[n]),Wr=d.useMemo(()=>{const i=o==null?void 0:o.id;return i?(n||[]).some(p=>p.groupId===i):!1},[o==null?void 0:o.id,n]),xl=d.useMemo(()=>o!=null&&o.id?Wr?Gs||gl||null:o.id:null,[o==null?void 0:o.id,Wr,Gs,gl]),Am=!!(xl&&(I!=null&&I[xl])),Im=d.useMemo(()=>{var i;if(!o)return"Selecione um grupo";if(Wr){const p=(n||[]).find(N=>N.groupId===o.id),g=(i=p==null?void 0:p.other)==null?void 0:i.name;if(g)return g}return(o==null?void 0:o.name)||"Direto"},[o,Wr,n]),Tm=d.useMemo(()=>{var i;if(o){if(o.avatarUrl)return o.avatarUrl;if(Wr){const p=(n||[]).find(g=>g.groupId===o.id);if((i=p==null?void 0:p.other)!=null&&i.avatarUrl)return p.other.avatarUrl}}},[o,Wr,n]),Om=d.useMemo(()=>{const i=re.trim().toLowerCase();let p=i?s.filter(g=>(g.name||"").toLowerCase().includes(i)):s;return Zs&&(p=p.filter(g=>!!(I!=null&&I[g.id]))),Js&&(p=p.filter(g=>{const N=Ys[g.id];return((N==null?void 0:N._unread)||0)>0})),[...p].sort((g,N)=>{const _=I!=null&&I[g.id]?1:0,k=I!=null&&I[N.id]?1:0;if(_!==k)return k-_;const B=Ys[g.id],C=Ys[N.id],W=(B==null?void 0:B._lastAt)||0,ee=(C==null?void 0:C._lastAt)||0;if(W!==ee)return ee-W;const Ne=(B==null?void 0:B._unread)||0,ae=(C==null?void 0:C._unread)||0;if(Ne!==ae)return ae-Ne;const De=si[g.id]??Number.MAX_SAFE_INTEGER,Ye=si[N.id]??Number.MAX_SAFE_INTEGER;if(De!==Ye)return De-Ye;const Ae=ri[g.id]??Number.MAX_SAFE_INTEGER,xe=ri[N.id]??Number.MAX_SAFE_INTEGER;return Ae-xe})},[s,n,re,Js,Zs,I,Ys,ri,si]);return d.useEffect(()=>{(async()=>{var i;try{const p=(e||[]).filter(N=>N&&N.id&&(N._lastAt===void 0||N._lastAt===null||N._lastPreview===void 0));if(!p.length)return;const g={};for(const N of p)try{const k=cr(await q.get(`/messages/${N.id}?take=1`))[0]||null,B=k!=null&&k.createdAt?new Date(k.createdAt).getTime():0;let C="";k&&(k.type==="text"?C=k.content||"":k.type==="image"||k.type==="gif"?C="Imagem":k.type==="audio"?C="udio":C="Anexo",(((i=k==null?void 0:k.author)==null?void 0:i.id)||(k==null?void 0:k.authorId))===(X==null?void 0:X.id)&&(C=`Voc: ${C}`)),g[N.id]={last:B,prev:C}}catch{}Object.keys(g).length&&t(N=>(N||[]).map(_=>g[_.id]!==void 0?{..._,_lastAt:g[_.id].last,_lastPreview:g[_.id].prev}:_))}catch{}})()},[e]),a.jsxs("div",{className:"relative flex h-full min-h-full w-full overflow-hidden bg-slate-50 dark:bg-slate-950",children:[rl&&a.jsx("div",{className:"absolute left-1/2 top-3 z-50 -translate-x-1/2 rounded bg-amber-100 px-4 py-2 text-sm text-amber-800 shadow",children:rl}),a.jsxs("aside",{id:"chat-left-pane",ref:qs,className:"w-72 xl:w-80 flex-shrink-0 flex h-full flex-col border-r border-slate-200 bg-white dark:bg-slate-900/70 overflow-y-auto",style:{transform:"translateX(0px)",display:"flex"},children:[a.jsxs("div",{className:"px-3 py-2 border-b border-slate-200",children:[a.jsx("input",{value:re,onChange:i=>je(i.target.value),placeholder:"Buscar conversas...",className:"w-full border rounded px-3 py-1.5 text-sm"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded border hover:bg-slate-50",onClick:()=>{var i;try{(i=document.getElementById("people-list"))==null||i.scrollIntoView({behavior:"smooth",block:"start"})}catch{}},children:"Nova conversa"}),a.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Zs,onChange:i=>Rm(i.target.checked)})," ","Fixadas"]}),a.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:Js,onChange:i=>Pm(i.target.checked)})," ","No lidas"]})]})]}),a.jsxs("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 sticky top-0 z-10 bg-white dark:bg-slate-800 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("span",{children:"Grupos"}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-transform",onClick:()=>hm(i=>!i),"aria-label":Qs?"Expandir grupos":"Ocultar grupos",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-4 h-4 transition-transform ${Qs?"-rotate-90":"rotate-0"}`,children:a.jsx("path",{d:"M8.47 4.97a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06L13.94 12 8.47 6.53a.75.75 0 0 1 0-1.06Z"})})})]}),!Qs&&Lm.map(i=>{const p=(i==null?void 0:i._lastAt)||0,g=p?new Date(p).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",N=(i==null?void 0:i._lastPreview)||"";return I!=null&&I[i.id],A!=null&&A[i.id],a.jsxs("button",{onClick:()=>c(i),onContextMenu:_=>{_.preventDefault(),_.stopPropagation(),wt({open:!0,type:"group",id:i.id,groupId:i.id,x:_.clientX,y:_.clientY})},className:`px-3 py-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/60 border ${(o==null?void 0:o.id)===i.id?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-slate-700 dark:text-slate-100 dark:border-slate-600":"border-transparent hover:border-slate-200 dark:border-transparent dark:hover:border-slate-600"} flex items-center justify-between transition-colors`,title:i.name||"",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"truncate text-left",title:i.name||"",children:i.name}),g&&a.jsx("span",{className:"text-[11px] text-slate-500",children:g})]}),N&&a.jsx("div",{className:"text-slate-500 truncate max-w-[220px] text-xs",title:N,children:N})]}),a.jsx("div",{className:"flex items-center gap-1 shrink-0",children:i._unread>0&&a.jsx("span",{className:"ml-2 min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:i._unread})})]},i.id)}),a.jsxs("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 border-t border-slate-200 sticky top-0 z-10 bg-white dark:bg-slate-800 flex items-center justify-between",children:[a.jsx("span",{children:"Pessoas"}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-transform",onClick:()=>pm(i=>!i),"aria-label":Ks?"Expandir pessoas":"Ocultar pessoas",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-4 h-4 transition-transform ${Ks?"-rotate-90":"rotate-0"}`,children:a.jsx("path",{d:"M8.47 4.97a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06L13.94 12 8.47 6.53a.75.75 0 0 1 0-1.06Z"})})})]}),!Ks&&a.jsx("div",{id:"people-list",className:"px-3 py-2 flex flex-col gap-1",children:Om.map(i=>{const p=Ys[i.id]||null,g=(p==null?void 0:p._unread)||0,N=(p==null?void 0:p._lastAt)||0,_=N?new Date(N).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",k=(p==null?void 0:p._lastPreview)||"";I!=null&&I[i.id];const B=!!(o!=null&&o.id&&(p!=null&&p.groupId)&&o.id===p.groupId);return a.jsxs("button",{onClick:()=>xm(i.id),onContextMenu:C=>{C.preventDefault(),C.stopPropagation(),wt({open:!0,type:"user",id:i.id,groupId:(p==null?void 0:p.groupId)||null,x:C.clientX,y:C.clientY})},className:`rounded-lg px-2 py-2 flex items-center justify-between gap-2 border transition-colors ${B?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-slate-700 dark:text-slate-100 dark:border-slate-600":"hover:bg-slate-50 dark:hover:bg-slate-700/60 border-transparent hover:border-slate-200 dark:hover:border-slate-600"}`,children:[a.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(Mi,{url:i.avatarUrl,name:i.name,size:40,status:gm[i.id]||i.status,showStatus:!0}),a.jsxs("span",{className:"flex flex-col items-start min-w-0",children:[a.jsx("span",{className:"truncate font-medium text-sm",title:i.name||"",children:i.name}),i.status&&a.jsx("span",{className:`ml-2 text-[10px] px-1.5 py-0.5 rounded-full border ${String(i.status).toLowerCase()==="online"?"bg-green-50 text-green-700 border-green-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:i.status}),k&&a.jsx("span",{className:"truncate text-xs text-slate-500 max-w-[180px]",title:k,children:k})]})]}),a.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[_&&a.jsx("span",{className:"text-[11px] text-slate-500",children:_}),g>0&&a.jsx("span",{className:"min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:g}),!!(I!=null&&I[i.id])&&a.jsx(bf,{className:"w-4 h-4 text-amber-500"})]})]},i.id)})})]}),(se==null?void 0:se.open)&&a.jsxs("div",{ref:wn,className:"fixed z-50 w-48 bg-white border border-slate-200 rounded shadow",style:{top:Math.max(8,se.y),left:Math.max(8,se.x)},role:"menu",children:[se.type==="user"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{se!=null&&se.id&&ce(se.id),wt(i=>({...i,open:!1}))},children:I!=null&&I[se.id]?"Desafixar":"Fixar"}),a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{const i=se.groupId||se.id;i&&M(i),wt(p=>({...p,open:!1}))},children:(()=>{const i=se.groupId||se.id;return A!=null&&A[i]?"Reativar som":"Silenciar"})()})]}),se.type==="group"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{se!=null&&se.id&&ce(se.id),wt(i=>({...i,open:!1}))},children:I!=null&&I[se.id]?"Desafixar":"Fixar"}),a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{se!=null&&se.id&&M(se.id),wt(i=>({...i,open:!1}))},children:A!=null&&A[se.id]?"Reativar som":"Silenciar"})]})]}),a.jsxs("div",{className:"relative flex-1 flex min-h-0 flex-col chat-bg border-r border-slate-200 bg-slate-100 dark:bg-slate-900/60",children:[a.jsxs("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 bg-gradient-to-r from-white/80 to-slate-50/80 dark:from-slate-900/60 dark:to-slate-800/60 backdrop-blur font-medium flex items-center gap-2 shadow-sm",children:[a.jsxs("button",{type:"button",className:"flex items-center gap-3 min-w-0 truncate text-left hover:underline",onClick:()=>Em(),title:"Abrir perfil",children:[a.jsx(Mi,{url:Tm,name:(o==null?void 0:o.name)||"Selecione um grupo",size:36}),a.jsx("span",{className:"truncate font-semibold text-slate-700 dark:text-slate-200",children:Im})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 rounded border border-slate-300 bg-white/90 px-2 py-1 shadow-sm",children:[a.jsx(vy,{className:"h-4 w-4 text-slate-500"}),a.jsx("input",{ref:mm,value:sn,onChange:i=>Mr(i.target.value),placeholder:"Buscar mensagens...",className:"w-64 border-0 bg-transparent text-sm focus:outline-none focus:ring-0","aria-label":"Buscar mensagens",onKeyDown:i=>{i.key==="Enter"&&(i.preventDefault(),ti(!i.shiftKey))}}),a.jsx("span",{className:"text-[11px] text-slate-500",children:sn?kn.length?`${ll+1}/${kn.length}`:"0/0":"--"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100",title:"Resultado anterior",onClick:()=>ti(!1),children:a.jsx(yy,{})}),a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100",title:"Prximo resultado",onClick:()=>ti(!0),children:a.jsx(wy,{})}),sn&&a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100",title:"Limpar busca",onClick:()=>Mr(""),children:a.jsx(wf,{})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",title:"Mais opes","aria-haspopup":"menu","aria-expanded":nr,onClick:()=>Nn(i=>!i),children:a.jsx(by,{})}),nr&&a.jsx("div",{ref:Es,className:"absolute right-0 top-10 z-20 w-48 rounded border border-slate-200 bg-white shadow",role:"menu",children:a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{xl&&ce(xl),Nn(!1)},role:"menuitem",children:Am?"Desafixar conversa":"Fixar conversa"})})]})]})]}),!o&&a.jsx("div",{className:"flex-1 grid place-items-center p-6",children:a.jsxs("div",{className:"text-center text-slate-600 dark:text-slate-300",children:[a.jsx("div",{className:"mx-auto dark:bg-slate-700 grid place-items-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8 text-slate-400 dark:text-slate-300",children:a.jsx("path",{d:"M19.5 6.75v10.5A2.25 2.25 0 0 1 17.25 19.5H6.75A2.25 2.25 0 0 1 4.5 17.25V6.75A2.25 2.25 0 0 1 6.75 4.5h10.5A2.25 2.25 0 0 1 19.5 6.75ZM8.25 9A.75.75 0 0 0 7.5 9.75v6a.75.75 0 0 0 1.5 0v-6A.75.75 0 0 0 8.25 9Zm4.5 0a.75.75 0 0 0-.75.75v6a.75.75 0 0 0 1.5 0v-6A.75.75 0 0 0 12.75 9Zm4.5.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"})})}),a.jsx("div",{className:"text-lg font-semibold",children:"Selecione uma conversa"}),a.jsx("div",{className:"text-sm",children:"Escolha um grupo ou contato  esquerda."})]})}),a.jsxs("div",{ref:nn,className:`flex-1 overflow-y-auto overscroll-contain p-4 space-y-3 ${o?"":"hidden"}`,children:[u.map((i,p)=>{var W,ee,Ne,ae,De,Ye,Ae,xe;const g=(((W=i.author)==null?void 0:W.id)||i.authorId)===(X==null?void 0:X.id),N=g?"max-w-[75%] bg-blue-600 text-white px-4 py-2.5 rounded-2xl rounded-tr-md shadow-md":"max-w-[75%] bg-white text-slate-800 px-4 py-2.5 rounded-2xl rounded-tl-md shadow-md border border-slate-200/60",_=g?"flex justify-end mb-2 items-end":"flex justify-start mb-2 items-end",k=u[p-1],B=!k||new Date(k.createdAt).toDateString()!==new Date(i.createdAt).toDateString(),C=(()=>{const ke=new Date(i.createdAt),dt=new Date,Lt=Qe=>new Date(Qe.getFullYear(),Qe.getMonth(),Qe.getDate()),Hr=(Lt(ke)-Lt(dt))/864e5;return Hr===0?"Hoje":Hr===-1?"Ontem":ke.toLocaleDateString("pt-BR")})();return a.jsxs("div",{id:`msg-${i.id}`,className:"w-full",children:[B&&a.jsx("div",{className:"max-w-32 mx-auto rounded-full text-center text-xs bg-sky-600  text-slate-100 my-2",children:C}),a.jsxs("div",{className:`${_} group`,children:[!g&&a.jsx("div",{className:"mr-2",children:a.jsx(Mi,{url:(ee=i.author)==null?void 0:ee.avatarUrl,name:(Ne=i.author)==null?void 0:Ne.name,size:32})}),a.jsxs("div",{className:`${N} ${V===i.id?"ring-2 ring-yellow-400":""} ${sn&&i.type==="text"&&(i.content||"").toLowerCase().includes((sn||"").toLowerCase())?"outline outline-2 outline-yellow-300":""}`,children:[!g&&a.jsx("div",{className:"mb-1 text-xs font-semibold text-slate-600",children:((ae=i.author)==null?void 0:ae.name)||"Contato"}),i.replyTo&&a.jsxs("div",{className:"mb-1 pl-2 border-l-4 border-blue-400 text-xs text-slate-600",children:[a.jsx("div",{className:"font-medium",children:((De=i.replyTo.author)==null?void 0:De.name)||"Mensagem"}),a.jsx("div",{className:"truncate opacity-90",children:i.replyTo.type==="text"?i.replyTo.content:i.replyTo.type==="image"?"Imagem":i.replyTo.type==="audio"?"udio":"Anexo"})]}),i.deletedAt?a.jsx("div",{className:"italic opacity-70",children:"Mensagem apagada"}):i.type==="text"?a.jsx(_y,{message:i,mine:g,onStartEdit:ke=>{te(ke.id),H(ke.content||""),oe(null)},onSave:async(ke,dt)=>{try{const Lt=await q.patch(`/messages/${ke.id}`,{content:dt.trim()});h(Hr=>Hr.map(Qe=>Qe.id===ke.id?Lt:Qe)),te(""),H("")}catch(Lt){R((Lt==null?void 0:Lt.message)||"Falha ao editar")}},onCancel:()=>{te(""),H("")},editingId:Y,editText:he,setEditText:H}):i.type==="image"||i.type==="gif"?(()=>{const ke=It(i.content),dt=$r(i.content)||"imagem";return a.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[a.jsx("a",{href:ke,target:"_blank",rel:"noopener noreferrer",className:"inline-block max-w-[220px]",children:a.jsx("img",{src:ke,alt:dt,className:"max-w-full max-h-60 rounded shadow-sm object-contain bg-slate-100"})}),a.jsx("button",{type:"button",onClick:()=>Ko(ke,dt),className:"inline-flex items-center gap-1 rounded px-3 py-1 text-xs font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-400 transition",children:"Baixar"})]})})():i.type==="audio"?a.jsx("audio",{src:It(i.content),controls:!0,className:"w-60"}):a.jsx("a",{className:"underline break-all",href:It(i.content),target:"_blank",rel:"noreferrer",title:$r(i.content)||"Abrir anexo",children:$r(i.content)||"Abrir anexo"}),a.jsxs("div",{className:"mt-1 text-[10px] opacity-80 flex items-center gap-2",children:[a.jsx("span",{children:new Date(i.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),g&&(()=>{const ke=(i.reads||[]).map(Qe=>Qe.userId);if(gl){const Qe=ke.includes(gl),vl=Qe?"Visualizada":"Entregue";return a.jsx($i,{read:Qe,title:vl})}const dt=ke.filter(Qe=>Qe&&Qe!==(X==null?void 0:X.id));if(dt.length===0)return a.jsx($i,{read:!1,title:"Entregue"});const Lt=dt.map(Qe=>{var vl;return((vl=(s||[]).find(Um=>Um.id===Qe))==null?void 0:vl.name)||""}).filter(Boolean),Hr=Lt.length?Lt.join(", "):`Visto por ${dt.length}`;return a.jsx($i,{read:!0,title:Hr})})(),a.jsx("button",{type:"button",title:Ee(i.id)?"Remover favorito":"Favoritar",onClick:()=>Yo(i),className:`${Ee(i.id)?"text-yellow-400":"text-slate-300 hover:text-slate-500"} transition-colors`,children:a.jsx(bf,{className:"w-4 h-4",filled:Ee(i.id)})})]})]}),a.jsxs("div",{className:"ml-1 relative",ref:J===i.id?yt:null,children:[a.jsx("button",{type:"button",className:"opacity-0 group-hover:opacity-100 p-1 text-slate-500 hover:text-slate-700",onClick:()=>oe(J===i.id?null:i.id),"aria-label":"Aes",children:"..."}),J===i.id&&a.jsxs("div",{className:"absolute right-0 mt-1 bg-white border border-slate-200 rounded shadow text-sm z-10",children:[a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{oe(null),vm(i)},children:"Responder"}),(((Ye=i.author)==null?void 0:Ye.id)||i.authorId)===(X==null?void 0:X.id)&&i.type==="text"&&!i.deletedAt&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{te(i.id),H(i.content||""),oe(null)},children:"Editar"}),a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{oe(null),Yo(i)},children:"Favoritar"}),(((Ae=i.author)==null?void 0:Ae.id)||i.authorId)===(X==null?void 0:X.id)&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 text-red-600 hover:bg-red-50",onClick:()=>{oe(null),ym(i)},children:"Apagar"}),((xe=i._count)==null?void 0:xe.replies)>0&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{oe(null),wm(i)},children:"Ir para respostas"})]})]})]})]},i.id)}),a.jsx("div",{ref:Ar})]}),T&&a.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-slate-50 flex items-start gap-2",children:[a.jsxs("div",{className:"border-l-4 border-blue-500 pl-2 text-sm text-slate-700 flex-1",children:[a.jsxs("div",{className:"font-medium",children:["Respondendo ",((Zu=T.author)==null?void 0:Zu.name)||"mensagem"]}),a.jsx("div",{className:"truncate",children:T.type==="text"?T.content:T.type==="image"?"Imagem":T.type==="audio"?"udio":"Anexo"})]}),a.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>y(null),children:"Cancelar"})]}),Tr&&a.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-slate-50 flex items-center gap-3",children:[a.jsx("audio",{src:jt,controls:!0,className:"w-64"}),a.jsx("div",{className:"text-xs text-slate-600",children:"Pr-escuta do udio"}),a.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-3 py-1.5 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:km,children:"Enviar udio"}),a.jsx("button",{type:"button",className:"px-3 py-1.5 rounded border border-slate-300 hover:bg-slate-100",onClick:Sm,children:"Descartar"})]})]}),j.length>0&&a.jsx("div",{className:"px-3 py-2 border-t border-slate-200 bg-white dark:bg-slate-900 flex flex-wrap gap-3 flex-wrap",children:j.map(i=>{var p,g,N;return a.jsxs("div",{className:"flex items-center gap-3 border border-slate-200 dark:border-slate-700 rounded-lg px-2 py-1.5 bg-slate-50 dark:bg-slate-800/50",children:[i.preview?a.jsx("img",{src:i.preview,alt:i.file.name,className:"w-16 h-16 object-cover rounded border border-slate-200 dark:border-slate-600"}):a.jsx("div",{className:"w-16 h-16 flex items-center justify-center rounded border border-dashed border-slate-300 bg-slate-100 dark:bg-slate-700/40 text-[11px] font-semibold text-slate-600 dark:text-slate-200",children:(p=i.file.type)!=null&&p.startsWith("audio")?"udio":(g=i.file.type)!=null&&g.startsWith("Vdeo")?"Vdeo":(N=i.file.type)!=null&&N.includes("pdf")?"PDF":"Arquivo"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"truncate text-xs font-medium text-slate-700 dark:text-slate-200",title:i.file.name,children:i.file.name}),a.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:[((i.file.size||0)/(1024*1024)).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-red-600 text-sm",onClick:()=>Ur(i.id),"aria-label":`Remover anexo ${i.file.name}`,children:"Remover"})]},i.id)})}),a.jsxs("form",{ref:en,onSubmit:ei,className:`chat-composer relative flex flex-col gap-2 p-3 border-t border-slate-200/70 bg-white/90 dark:bg-slate-900/70 backdrop-blur ${o?"":"hidden"}`,children:[a.jsxs("div",{className:"flex w-full items-center gap-2",children:[a.jsx("button",{type:"button",ref:ve,onClick:()=>de?pe(!1):Ka(),title:"Emojis",className:"flex-shrink-0 px-2 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Emojis",children:a.jsx(jy,{className:"w-5 h-5"})}),a.jsxs("button",{type:"button",onClick:()=>{var i;try{tn.current&&(tn.current.value="")}catch{}(i=tn.current)==null||i.click()},title:"Anexar",className:"inline-flex shrink-0 items-center justify-center p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Anexar",style:{fontSize:0},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:a.jsx("path",{d:"M21.44 11.05l-9.19 9.19a5 5 0 11-7.07-7.07l9.19-9.19a3 3 0 114.24 4.24l-9.19 9.19a1 1 0 11-1.41-1.41l8.49-8.49"})}),a.jsx("span",{className:"sr-only",children:"Anexar arquivo"})]}),a.jsx("input",{ref:tn,type:"file",multiple:!0,accept:"*/*",onChange:i=>{const p=Array.from(i.target.files||[]);Cs(p)},className:"hidden"}),a.jsx("textarea",{ref:Xn,value:x,onChange:i=>v(i.target.value),onKeyDown:i=>{i.key==="Enter"&&!i.shiftKey&&!i.altKey&&!i.ctrlKey&&!i.metaKey&&!i.isComposing&&(i.preventDefault(),ei())},onPaste:i=>{var p;try{const g=((p=i.clipboardData)==null?void 0:p.items)||[];for(let N=0;N<g.length;N++){const _=g[N];if(_&&typeof _.type=="string"&&_.type.startsWith("image/")){const k=_.getAsFile();if(k){const B=`paste-${Date.now()}.${(k.type.split("/")[1]||"png").replace(/[^a-z0-9]/gi,"")}`,C=new File([k],B,{type:k.type||"image/png"});Cs([C]),i.preventDefault();break}}}}catch{}},placeholder:"Digite sua mensagem... (Enter envia, Shift+Enter quebra linha)",rows:1,className:"flex-1 min-w-0 border border-slate-300 dark:border-slate-700 rounded-xl px-3 py-3 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 resize-y min-h-[40px]"}),a.jsx("button",{type:"button",onClick:()=>{(x||"").trim()||j.length?ei():m?Nm():jm()},className:`${(x||"").trim()||j.length?"bg-blue-600 text-white hover:bg-blue-700 shadow":m?"bg-red-600 text-white hover:bg-red-700 shadow":"bg-slate-200 text-slate-700 hover:bg-slate-300 shadow"} inline-flex items-center justify-center rounded-full w-10 h-10 flex-shrink-0`,title:(x||"").trim()||j.length?"Enviar":m?"Parar gravao":"Gravar udio",children:(x||"").trim()||j.length?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.31 20.87 22 12 2.31 3.13a.75.75 0 0 0-.98.97L4.7 11.1c.1.25.1.53 0 .78l-3.37 7a.75.75 0 0 0 .98.98Z"})}):m?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 14.5a3.5 3.5 0 0 0 3.5-3.5V7a3.5 3.5 0 1 0-7 0v4a3.5 3.5 0 0 0 3.5 3.5Zm5-3.5a5 5 0 0 1-10 0H5a7 7 0 0 0 6 6.92V20h2v-2.08A7 7 0 0 0 19 11h-2Z"})})})]}),m&&a.jsxs("span",{className:"text-xs text-red-600 inline-flex items-center gap-1","aria-live":"polite",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full"})," ",$,"s"]}),L&&a.jsx("div",{className:"text-sm text-red-600",children:L}),S&&a.jsx("div",{className:"text-sm text-red-600",children:S}),de&&a.jsxs("div",{className:"fixed mb-2 bg-white border border-slate-200 rounded-md p-2 shadow z-50 overflow-y-auto overflow-x-hidden",style:{left:Math.max(4,qe.left),bottom:Math.max(4,qe.bottom||0),width:`${qe.width||360}px`,maxHeight:`${qe.maxHeight||416}px`},children:[a.jsx("button",{type:"button",className:"absolute top-2 right-2 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Fechar",onClick:()=>pe(!1),title:"Fechar",children:a.jsx(wf,{className:"w-4 h-4"})}),!1,!1,a.jsx("div",{ref:Pr,className:"relative max-h-80 overflow-y-auto overflow-x-hidden pr-1",children:Ss.filter(i=>i!=="recent"||Er.length>0).filter(i=>i!=="favoritos"||(bt||[]).length>0).filter(i=>i!=="recent"&&i!=="favoritos"?(bn[i]||[]).length>0:!0).map(i=>{var p;return a.jsxs("div",{children:[a.jsx("div",{ref:Lr(i),className:"sticky top-0 bg-white text-[11px] text-slate-500 mb-1 mt-1",children:i==="recent"?"Recentes":i==="favoritos"?"Favoritos":((p=Ga.find(g=>g.key===i))==null?void 0:p.label)||i}),a.jsx("div",{className:"grid grid-cols-7 sm:grid-cols-8 md:grid-cols-10 gap-1 mb-2",children:(i==="recent"?Er:i==="favoritos"?bt||[]:bn[i]||[]).map(g=>a.jsxs("button",{type:"button",onClick:()=>bm(g),onContextMenu:N=>{N.preventDefault(),Rr(g)},className:`relative inline-flex items-center justify-center w-8 h-8 md:w-9 md:h-9 text-2xl leading-none hover:bg-slate-100 dark:hover:bg-slate-700/60 rounded px-1.5 ${(bt||[]).includes(g)?"bg-yellow-50":""}`,children:[(bt||[]).includes(g)&&a.jsx("span",{className:"absolute -top-0.5 -left-0.5 text-[10px] text-yellow-600",children:""}),g]},`sec-${i}-${g}`))})]},`sec-${i}`)})}),Jn==="recent"&&Er.length===0&&a.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Sem recentes ainda"})]})]})]}),Jo&&a.jsxs("aside",{className:"w-[360px] max-w-sm flex-shrink-0 border-l border-slate-200 bg-white dark:bg-slate-900/70 flex h-full flex-col",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("div",{className:"font-semibold",children:"Detalhes"}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700","aria-label":"Fechar detalhes",onClick:()=>ol(!1),children:""})]}),a.jsx("div",{className:"px-4 pt-2 border-b border-slate-200",children:a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("button",{className:`px-3 py-2 ${st==="perfil"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>Nt("perfil"),children:"Perfil"}),a.jsx("button",{className:`px-3 py-2 ${st==="arquivos"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>Nt("arquivos"),children:"Arquivos"}),a.jsx("button",{className:`px-3 py-2 ${st==="favoritos"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>Nt("favoritos"),children:"Favoritos"})]})}),a.jsx("div",{className:"p-4 space-y-4 overflow-auto flex-1",children:il?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):a.jsxs(a.Fragment,{children:[st==="perfil"&&a.jsx(a.Fragment,{children:As==="contact"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:ge!=null&&ge.avatarUrl?a.jsx("img",{src:It(ge.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500 text-sm",children:"Sem foto"})}),a.jsxs("div",{className:"w-full",children:[a.jsx("div",{className:"text-center font-semibold truncate",children:(ge==null?void 0:ge.name)||"Contato"}),a.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[(ge==null?void 0:ge.email)&&a.jsx("div",{className:"px-3 py-1 rounded bg-slate-50 border border-slate-200 truncate text-center",children:ge.email}),(ge==null?void 0:ge.phone)&&a.jsx("div",{className:"px-3 py-1 rounded bg-slate-50 border border-slate-200 truncate text-center",children:ge.phone})]})]})]}),a.jsxs("div",{className:"mt-3 flex justify-center gap-2",children:[(ge==null?void 0:ge.phone)&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{const i=new URLSearchParams;ge.phone&&i.set("to",ge.phone),ge.name&&i.set("name",ge.name),ge.id&&i.set("id",ge.id),Za(`/telefonia?${i.toString()}`)},children:"Ligar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>Nt("arquivos"),children:"Ver arquivos"})]}),a.jsxs("div",{className:"mt-5",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Grupos em comum"}),dl?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):Fs?a.jsx("div",{className:"text-sm text-red-600",children:Fs}):Ts.filter(i=>((i==null?void 0:i.name)||"").toUpperCase()!=="DM").length>0?a.jsx("ul",{className:"space-y-1",children:Ts.filter(i=>((i==null?void 0:i.name)||"").toUpperCase()!=="DM").map(i=>a.jsx("li",{children:a.jsx("button",{type:"button",className:"w-full text-left px-2 py-1 rounded border border-slate-200 hover:bg-slate-50",onClick:()=>{c({id:i.id,name:i.name})},children:i.name})},i.id))}):a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum grupo em comum."})]})]}):As==="group"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:o!=null&&o.avatarUrl?a.jsx("img",{src:It(o.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500 text-sm",children:"Grupo"})}),a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"text-center font-semibold truncate",children:(o==null?void 0:o.name)||"Grupo"})})]}),a.jsxs("div",{className:"mt-5",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Participantes"}),ar?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):zr?a.jsx("div",{className:"text-sm text-red-600",children:zr}):Ms.length>0?a.jsx("ul",{className:"space-y-1",children:Ms.map(i=>{var p,g,N,_,k;return a.jsxs("li",{className:"flex items-center gap-2 px-2 py-1 rounded border border-slate-200",children:[a.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center shrink-0",children:(p=i.user)!=null&&p.avatarUrl?a.jsx("img",{src:It(i.user.avatarUrl),alt:((g=i.user)==null?void 0:g.name)||"participante",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-[10px] text-slate-500",children:(((N=i.user)==null?void 0:N.name)||"?").slice(0,1).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm truncate",children:((_=i.user)==null?void 0:_.name)||"Participante"}),((k=i.user)==null?void 0:k.email)&&a.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:i.user.email})]}),i.role&&a.jsx("span",{className:"text-[11px] text-slate-500 ml-2",children:i.role})]},i.id)})}):a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum participante."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:Sn?a.jsx("img",{src:URL.createObjectURL(Sn),alt:"avatar",className:"w-full h-full object-cover"}):zt!=null&&zt.avatarUrl?a.jsx("img",{src:It(zt.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500",children:"Sem foto"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-sm text-slate-600",children:"Foto de perfil"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"pfAvatar",type:"file",accept:"image/*",className:"hidden",onChange:i=>{var p;return an(((p=i.target.files)==null?void 0:p[0])||null)}}),a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var i;return(i=document.getElementById("pfAvatar"))==null?void 0:i.click()},children:"Alterar"}),Sn&&a.jsx("button",{type:"button",className:"px-2 py-1 rounded text-red-600 hover:bg-red-50",onClick:()=>an(null),children:"Remover"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Nome"}),a.jsx("input",{value:Bt,onChange:i=>fl(i.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"E-mail"}),a.jsx("input",{value:(zt==null?void 0:zt.email)||"",disabled:!0,className:"w-full border rounded px-3 py-2 bg-slate-50 text-slate-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Telefone"}),a.jsx("input",{value:or,onChange:i=>Bs(i.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Endereo"}),a.jsx("input",{value:ir,onChange:i=>hl(i.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Status"}),a.jsx("input",{value:Br,onChange:i=>Vr(i.target.value),placeholder:"Ex.: Disponvel",className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:Cm,children:"Salvar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{an(null),Ku(void 0,{force:!0})},children:"Cancelar"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-slate-200 space-y-2",children:[a.jsx("div",{className:"font-medium text-sm",children:"Alterar senha"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx("input",{type:"password",value:Vs,onChange:i=>pl(i.target.value),placeholder:"Senha atual",className:"w-full border rounded px-3 py-2"}),a.jsx("input",{type:"password",value:Ws,onChange:i=>ml(i.target.value),placeholder:"Nova senha",className:"w-full border rounded px-3 py-2"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-slate-800 text-white hover:bg-slate-900",onClick:_m,children:"Atualizar senha"})})]})]})]})}),st==="arquivos"&&a.jsxs("div",{className:"space-y-2",children:[u.filter(i=>i.type!=="text"&&!i.deletedAt).map(i=>a.jsxs("div",{className:"flex items-center justify-between border rounded px-3 py-2 text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:i.type==="image"||i.type==="gif"?"Imagem":i.type==="audio"?"udio":"Anexo"}),a.jsx("div",{className:"text-slate-500 truncate max-w-[220px]",children:i.type==="text"?i.content:$r(i.content)||i.content})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsxs("span",{className:"text-[11px] text-slate-500",children:[new Date(i.createdAt).toLocaleDateString("pt-BR")," ",new Date(i.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),a.jsx("a",{className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",href:It(i.content),target:"_blank",rel:"noreferrer",children:"Abrir"})]})]},i.id)),u.filter(i=>i.type!=="text"&&!i.deletedAt).length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum arquivo nesta conversa."})]}),st==="favoritos"&&a.jsxs("div",{className:"space-y-2",children:[F.map(i=>{var p;return a.jsxs("div",{className:"border rounded px-3 py-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium truncate",children:((p=i.author)==null?void 0:p.name)||"Voc"}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:[new Date(i.createdAt).toLocaleDateString("pt-BR")," ",new Date(i.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),a.jsx("div",{className:"mt-1",children:i.type==="text"?i.content:i.type==="image"||i.type==="gif"?"Imagem":i.type==="audio"?"udio":"Anexo"}),a.jsx("div",{className:"mt-1",children:a.jsx("button",{className:"text-[12px] text-red-600 hover:underline",onClick:()=>Yo(i),children:"Remover favorito"})})]},i.id)}),F.length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhuma mensagem favoritada nesta conversa."})]}),Hs&&a.jsx("div",{className:"text-green-600 text-sm",children:Hs}),f&&a.jsx("div",{className:"text-red-600 text-sm",children:f})]})})]})]})}function _y({message:e,mine:t,editingId:n,editText:r,setEditText:s,onStartEdit:l,onSave:o,onCancel:c}){return n===e.id?a.jsxs("div",{children:[a.jsx("textarea",{value:r,onChange:h=>s(h.target.value),className:"w-full border rounded px-2 py-1 text-sm text-slate-800",rows:2}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700",onClick:()=>o(e,r),children:"Salvar"}),a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 text-xs hover:bg-slate-50",onClick:()=>c(),children:"Cancelar"})]})]}):a.jsxs("div",{children:[a.jsx("div",{className:"whitespace-pre-wrap break-words",children:e.content}),e.editedAt&&a.jsx("div",{className:"text-[10px] opacity-70",children:"(editado)"})]})}function $i({read:e,title:t}){const n=e?"#ffffff":"#94a3b8",r=e?"rgba(0,0,0,0.35)":"none",s=2.2,l=e?3.2:0;return a.jsx("span",{title:t,"aria-label":t,className:"inline-flex items-center ml-1",children:a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M7 13l-2 2 3 3 2-2-3-3z",fill:n,opacity:"0.0"}),e&&a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M1.5 13.5l4 4 7-7",stroke:r,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8.5 13.5l4 4 9-9",stroke:r,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round"})]}),a.jsx("path",{d:"M1.5 13.5l4 4 7-7",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8.5 13.5l4 4 9-9",stroke:n,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})]})})}function Mi({url:e,name:t,size:n=28,status:r,showStatus:s=!1}){const[l,o]=d.useState(!1),c={position:"relative",width:n,height:n,display:"inline-block"},u={width:n,height:n,borderRadius:"50%",objectFit:"cover",flexShrink:0,display:"block"},h=(t||"U").trim().slice(0,2).toUpperCase(),x=(()=>{const E=String(r||"").toLowerCase();return E==="online"?"#16a34a":E==="busy"||E==="ocupado"?"#dc2626":E==="away"||E==="ausente"?"#f59e0b":"#94a3b8"})(),v=Math.max(8,Math.floor(n*.32)),j={position:"absolute",right:-1,bottom:-1,width:v,height:v,borderRadius:"50%",background:x,border:"2px solid rgba(255,255,255,0.95)",boxShadow:"0 0 0 1px rgba(15,23,42,0.08)"};return a.jsxs("span",{style:c,children:[e&&!l?a.jsx("img",{src:It(e),alt:t||"avatar",style:u,onError:()=>o(!0)}):a.jsx("div",{style:{...u,background:"#cbd5e1",color:"#334155",display:"grid",placeItems:"center",fontSize:Math.max(10,Math.floor(n*.42)),fontWeight:"bold"},children:h}),s&&a.jsx("span",{style:j})]})}function Ry(){return a.jsx(fm,{})}function Py(){const e=Zn(),t=d.useMemo(()=>new URLSearchParams(e.search),[e.search]),[n,r]=d.useState(t.get("to")||""),[s]=d.useState(t.get("name")||""),[l,o]=d.useState("idle"),[c,u]=d.useState(""),[h,x]=d.useState({loading:!0,data:null,error:""}),[v,j]=d.useState({registered:!1}),[E,L]=d.useState({phase:"idle",reason:""}),[R,T]=d.useState(0),y=d.useRef(null),m=d.useRef(null),w=d.useRef(null);d.useEffect(()=>{(async()=>{try{const A=await q.get("/phone/me");x({loading:!1,data:A,error:""})}catch(A){x({loading:!1,data:null,error:A.message||"Falha ao carregar SIP"})}})()},[]),d.useEffect(()=>{const A=Z=>{var ce;return j({registered:!!((ce=Z==null?void 0:Z.detail)!=null&&ce.registered)})};window.addEventListener("sip:reg",A);try{j({registered:localStorage.getItem("sip_registered")==="1"})}catch{}return()=>window.removeEventListener("sip:reg",A)},[]);function S(){P(),T(0),y.current=setInterval(()=>T(A=>A+1),1e3)}function P(){try{clearInterval(y.current)}catch{}y.current=null}async function $(){u("");const A=String(n||"").replace(/\D/g,"");if(A.length<2){u("Informe um nmero/ramal vlido");return}try{const Z=w.current||py();if(!Z){u("SIP no inicializado/registrado"),o("error");return}w.current=Z,o("calling"),L({phase:"progress",reason:""}),await Z.call(A,{onProgress:()=>L({phase:"progress",reason:""}),onAccepted:()=>{o("in-call"),L({phase:"accepted",reason:""}),S()},onEnded:()=>{o("ended"),L({phase:"ended",reason:""}),P()},onFailed:M=>{var Le;const J=(M==null?void 0:M.response)&&(M.response.status_code||((Le=M.response)==null?void 0:Le.statusCode)),oe=(M==null?void 0:M.cause)||(M==null?void 0:M.message)||"";o("error"),L({phase:"failed",reason:J?`${J} ${oe}`.trim():oe||"Falha SIP"}),P(),u(J?`Falha SIP: ${J} ${oe||""}`.trim():"Falha SIP ou destino ocupado")},onTrack:M=>{try{m.current&&(m.current.srcObject=M)}catch{}}})||o("ended")}catch(Z){u(Z.message||"Falha ao iniciar chamada"),o("error")}}function z(){var A,Z;try{(Z=(A=w.current)==null?void 0:A.hangup)==null||Z.call(A)}catch{}o("ended"),P()}const I=(()=>{var Z,ce,M;return String(n||"").replace(/\D/g,"").length>=2&&!!v.registered&&!!((Z=h==null?void 0:h.data)!=null&&Z.hasPassword&&((ce=h==null?void 0:h.data)!=null&&ce.domain)&&((M=h==null?void 0:h.data)!=null&&M.extension))})();function O(A){var Z,ce;if(l==="in-call"||l==="calling")try{(ce=(Z=w.current)==null?void 0:Z.dtmf)==null||ce.call(Z,A)}catch{}else r(M=>(M||"")+String(A))}return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Telefonia"}),a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"max-w-xl mx-auto bg-white/80 dark:bg-slate-800/70 backdrop-blur border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Discador"}),s&&a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Contato: ",a.jsx("span",{className:"font-medium",children:s})]}),a.jsx("div",{className:"mb-3",children:h.loading?a.jsx("div",{className:"text-xs text-slate-500",children:"Carregando configurao SIP..."}):h.error?a.jsx("div",{className:"p-2 rounded border border-red-300 bg-red-50 text-sm text-red-700",children:h.error}):!h.data||!h.data.hasPassword?a.jsx("div",{className:"p-2 rounded border border-yellow-300 bg-yellow-50 text-sm text-yellow-800",children:"Sua conta SIP ainda no est configurada. Solicite ao administrador para cadastrar domnio, ramal e senha."}):a.jsxs("div",{className:"p-2 rounded border border-green-300 bg-green-50 text-sm text-green-800",children:["Conta SIP configurada: ",a.jsx("span",{className:"font-medium",children:h.data.domain}),"  Ramal ",a.jsx("span",{className:"font-medium",children:h.data.extension})]})}),a.jsxs("div",{className:"mb-2 text-xs text-slate-600",children:["SIP registro: ",v.registered?"registrado":"no registrado"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:n,onChange:A=>r(A.target.value),placeholder:"Nmero/Ramal",className:"flex-1 border rounded px-3 py-2"}),a.jsx("button",{disabled:!I||l==="calling"||l==="in-call",className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",onClick:$,children:"Ligar"}),a.jsx("button",{disabled:!(l==="calling"||l==="in-call"),className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",onClick:z,children:"Desligar"})]}),c&&a.jsx("div",{className:"mt-2 text-sm text-red-600",children:c}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 max-w-xs",children:[["1","2","3","4","5","6","7","8","9","*","0","#"].map(A=>a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>O(A),children:A},A)),a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50 col-span-2",onClick:()=>r(""),children:"Limpar"}),a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>r(A=>String(A||"").slice(0,-1)),children:""})]}),a.jsxs("div",{className:"mt-4 text-xs text-slate-600 dark:text-slate-300",children:["Status: ",l," ",l==="in-call"&&`(${Math.floor(R/60).toString().padStart(2,"0")}:${(R%60).toString().padStart(2,"0")})`]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs mb-1 text-slate-500",children:"udio remoto"}),a.jsx("audio",{ref:m,autoPlay:!0,playsInline:!0})]})]})})]})}function Ly(){const e=Xt(),[t,n]=d.useState([]),[r,s]=d.useState(!0),[l,o]=d.useState(""),[c,u]=d.useState("Reunio"),[h,x]=d.useState(""),[v,j]=d.useState(!0),[E,L]=d.useState(""),[R,T]=d.useState(""),[y,m]=d.useState(""),[w,S]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const O=await q.get("/meetings");n(O)}catch(O){o(O.message||"Falha ao carregar reunies")}finally{s(!1)}})()},[]);async function P(O){var A;(A=O==null?void 0:O.preventDefault)==null||A.call(O),o(""),S(!0);try{const Z=y.split(",").map(oe=>oe.trim()).filter(Boolean).map(oe=>({email:oe})),ce={title:c||"Reunio",description:h||void 0,isInstant:v,scheduledStart:!v&&E?new Date(E).toISOString():void 0,scheduledEnd:!v&&R?new Date(R).toISOString():void 0,participants:Z},M=await q.post("/meetings",ce),J=await q.get("/meetings");n(J),u("Reunio"),x(""),j(!0),L(""),T(""),m(""),M!=null&&M.code&&(M!=null&&M.isInstant)&&e(`/telefonia?to=${M.code}&name=${encodeURIComponent(M.title)}`)}catch(Z){o(Z.message||"Falha ao criar reunio")}finally{S(!1)}}async function $(O){const A=prompt("Informe e-mails separados por vrgula:");if(A)try{const Z=A.split(",").map(M=>M.trim()).filter(Boolean).map(M=>({email:M}));await q.post(`/meetings/${O}/participants`,{participants:Z});const ce=await q.get("/meetings");n(ce)}catch(Z){alert(Z.message||"Falha ao adicionar convidados")}}function z(O,A){e(`/telefonia?to=${O}&name=${encodeURIComponent(A||"Reunio")}`)}function I(O){try{navigator.clipboard.writeText(O),alert("Copiado!")}catch{alert(O)}}return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Reunies"}),a.jsxs("div",{className:"flex-1 p-4 space-y-6",children:[a.jsxs("form",{onSubmit:P,className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Nova reunio"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Ttulo"}),a.jsx("input",{value:c,onChange:O=>u(O.target.value),className:"border rounded px-3 py-2"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm mt-6 md:mt-0",children:[a.jsx("input",{type:"checkbox",checked:v,onChange:O=>j(O.target.checked)}),"Instantnea"]}),!v&&a.jsxs(a.Fragment,{children:[a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Incio"}),a.jsx("input",{type:"datetime-local",value:E,onChange:O=>L(O.target.value),className:"border rounded px-3 py-2"})]}),a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Fim"}),a.jsx("input",{type:"datetime-local",value:R,onChange:O=>T(O.target.value),className:"border rounded px-3 py-2"})]})]}),a.jsxs("label",{className:"md:col-span-2 flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Descrio (opcional)"}),a.jsx("textarea",{value:h,onChange:O=>x(O.target.value),className:"border rounded px-3 py-2",rows:2})]}),a.jsxs("label",{className:"md:col-span-2 flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Convidados (e-mails, separados por vrgula)"}),a.jsx("input",{value:y,onChange:O=>m(O.target.value),className:"border rounded px-3 py-2",placeholder:"exemplo@dominio.com, outro@dominio.com"})]})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{type:"submit",disabled:w,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:w?"Criando...":"Criar"}),l&&a.jsx("span",{className:"text-sm text-red-600",children:l})]})]}),a.jsxs("div",{className:"max-w-4xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Minhas reunies"}),r?a.jsx("div",{className:"text-sm text-slate-600",children:"Carregando..."}):t.length===0?a.jsx("div",{className:"text-sm text-slate-600",children:"Nenhuma reunio encontrada"}):a.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:t.map(O=>a.jsxs("li",{className:"py-3 flex items-center gap-3 justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"font-medium truncate",children:[O.title," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["#",O.code]})]}),a.jsxs("div",{className:"text-xs text-slate-500 truncate",children:[O.isInstant?"Instantnea":"Agendada",O.scheduledStart?`  ${new Date(O.scheduledStart).toLocaleString()}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>z(O.code,O.title),children:"Entrar"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>$(O.id),children:"Convidar"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>e(`/reunioes/${O.id}`),children:"Detalhes"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>I(O.code),children:"Copiar cdigo"})]})]},O.id))})]})]})]})}function Ay(){const{id:e}=Vp(),t=Xt(),[n,r]=d.useState(null),[s,l]=d.useState(""),[o,c]=d.useState(!0);d.useEffect(()=>{(async()=>{try{const x=await q.get(`/meetings/${e}`);r(x)}catch(x){l(x.message||"Falha ao carregar")}finally{c(!1)}})()},[e]);function u(x){try{navigator.clipboard.writeText(x)}catch{}}async function h(){const x=prompt("Informe e-mails separados por vrgula:");if(x)try{const v=x.split(",").map(E=>E.trim()).filter(Boolean).map(E=>({email:E}));await q.post(`/meetings/${e}/participants`,{participants:v});const j=await q.get(`/meetings/${e}`);r(j)}catch(v){alert(v.message||"Falha ao adicionar")}}return o?a.jsx("div",{className:"p-4",children:"Carregando..."}):s?a.jsx("div",{className:"p-4 text-red-600",children:s}):n?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Detalhes da reunio"}),a.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[a.jsxs("div",{className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsxs("div",{className:"text-xl font-semibold",children:[n.title," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["#",n.code]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:[n.isInstant?"Instantnea":"Agendada",n.scheduledStart?`  ${new Date(n.scheduledStart).toLocaleString()}`:""]}),n.description&&a.jsx("div",{className:"mt-2 text-sm",children:n.description}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:()=>t(`/telefonia?to=${n.code}&name=${encodeURIComponent(n.title)}`),children:"Entrar"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:()=>u(n.code),children:"Copiar cdigo"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:h,children:"Convidar"})]})]}),a.jsxs("div",{className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Participantes"}),a.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:n.participants.map(x=>a.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:x.name||x.email}),a.jsx("div",{className:"text-xs text-slate-500",children:x.email})]}),a.jsx("div",{className:"flex items-center gap-2",children:x.inviteToken&&a.jsx("button",{className:"px-2 py-1 text-xs rounded border border-slate-300 dark:border-slate-600",onClick:()=>u(`${window.location.origin}/join/${x.inviteToken}`),children:"Copiar link"})})]},x.id))})]})]})]}):a.jsx("div",{className:"p-4",children:"No encontrado"})}const Iy="http://localhost:3001/api";async function Ty(e){const t=await fetch(e);if(!t.ok)throw new Error(await t.text());return t.json()}function Oy(){const{token:e}=Vp();Xt();const[t,n]=d.useState(null),[r,s]=d.useState("");if(d.useEffect(()=>{(async()=>{try{const u=await Ty(`${Iy}/meetings/invite/${e}`);n(u)}catch(u){s(u.message||"Convite invlido")}})()},[e]),r)return a.jsxs("div",{className:"p-6 max-w-xl mx-auto text-center",children:[a.jsx("div",{className:"text-xl font-semibold mb-2",children:"Convite invlido"}),a.jsx("div",{className:"text-slate-600",children:String(r)})]});if(!t)return a.jsx("div",{className:"p-6 max-w-xl mx-auto text-center",children:"Carregando..."});const{meeting:l,participant:o}=t,c=`/telefonia?to=${l.code}&name=${encodeURIComponent(l.title)}`;return a.jsx("div",{className:"p-6 max-w-xl mx-auto",children:a.jsxs("div",{className:"bg-white/80 border border-slate-200 rounded-xl p-6 shadow-sm",children:[a.jsx("div",{className:"text-xl font-semibold",children:"Convite para reunio"}),a.jsx("div",{className:"mt-2 text-slate-700",children:l.title}),l.scheduledStart&&a.jsx("div",{className:"text-sm text-slate-500",children:new Date(l.scheduledStart).toLocaleString()}),a.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Convidado: ",o.name||o.email||"Convidado"]}),a.jsxs("div",{className:"mt-6 flex gap-3",children:[a.jsx("a",{href:c,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Abrir no app"}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l.code).then(()=>alert("Cdigo copiado"))},className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",children:"Copiar cdigo"})]}),a.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Se necessrio, faa login para entrar."})]})})}function Uy(){const e=Xt(),[t,n]=d.useState([]),[r,s]=d.useState(""),[l,o]=d.useState(!0),[c,u]=d.useState("");d.useEffect(()=>{(async()=>{try{const x=await q.get("/users/all");n(x)}catch(x){u(x.message||"Falha ao carregar contatos")}finally{o(!1)}})()},[]);const h=t.filter(x=>(x.name+" "+(x.email||"")).toLowerCase().includes(r.toLowerCase()));return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Contatos"}),a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto bg-white/80 dark:bg-slate-800/70 backdrop-blur border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("input",{value:r,onChange:x=>s(x.target.value),placeholder:"Buscar por nome ou e-mail",className:"flex-1 border rounded px-3 py-2"})}),l?a.jsx("div",{className:"text-sm text-slate-600",children:"Carregando..."}):c?a.jsx("div",{className:"text-sm text-red-600",children:c}):a.jsxs("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:[h.map(x=>a.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.avatarUrl?a.jsx("img",{src:It(x.avatarUrl),alt:x.name,className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:x.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:x.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[x.phone&&a.jsx("span",{className:"text-xs text-slate-500 hidden md:inline",children:x.phone}),a.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700/60",onClick:()=>{const v=new URLSearchParams;x.phone&&v.set("to",x.phone),v.set("name",x.name),v.set("id",x.id),e(`/telefonia?${v.toString()}`)},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.25 6.75c0-1.24 1.01-2.25 2.25-2.25h3c.97 0 1.8.62 2.1 1.54l.86 2.58a2.25 2.25 0 0 1-.57 2.31l-1.21 1.21a12.06 12.06 0 0 0 4.88 4.88l1.21-1.21a2.25 2.25 0  1  2.31-.57l2.58.86c.92.3 1.54 1.13 1.54 2.1v3c0 1.24-1.01 2.25-2.25 2.25H18c-8.28 0-15-6.72-15-15v-3Z"})}),"Ligar"]})]})]},x.id)),h.length===0&&a.jsx("li",{className:"py-6 text-sm text-slate-500 text-center",children:"Nenhum contato encontrado"})]})]})})]})}function Fy(){const e=ds(),[t,n]=d.useState("usuarios"),[r,s]=d.useState(""),[l,o]=d.useState([]),[c,u]=d.useState(""),[h,x]=d.useState(""),[v,j]=d.useState(""),[E,L]=d.useState(""),[R,T]=d.useState(""),[y,m]=d.useState(!1),[w,S]=d.useState(""),[P,$]=d.useState(null),[z,I]=d.useState(!1),[O,A]=d.useState(""),[Z,ce]=d.useState(""),M=f=>(f||"").replace(/\D/g,""),J=f=>{const b=M(f).slice(0,11);return b.length<=2?b:b.length<=6?`(${b.slice(0,2)}) ${b.slice(2)}`:b.length===10?`(${b.slice(0,2)}) ${b.slice(2,6)}-${b.slice(6)}`:b.length>=11?`(${b.slice(0,2)}) ${b.slice(2,7)}-${b.slice(7)}`:b},[oe,Le]=d.useState([]),[yt,V]=d.useState(""),[D,Y]=d.useState(null),[te,he]=d.useState([]),[H,re]=d.useState(""),[je,de]=d.useState(!1),[pe,ve]=d.useState(""),[qe,rt]=d.useState([]),[en,Ka]=d.useState(!1),[se,wt]=d.useState(null),[wn,bn]=d.useState(""),[Ga,Jn]=d.useState(!1),[Sr,Er]=d.useState(null);function G(f,b="info",F=3e3){Er({message:f,type:b});try{F&&setTimeout(()=>Er(null),F)}catch{}}const[Cr,Yn]=d.useState(""),[bt,_r]=d.useState(""),[Rr,Pr]=d.useState(""),[ut,Lr]=d.useState(""),[Ss,Xn]=d.useState([]),[tn,nn]=d.useState(null),[Ar,Ir]=d.useState(""),[er,tr]=d.useState(!1),[X,Za]=d.useState(""),Tr=d.useRef(null),jn=d.useRef(null),[jt,Ja]=d.useState(()=>{try{return localStorage.getItem("chat_bg")||"default"}catch{return"default"}}),[Or,nr]=d.useState(""),[Nn,Es]=d.useState(""),[Ya,Cs]=d.useState("");function Ur(f,b){if(!(typeof window>"u"))try{const F=Array.isArray(f)?f:[];if(b){const K=F.find(ne=>ne.id===b);if(K!=null&&K.url){localStorage.setItem("notif_sound_url",K.url),window.dispatchEvent(new Event("chat:alertSoundUpdated"));return}}localStorage.removeItem("notif_sound_url"),window.dispatchEvent(new Event("chat:alertSoundUpdated"))}catch{}}async function Qo({silent:f}={}){try{const b=await q.get("/admin/config");Pr((b==null?void 0:b.chatIconUrl)||""),Lr((b==null?void 0:b.chatWallpaperUrl)||"");const F=Array.isArray(b==null?void 0:b.alertSounds)?b.alertSounds:[];Xn(F),nn((b==null?void 0:b.activeAlertSoundId)||null),Ur(F,(b==null?void 0:b.activeAlertSoundId)||null)}catch(b){f||G(b.message||"Falha ao carregar configuraes","error")}}d.useEffect(()=>{try{const f=localStorage.getItem("chat_icon");f&&(Yn(f.startsWith("data:")?f:""),_r(f.startsWith("data:")?"":f))}catch{}(async()=>{try{const f=await(await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/public")).json();f!=null&&f.chatIconUrl&&Pr(f.chatIconUrl),f!=null&&f.chatWallpaperUrl&&Lr(f.chatWallpaperUrl)}catch{}})(),(async()=>{try{await Qo({silent:!0})}catch{}})()},[]);function Ko(f){var K;const b=(K=f.target.files)==null?void 0:K[0];if(!b)return;if(!b.type.startsWith("image/")){G("Selecione uma imagem","error");return}const F=new FileReader;F.onload=()=>{Yn(String(F.result)),_r("")},F.readAsDataURL(b)}function rr(f){var b,F,K;(b=f==null?void 0:f.preventDefault)==null||b.call(f);try{const ne=(bt==null?void 0:bt.trim())||Cr;if(!ne){G("Defina uma imagem ou URL","error");return}localStorage.setItem("chat_icon",ne);try{window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}try{localStorage.setItem("chat_bg",jt||"default"),(K=(F=document.body)==null?void 0:F.setAttribute)==null||K.call(F,"data-chat-bg",jt||"default"),window.dispatchEvent(new Event("chat:bgUpdated"))}catch{}G("Configuraes salvas","success")}catch{G("Falha ao salvar configuraes","error")}}async function Go(f){if(!f)return;const b=new FormData;b.append("icon",f);try{const F=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/icon",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:b});if(!F.ok){const ne=await F.text();throw new Error(ne||"Falha no upload")}const K=await F.json();if(K!=null&&K.chatIconUrl){Pr(K.chatIconUrl),G("cone global atualizado","success");try{localStorage.setItem("chat_icon",K.chatIconUrl),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}}}catch(F){G(F.message||"Falha ao enviar cone","error")}}async function _s(f){if(!f)return;const b=new FormData;b.append("wallpaper",f);try{const F=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/wallpaper",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:b});if(!F.ok){const ne=await F.text();throw new Error(ne||"Falha no upload")}const K=await F.json();if(K!=null&&K.chatWallpaperUrl){Lr(K.chatWallpaperUrl),document.documentElement.style.setProperty("--chat-wallpaper",`url('${K.chatWallpaperUrl}')`);try{localStorage.setItem("chat_wallpaper",K.chatWallpaperUrl),window.dispatchEvent(new Event("chat:wallpaperUpdated"))}catch{}G("Papel de parede global atualizado","success")}}catch(F){G(F.message||"Falha ao enviar papel de parede","error")}}async function Xa(){try{if(!ut){G("Nenhum papel de parede para salvar","error");return}const f=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({chatWallpaperUrl:ut})});if(!f.ok){const b=await f.text();throw new Error(b||"Falha ao salvar")}G("Papel de parede salvo para todos","success")}catch(f){G(f.message||"Falha ao salvar papel de parede","error")}}async function el(){try{if(!(typeof window<"u"?window.confirm("Excluir papel de parede global?"):!0))return;const b=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/wallpaper",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!b.ok){const F=await b.text();throw new Error(F||"Falha ao excluir")}Lr("");try{localStorage.removeItem("chat_wallpaper"),document.documentElement.style.removeProperty("--chat-wallpaper"),window.dispatchEvent(new Event("chat:wallpaperUpdated"))}catch{}G("Papel de parede global excludo","success")}catch(f){G(f.message||"Falha ao excluir papel de parede","error")}}function Fr(){var f,b;try{(b=(f=Tr.current)==null?void 0:f.click)==null||b.call(f)}catch{}}async function rn(f){var F,K;const b=(K=(F=f==null?void 0:f.target)==null?void 0:F.files)==null?void 0:K[0];if(b){if(b.type&&!b.type.startsWith("audio/")){G("Selecione um arquivo de udio","error"),f!=null&&f.target&&(f.target.value="");return}tr(!0);try{const ne=new FormData;ne.append("sound",b);const Fe=(Ar||"").trim();Fe&&ne.append("name",Fe);const Ee=await q.upload("/admin/config/alert-sounds",ne),qs=Array.isArray(Ee==null?void 0:Ee.alertSounds)?Ee.alertSounds:[];Xn(qs),nn((Ee==null?void 0:Ee.activeAlertSoundId)||null),Ur(qs,(Ee==null?void 0:Ee.activeAlertSoundId)||null),Fe&&Ir(""),G("Som enviado","success")}catch(ne){G(ne.message||"Falha ao enviar som","error")}finally{tr(!1),f!=null&&f.target&&(f.target.value="")}}}async function tl(f){try{const b=await q.post(`/admin/config/alert-sounds/${f||"none"}/activate`,{}),F=Array.isArray(b==null?void 0:b.alertSounds)?b.alertSounds:[];Xn(F),nn((b==null?void 0:b.activeAlertSoundId)||null),Ur(F,(b==null?void 0:b.activeAlertSoundId)||null),G(f?"Som de alerta atualizado":"Bip padro ativado","success")}catch(b){G(b.message||"Falha ao atualizar som de alerta","error")}}async function nl(f){if(f)try{if(typeof window<"u"&&!window.confirm("Excluir este som de alerta?"))return;Za(f);const b=await q.del(`/admin/config/alert-sounds/${f}`),F=Array.isArray(b==null?void 0:b.alertSounds)?b.alertSounds:[];Xn(F),nn((b==null?void 0:b.activeAlertSoundId)||null),Ur(F,(b==null?void 0:b.activeAlertSoundId)||null),G("Som excludo","success")}catch(b){G(b.message||"Falha ao excluir som","error")}finally{Za("")}}function Zo(f){var b,F;if(!f){G("Som indisponvel","error");return}try{(F=(b=jn.current)==null?void 0:b.pause)==null||F.call(b),jn.current=new Audio(f),jn.current.onended=()=>{jn.current=null},jn.current.play().catch(()=>{G("No foi possvel reproduzir o som","error")})}catch{G("No foi possvel reproduzir o som","error")}}async function rl(f){var b;(b=f==null?void 0:f.preventDefault)==null||b.call(f);try{const F=(Or||"").trim(),K=(Nn||"").trim(),ne=(Ya||"").trim();if(!F){G("Informe a senha atual","error");return}if(K.length<6){G("Nova senha deve ter 6+ caracteres","error");return}if(K!==ne){G("Confirmao no confere","error");return}await q.post("/users/me/password",{current:F,password:K}),nr(""),Es(""),Cs(""),G("Senha do admin alterada","success")}catch(F){G(F.message||"Falha ao alterar senha","error")}}d.useEffect(()=>{(async()=>{try{const f=await q.get("/users");o(Array.isArray(f)?f:[])}catch(f){s(b=>b?b+"  Usurios: "+(f.message||"falha"):"Usurios: "+(f.message||"falha"))}})()},[]),d.useEffect(()=>{(async()=>{try{const f=await q.get("/groups/all?includeDMs=false");Le(Array.isArray(f)?f:[])}catch(f){s(b=>b?b+"  Grupos: "+(f.message||"falha"):"Grupos: "+(f.message||"falha"))}})()},[]);const Rs=d.useMemo(()=>{const f=w.trim().toLowerCase();return f?l.filter(b=>`${b.name} ${b.email}`.toLowerCase().includes(f)):l},[l,w]),Ps=d.useMemo(()=>l.filter(f=>!te.some(b=>b.userId===f.id)),[l,te]),$r=d.useMemo(()=>{const f=H.trim().toLowerCase();return f?Ps.filter(b=>`${b.name} ${b.email}`.toLowerCase().includes(f)):Ps},[Ps,H]);async function Ls(){try{const f=await q.get("/users");o(Array.isArray(f)?f:[])}catch{}}async function sl(f){var Fe;(Fe=f==null?void 0:f.preventDefault)==null||Fe.call(f),s("");const b=J(E),F=M(b),K=(R||"").trim();if(F&&(F.length<10||F.length>11))return s("Telefone invlido (use DDD + nmero).");const ne={name:c.trim(),email:h.trim(),password:v,isAdmin:!!y,phone:F?b:null,address:K||null};if(!ne.name||ne.name.length<2)return s("Informe um nome vlido.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(ne.email))return s("E-mail invlido.");if(!ne.password||ne.password.length<6)return s("Senha com 6+ caracteres.");try{await q.post("/users",ne),await Ls(),u(""),x(""),j(""),L(""),T(""),m(!1)}catch(Ee){s(Ee.message||"Falha ao criar usurio")}}function sn(f){$({...f}),A("")}function Mr(){z||($(null),A(""))}async function kn(f){var b;if((b=f==null?void 0:f.preventDefault)==null||b.call(f),!!P){I(!0),s("");try{const F=J(P.phone||""),K=M(F);if(K&&(K.length<10||K.length>11))throw new Error("Telefone invlido (use DDD + nmero).");const ne={name:(P.name||"").trim(),email:(P.email||"").trim(),phone:K?F:null,address:(P.address||"").trim()||null,isAdmin:!!P.isAdmin,isBlocked:!!P.isBlocked};if(await q.patch(`/users/${P.id}`,ne),O&&O.trim().length>=6)if(e!=null&&e.id&&P.id===e.id){if(!Z.trim())throw new Error("Informe a senha atual para alterar a sua senha.");await q.post("/users/me/password",{current:Z.trim(),password:O.trim()})}else await q.post(`/users/${P.id}/password`,{password:O.trim()});await Ls(),Mr()}catch(F){s(F.message||"Falha ao salvar usurio")}finally{I(!1)}}}async function al(f){if(confirm("Excluir este usurio?"))try{await q.del(`/users/${f}`),o(b=>b.filter(F=>F.id!==f)),G("Usurio excludo","success")}catch(b){G(b.message||"Falha ao excluir","error")}}function ll(f){wt(f.id),bn("")}function sr(){wt(null),bn("")}async function Jo(){if(!(!se||!wn)){Jn(!0);try{await q.post(`/groups/${wn}/members`,{userId:se}),(D==null?void 0:D.id)===wn&&await an(),sr(),G("Usurio adicionado ao grupo","success")}catch(f){G(f.message||"Falha ao adicionar ao grupo","error")}finally{Jn(!1)}}}async function ol(f){var F;(F=f==null?void 0:f.preventDefault)==null||F.call(f),s("");const b=(yt||"").trim();if(b.length<2)return s("Informe um nome de grupo com 2+ caracteres.");try{await q.post("/groups",{name:b});const K=await q.get("/groups/all?includeDMs=false");Le(Array.isArray(K)?K:[]),V("")}catch(K){s(K.message||"Falha ao criar grupo")}}const[il,Dr]=d.useState([]),[As,Is]=d.useState(""),[zt,cl]=d.useState(!1),[ge,ul]=d.useState(""),[Ts,Os]=d.useState(""),[dl,Us]=d.useState(""),[Fs,$s]=d.useState(""),[Ms,Ds]=d.useState(""),[ar,lr]=d.useState(!1),[zr,zs]=d.useState(null),[st,Nt]=d.useState({domain:"",extension:"",password:""});async function Bt(){cl(!0),ul("");try{const f=await q.get("/phone");Dr(Array.isArray(f)?f:[])}catch(f){ul(f.message||"Falha ao carregar contas SIP")}finally{cl(!1)}}d.useEffect(()=>{(async()=>{try{await Bt()}catch{}})()},[]);async function fl(f){var b;(b=f==null?void 0:f.preventDefault)==null||b.call(f),lr(!0);try{const F=(Ts||"").trim(),K=(dl||"").trim(),ne=(Fs||"").trim(),Fe=(Ms||"").trim();if(!F||!K||!ne){G("Informe usurio, domnio e ramal.","error");return}await q.patch(`/phone/${F}`,{domain:K,extension:ne,...Fe?{password:Fe}:{}}),await Bt(),Os(""),Us(""),$s(""),Ds(""),G("Conta SIP salva","success")}catch(F){G(F.message||"Falha ao salvar conta SIP","error")}finally{lr(!1)}}function or(f){zs(f.user.id),Nt({domain:f.domain||"",extension:f.extension||"",password:""})}function Bs(){zs(null),Nt({domain:"",extension:"",password:""})}async function ir(){if(zr){lr(!0);try{const f={domain:(st.domain||"").trim(),extension:(st.extension||"").trim()};if(!f.domain||!f.extension){G("Domnio e ramal so obrigatrios.","error");return}(st.password||"").trim()&&(f.password=(st.password||"").trim()),await q.patch(`/phone/${zr}`,f),await Bt(),Bs(),G("Conta SIP atualizada","success")}catch(f){G(f.message||"Falha ao atualizar conta SIP","error")}finally{lr(!1)}}}async function hl(f){try{await q.post(`/phone/${f}/disconnect`,{}),await Bt(),G("Desconectado","success")}catch(b){G(b.message||"Falha ao desconectar","error")}}async function Br(f){try{if(typeof window<"u"&&!window.confirm("Excluir ramal/conta SIP deste usurio?"))return;await q.delete(`/phone/${f}`),await Bt(),G("Ramal excludo","success")}catch(b){G(b.message||"Falha ao excluir ramal","error")}}async function Vr(f){Y(f),re(""),ve(""),rt([]);try{const b=await q.get(`/groups/${f.id}/members`);he(Array.isArray(b)?b:[])}catch(b){he([]),s(b.message||"Falha ao carregar membros")}}async function Sn(f){if(f)try{if((D==null?void 0:D.id)===f){if(te.length>0){G("Remova todos os membros antes de excluir o grupo.","error");return}}else try{const b=await q.get(`/groups/${f}/members`);if(Array.isArray(b)&&b.length>0){G("Remova todos os membros antes de excluir o grupo.","error");return}}catch{}if(typeof window<"u"&&!window.confirm("Excluir este grupo? Esta ao no pode ser desfeita."))return;await q.delete(`/groups/${f}`),Le(b=>b.filter(F=>F.id!==f)),(D==null?void 0:D.id)===f&&(Y(null),he([])),G("Grupo excludo","success")}catch(b){G(b.message||"Falha ao excluir grupo","error")}}async function an(){if(D)try{const f=await q.get(`/groups/${D.id}/members`);he(Array.isArray(f)?f:[])}catch{}}async function Vs(){if(!(!D||!pe)){de(!0);try{await q.post(`/groups/${D.id}/members`,{userId:pe}),ve(""),await an()}catch(f){G(f.message||"Falha ao adicionar membro","error")}finally{de(!1)}}}async function pl(f){if(D)try{await q.delete(`/groups/${D.id}/members/${f}`),he(b=>b.filter(F=>F.userId!==f))}catch(b){G(b.message||"Falha ao remover","error")}}function Ws(f){rt(b=>b.includes(f)?b.filter(F=>F!==f):[...b,f])}function ml(){rt(te.map(f=>f.userId))}function Hs(){rt([])}async function ln(){if(!(!D||!qe.length)&&!(typeof window<"u"&&!window.confirm(`Remover ${qe.length} membro(s) de ${D.name}?`))){Ka(!0);try{const f=qe.map(ne=>q.delete(`/groups/${D.id}/members/${ne}`)),b=await Promise.allSettled(f),F=b.filter(ne=>ne.status==="fulfilled").length,K=b.length-F;F&&await an(),Hs(),K?G(`Removidos: ${F}. Falhas: ${K}.`,"error"):G(`Removidos: ${F}.`,"success")}catch(f){G(f.message||"Falha ao remover seleo","error")}finally{Ka(!1)}}}return a.jsxs("div",{className:"p-4 overflow-auto h-full",children:[Sr&&a.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-2 rounded shadow border text-sm ${Sr.type==="success"?"bg-green-50 text-green-800 border-green-200":Sr.type==="error"?"bg-red-50 text-red-800 border-red-200":"bg-slate-50 text-slate-800 border-slate-200"}`,children:Sr.message}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Admin"}),a.jsx("div",{className:"mt-3 border-b border-slate-200",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>n("usuarios"),className:`px-2 py-2 -mb-px border-b-2 ${t==="usuarios"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Usurios"}),a.jsx("button",{onClick:()=>n("grupos"),className:`px-2 py-2 -mb-px border-b-2 ${t==="grupos"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Grupos"}),a.jsx("button",{onClick:()=>n("telefonia"),className:`px-2 py-2 -mb-px border-b-2 ${t==="telefonia"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Telefonia"}),a.jsx("button",{onClick:()=>n("configuracoes"),className:`px-2 py-2 -mb-px border-b-2 ${t==="configuracoes"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Configuraes"})]})}),r&&a.jsx("div",{className:"mt-3 rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2",children:r}),t==="usuarios"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("form",{onSubmit:sl,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2",children:[a.jsx("h4",{className:"font-medium",children:"Novo Usurio"}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:c,onChange:f=>u(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"E-mail",value:h,onChange:f=>x(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Telefone (opcional)",value:E,onChange:f=>L(J(f.target.value))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Endereo (opcional)",value:R,onChange:f=>T(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha",type:"password",value:v,onChange:f=>j(f.target.value)}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:y,onChange:f=>m(f.target.checked)})," Admin"]}),a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Criar"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Lista"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Buscar...",value:w,onChange:f=>S(f.target.value)}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:Ls,children:"Atualizar"})]})]}),Rs.length?a.jsx("ul",{className:"mt-2 divide-y divide-slate-200",children:Rs.map(f=>a.jsxs("li",{className:"py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:f.email}),a.jsxs("div",{className:"text-xs text-slate-500",children:[f.isAdmin?"admin":"",f.isBlocked?(f.isAdmin?"  ":"")+"bloqueado":""]})]}),a.jsxs("div",{className:"shrink-0 flex items-center gap-3",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>sn(f),children:"Editar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>al(f.id),children:"Excluir"}),a.jsx("div",{className:"relative inline-block",children:se===f.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:wn,onChange:b=>bn(b.target.value),children:[a.jsx("option",{value:"",children:"Escolha o grupo"}),oe.map(b=>a.jsx("option",{value:b.id,children:b.name},b.id))]}),a.jsx("button",{className:"px-2 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",disabled:!wn||Ga,onClick:Jo,children:Ga?"Adicionando...":"Adicionar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border",onClick:sr,children:"Cancelar"})]}):a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-slate-300 text-slate-700 hover:bg-slate-50",onClick:()=>ll(f),children:"Adicionar ao grupo"})})]})]},f.id))}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum usurio encontrado."})]})]}),t==="grupos"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("form",{onSubmit:ol,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2",children:[a.jsx("h4",{className:"font-medium",children:"Novo Grupo"}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome do grupo",value:yt,onChange:f=>V(f.target.value)}),a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Criar"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Lista"}),a.jsxs("div",{className:"text-xs text-slate-500",children:[oe.length," grupo(s)"]})]}),oe.length?a.jsx("ul",{className:"mt-2 space-y-1",children:oe.map(f=>a.jsx("li",{className:`px-2 py-1 rounded border cursor-pointer ${(D==null?void 0:D.id)===f.id?"border-blue-400 bg-blue-50":"border-slate-200 hover:bg-slate-50"}`,onClick:()=>Vr(f),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:f.name}),(()=>{const b=(D==null?void 0:D.id)===f.id&&te.length>0;return a.jsx("button",{type:"button",className:`px-2 py-1 text-sm rounded border ml-3 border-red-300 text-red-700 ${b?"opacity-50 cursor-not-allowed":"hover:bg-red-50"}`,disabled:b,title:b?"Remova todos os membros antes de excluir":"Excluir",onClick:F=>{F.stopPropagation(),b||Sn(f.id)},children:"Excluir"})})()]})},f.id))}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum grupo encontrado."})]}),D&&a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Membros  ",D.name]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`text-xs rounded border px-2 py-1 border-red-300 text-red-700 ${te.length>0?"opacity-50 cursor-not-allowed":"hover:bg-red-50"}`,disabled:te.length>0,title:te.length>0?"Remova todos os membros antes de excluir":"Excluir grupo",onClick:()=>{te.length===0&&Sn(D.id)},children:"Excluir grupo"}),a.jsx("button",{type:"button",className:"text-xs rounded border px-2 py-1 hover:bg-slate-50",onClick:ml,children:"Selecionar todos"}),a.jsx("button",{type:"button",className:"text-xs rounded border px-2 py-1 hover:bg-slate-50",onClick:Hs,children:"Limpar seleo"}),a.jsx("button",{type:"button",className:"text-xs rounded bg-red-600 text-white px-2 py-1 disabled:opacity-60",disabled:!qe.length||en,onClick:ln,children:en?"Removendo...":"Remover seleo"}),a.jsx("button",{type:"button",className:"text-xs text-slate-600 underline",onClick:an,children:"Atualizar"})]})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm flex-1",placeholder:"Buscar usurio...",value:H,onChange:f=>re(f.target.value)}),a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:pe,onChange:f=>ve(f.target.value),children:[a.jsx("option",{value:"",children:"Selecionar usurio"}),$r.map(f=>a.jsxs("option",{value:f.id,children:[f.name,"  ",f.email]},f.id))]}),a.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",disabled:!pe||je,onClick:Vs,children:je?"Adicionando...":"Adicionar"})]}),te.length?a.jsx("ul",{className:"mt-3 divide-y divide-slate-200",children:te.map(f=>{var b,F;return a.jsxs("li",{className:"py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:qe.includes(f.userId),onChange:()=>Ws(f.userId)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium truncate",children:((b=f.user)==null?void 0:b.name)||f.userId}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(F=f.user)==null?void 0:F.email})]})]}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>pl(f.userId),children:"Remover"})]},f.userId)})}):a.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Sem membros ainda."})]})]}),t==="telefonia"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[a.jsxs("form",{onSubmit:fl,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2 md:col-span-1",children:[a.jsx("h4",{className:"font-medium",children:"Nova/Atualizar conta SIP"}),a.jsxs("select",{className:"border rounded px-3 py-2",value:Ts,onChange:f=>Os(f.target.value),children:[a.jsx("option",{value:"",children:"Selecione o usurio"}),l.map(f=>a.jsxs("option",{value:f.id,children:[f.name,"  ",f.email]},f.id))]}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Domnio (ex.: sip.empresa.com)",value:dl,onChange:f=>Us(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Ramal/Extenso",value:Fs,onChange:f=>$s(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha (opcional para manter)",type:"password",value:Ms,onChange:f=>Ds(f.target.value)}),a.jsx("button",{disabled:ar,className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700 disabled:opacity-60",children:ar?"Salvando...":"Salvar conta SIP"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Contas SIP"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm w-64 shrink-0",placeholder:"Buscar por nome, e-mail, ramal, domnio",value:As,onChange:f=>Is(f.target.value)}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:Bt,children:"Atualizar"})]})]}),ge&&a.jsx("div",{className:"mt-2 rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2 text-sm",children:ge}),zt?a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Carregando..."}):il.length?a.jsx("ul",{className:"mt-2 divide-y divide-slate-200",children:il.filter(f=>{var K,ne;const b=As.trim().toLowerCase();return b?`${((K=f.user)==null?void 0:K.name)||""} ${((ne=f.user)==null?void 0:ne.email)||""} ${f.extension||""} ${f.domain||""}`.toLowerCase().includes(b):!0}).map(f=>{var b,F,K,ne;return a.jsx("li",{className:"py-2",children:zr===f.user.id?a.jsxs("div",{className:"grid md:grid-cols-6 gap-2 items-center",children:[a.jsxs("div",{className:"md:col-span-2 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:(b=f.user)==null?void 0:b.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(F=f.user)==null?void 0:F.email})]}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Domnio",value:st.domain,onChange:Fe=>Nt(Ee=>({...Ee,domain:Fe.target.value}))}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Ramal",value:st.extension,onChange:Fe=>Nt(Ee=>({...Ee,extension:Fe.target.value}))}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Senha (opcional)",type:"password",value:st.password,onChange:Fe=>Nt(Ee=>({...Ee,password:Fe.target.value}))}),a.jsxs("div",{className:"flex items-center gap-2 justify-end whitespace-nowrap",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border",onClick:Bs,disabled:ar,children:"Cancelar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",onClick:ir,disabled:ar,children:"Salvar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>Br(f.user.id),disabled:ar,children:"Excluir"})]})]}):a.jsxs("div",{className:"grid md:grid-cols-6 gap-2 items-center",children:[a.jsxs("div",{className:"md:col-span-2 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:(K=f.user)==null?void 0:K.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(ne=f.user)==null?void 0:ne.email})]}),a.jsx("div",{className:"text-sm truncate",children:f.domain}),a.jsx("div",{className:"text-sm",children:f.extension}),a.jsx("div",{className:"text-xs",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full border ${f.regRegistered?"bg-green-50 text-green-700 border-green-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:f.regRegistered?"registrado":f.regStatus||"desconectado"})}),a.jsxs("div",{className:"flex items-center gap-3 justify-end whitespace-nowrap",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>or(f),children:"Editar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>hl(f.user.id),children:"Desconectar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>Br(f.user.id),children:"Excluir"})]})]})},f.id)})}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhuma conta SIP encontrada."})]})]}),t==="configuracoes"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 lg:col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Chat da organizao (Global)"}),a.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"cone do chat"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[Rr?a.jsx("img",{src:Rr,alt:"global",className:"w-12 h-12 rounded-full object-cover border"}):a.jsx("div",{className:"w-12 h-12 rounded-full border bg-slate-100"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"cfg-file-global",className:"hidden",type:"file",accept:"image/*",onChange:f=>{var b;return Go((b=f.target.files)==null?void 0:b[0])}}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var f;return(f=document.getElementById("cfg-file-global"))==null?void 0:f.click()},children:"Enviar"}),Rr&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{try{localStorage.setItem("chat_icon",Rr),window.dispatchEvent(new Event("chat:iconUpdated")),G("Aplicado cone global neste navegador","success")}catch{}},children:"Aplicar local"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Papel de parede (conversas)"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx("div",{className:"w-28 h-16 rounded border bg-slate-100 overflow-hidden",children:a.jsx("div",{className:"w-full h-full chat-bg",style:{"--chat-wallpaper":ut?`url('${ut}')`:void 0}})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{id:"cfg-file-wallpaper",className:"hidden",type:"file",accept:"image/*",onChange:f=>{var b;return _s((b=f.target.files)==null?void 0:b[0])}}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var f;return(f=document.getElementById("cfg-file-wallpaper"))==null?void 0:f.click()},children:"Enviar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-green-300 text-green-700 hover:bg-green-50",onClick:Xa,disabled:!ut,children:"Salvar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{try{if(!ut){G("Nenhum wallpaper para aplicar","error");return}localStorage.setItem("chat_wallpaper",ut),document.documentElement.style.setProperty("--chat-wallpaper",`url('${ut}')`),window.dispatchEvent(new Event("chat:wallpaperUpdated")),G("Aplicado localmente","success")}catch{}},disabled:!ut,children:"Aplicar local"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:el,disabled:!ut,children:"Excluir"})]})]}),a.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Afeta todos os usurios. A aplicao local funciona apenas neste navegador."})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"font-medium",children:"Sons de alerta"}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Faa upload de arquivos de udio (mp3, wav, ogg) para usar como alerta padro do chat."}),a.jsxs("div",{className:"mt-3 flex flex-col md:flex-row md:items-end gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Nome (opcional)"}),a.jsx("input",{className:"mt-1 border rounded px-3 py-2 w-full",placeholder:"Ex.: Alerta ping",value:Ar,onChange:f=>Ir(f.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{ref:Tr,type:"file",accept:"audio/*",className:"hidden",onChange:rn}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50 disabled:opacity-60",onClick:Fr,disabled:er,children:er?"Enviando...":"Enviar som"}),er&&a.jsx("span",{className:"text-xs text-slate-500",children:"Aguarde..."})]})]}),Ss.length?a.jsx("ul",{className:"mt-3 divide-y divide-slate-200",children:Ss.map(f=>a.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.name||"Som"}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:f.url})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:()=>Zo(f.url),children:"Ouvir"}),tn===f.id?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:"Ativo"}):a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>tl(f.id),children:"Definir"}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50 disabled:opacity-60",onClick:()=>nl(f.id),disabled:X===f.id,children:X===f.id?"Excluindo...":"Excluir"})]})]},f.id))}):a.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Nenhum som cadastrado ainda."}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{type:"button",className:"text-xs text-slate-600 underline disabled:opacity-60",onClick:()=>tl(null),disabled:!tn,children:"Usar bip padro"})})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Aparncia Local"}),a.jsxs("form",{onSubmit:rr,className:"mt-2 flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"cone local"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("input",{id:"cfg-file",className:"hidden",type:"file",accept:"image/*",onChange:Ko}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var f;return(f=document.getElementById("cfg-file"))==null?void 0:f.click()},children:"Escolher"}),(Cr||bt)&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>{Yn(""),_r("")},children:"Limpar"})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Preview"}),Cr||bt?a.jsx("img",{src:Cr||bt,alt:"cone",className:"mt-1 w-10 h-10 rounded-full object-cover border"}):a.jsx("div",{className:"mt-1 w-10 h-10 rounded-full border bg-slate-100"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"URL (opcional)"}),a.jsx("input",{className:"border rounded px-3 py-2 w-full",placeholder:"https://...",value:bt,onChange:f=>{_r(f.target.value),f.target.value&&Yn("")}})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Tema do papel de parede"}),a.jsxs("select",{className:"mt-1 border rounded px-3 py-2 w-full",value:jt,onChange:f=>Ja(f.target.value),children:[a.jsx("option",{value:"default",children:"Padro"}),a.jsx("option",{value:"whatsapp",children:"WhatsApp"})]})]}),a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Salvar local"})})]})]}),a.jsxs("form",{onSubmit:rl,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2 lg:col-span-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Conta do administrador"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-2 mt-2",children:[a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha atual",type:"password",value:Or,onChange:f=>nr(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nova senha (6+)",type:"password",value:Nn,onChange:f=>Es(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Confirmar nova senha",type:"password",value:Ya,onChange:f=>Cs(f.target.value)})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Alterar senha"})})]})]}),P&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 grid place-items-center",onClick:Mr,children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded border border-slate-200 p-4",onClick:f=>f.stopPropagation(),children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Editar Usurio"}),a.jsxs("form",{onSubmit:kn,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:P.name||"",onChange:f=>$(b=>({...b,name:f.target.value}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"E-mail",value:P.email||"",onChange:f=>$(b=>({...b,email:f.target.value}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Telefone",value:P.phone||"",onChange:f=>$(b=>({...b,phone:J(f.target.value)}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Endereo",value:P.address||"",onChange:f=>$(b=>({...b,address:f.target.value}))}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!P.isAdmin,onChange:f=>$(b=>({...b,isAdmin:f.target.checked}))})," Admin"]}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!P.isBlocked,onChange:f=>$(b=>({...b,isBlocked:f.target.checked}))})," Bloqueado"]}),(e==null?void 0:e.id)&&P.id===e.id&&a.jsx("input",{className:"border rounded px-3 py-2 md:col-span-2",placeholder:"Senha atual (obrigatria para trocar a sua senha)",type:"password",value:Z,onChange:f=>ce(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2 md:col-span-2",placeholder:"Nova senha (opcional, 6+)",type:"password",value:O,onChange:f=>A(f.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center justify-end gap-2 mt-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded border",onClick:Mr,disabled:z,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-60",disabled:z,children:z?"Salvando...":"Salvar"})]})]})]})})]})}function $y(){const[e,t]=d.useState(""),[n,r]=d.useState(""),[s,l]=d.useState(""),[o,c]=d.useState(null),[u,h]=d.useState(""),[x,v]=d.useState(""),[j,E]=d.useState(""),[L,R]=d.useState(""),[T,y]=d.useState(""),[m,w]=d.useState(""),S=d.useRef(null),P=d.useRef(""),$=M=>(M||"").replace(/\D/g,""),z=M=>{const J=$(M).slice(0,11);return J.length<=2?J:J.length<=6?`(${J.slice(0,2)}) ${J.slice(2)}`:J.length===10?`(${J.slice(0,2)}) ${J.slice(2,6)}-${J.slice(6)}`:J.length>=11?`(${J.slice(0,2)}) ${J.slice(2,7)}-${J.slice(7)}`:J},I=()=>{if(P.current){if(typeof URL<"u"&&typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(P.current)}catch{}P.current=""}};d.useEffect(()=>()=>{I()},[]),d.useEffect(()=>{(async()=>{try{const M=await q.get("/users/me");t(M.name||""),r(M.phone?z(M.phone):""),l(M.address||"");const J=M.avatarUrl||"";v(J),h(J)}catch{w("Falha ao carregar perfil")}})()},[]);const O=()=>{var M;(M=S.current)==null||M.click()},A=M=>{var oe;const J=((oe=M.target.files)==null?void 0:oe[0])||null;if(c(J),I(),J)try{const Le=URL.createObjectURL(J);P.current=Le,h(Le)}catch{h(x)}else h(x)};async function Z(M){M.preventDefault(),y(""),w("");try{const J=z(n),oe=$(J);if(oe&&(oe.length<10||oe.length>11))throw new Error("Telefone invalido (use DDD + numero).");const Le=(e||"").trim(),yt=(s||"").trim(),V={phone:oe?J:null,address:yt||null};if(Le&&(V.name=Le),o){await q.patch("/users/me",V);const D=new FormData;D.append("avatar",o),await q.uploadPatch("/users/me",D)}else await q.patch("/users/me",V);try{const D=await q.get("/users/me"),Y=D.avatarUrl||"";t(D.name||""),r(D.phone?z(D.phone):""),l(D.address||""),I(),v(Y),h(Y),c(null),S.current&&(S.current.value="");const te=Ht();te&&Kp(te,D);try{window.dispatchEvent(new Event("chat:userUpdated"))}catch{}}catch{}y("Perfil atualizado!")}catch(J){w(J.message||"Erro ao salvar")}}async function ce(M){M.preventDefault(),y(""),w("");try{await q.post("/users/me/password",{current:j,password:L}),E(""),R(""),y("Senha alterada!")}catch(J){w(J.message||"Erro ao alterar senha")}}return a.jsxs("div",{className:"p-4 overflow-auto h-full",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Meu perfil"}),T&&a.jsx("div",{className:"text-green-600 text-sm mt-2",children:T}),m&&a.jsx("div",{className:"text-red-600 text-sm mt-2",children:m}),a.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-[260px,1fr]",children:[a.jsxs("section",{className:"bg-white p-4 rounded border border-slate-200 flex flex-col items-center gap-3 text-center",children:[a.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full border border-slate-200 dark:border-slate-700 overflow-hidden bg-slate-100 flex items-center justify-center text-slate-500",children:u?a.jsx("img",{src:u,alt:"avatar",className:"w-full h-full object-cover",onError:()=>h("")}):a.jsx("span",{className:"text-sm",children:"Sem foto"})}),a.jsx("button",{type:"button",onClick:O,className:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 text-sm rounded border border-slate-300 hover:bg-slate-50",children:"Alterar foto"}),a.jsx("input",{ref:S,type:"file",accept:"image/*",className:"hidden",onChange:A}),o&&a.jsx("div",{className:"w-full text-xs text-slate-500 truncate",children:o.name}),a.jsx("p",{className:"text-xs text-slate-500",children:"Utilize imagens quadradas para melhor resultado."})]}),a.jsxs("form",{onSubmit:Z,className:"bg-white p-4 rounded border border-slate-200 grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Nome"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:e,onChange:M=>t(M.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Telefone"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:n,onChange:M=>r(z(M.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Endereco"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:s,onChange:M=>l(M.target.value)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Salvar"})})]})]}),a.jsxs("form",{onSubmit:ce,className:"mt-4 bg-white p-4 rounded border border-slate-200 grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Senha atual"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:j,onChange:M=>E(M.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Nova senha"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:L,onChange:M=>R(M.target.value)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-slate-700 text-white px-3 py-2 hover:bg-slate-800",children:"Alterar senha"})})]})]})}function My({children:e}){return Ht()?e:a.jsx(Ic,{to:"/login",replace:!0})}function Dy({children:e}){const t=Ht(),n=ds();return t?n!=null&&n.isAdmin?e:a.jsx(Ic,{to:"/",replace:!0}):a.jsx(Ic,{to:"/login",replace:!0})}Up(document.getElementById("root")).render(a.jsx(qc.StrictMode,{children:a.jsx(dv,{children:a.jsxs(sv,{children:[a.jsx(ft,{path:"/login",element:a.jsx(gy,{})}),a.jsx(ft,{path:"/register",element:a.jsx(xy,{})}),a.jsx(ft,{path:"/join/:token",element:a.jsx(Oy,{})}),a.jsxs(ft,{path:"/",element:a.jsx(My,{children:a.jsx(my,{})}),children:[a.jsx(ft,{index:!0,element:a.jsx(fm,{})}),a.jsx(ft,{path:"conversas",element:a.jsx(Ry,{})}),a.jsx(ft,{path:"telefonia",element:a.jsx(Py,{})}),a.jsx(ft,{path:"reunioes",element:a.jsx(Ly,{})}),a.jsx(ft,{path:"reunioes/:id",element:a.jsx(Ay,{})}),a.jsx(ft,{path:"contatos",element:a.jsx(Uy,{})}),a.jsx(ft,{path:"admin",element:a.jsx(Dy,{children:a.jsx(Fy,{})})}),a.jsx(ft,{path:"profile",element:a.jsx($y,{})})]})]})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{try{navigator.serviceWorker.register("/sw.js")}catch(e){console.error("Falha ao registrar o Service Worker",e)}});
