function O0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(n,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=r(s);fetch(s.href,l)}})();function U0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mh={exports:{}},li={},gh={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gl=Symbol.for("react.element"),$0=Symbol.for("react.portal"),M0=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),z0=Symbol.for("react.profiler"),V0=Symbol.for("react.provider"),W0=Symbol.for("react.context"),H0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),Q0=Symbol.for("react.memo"),G0=Symbol.for("react.lazy"),Wd=Symbol.iterator;function K0(e){return e===null||typeof e!="object"?null:(e=Wd&&e[Wd]||e["@@iterator"],typeof e=="function"?e:null)}var xh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vh=Object.assign,yh={};function Vs(e,t,r){this.props=e,this.context=t,this.refs=yh,this.updater=r||xh}Vs.prototype.isReactComponent={};Vs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Vs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function wh(){}wh.prototype=Vs.prototype;function Rc(e,t,r){this.props=e,this.context=t,this.refs=yh,this.updater=r||xh}var Ac=Rc.prototype=new wh;Ac.constructor=Rc;vh(Ac,Vs.prototype);Ac.isPureReactComponent=!0;var Hd=Array.isArray,bh=Object.prototype.hasOwnProperty,Pc={current:null},kh={key:!0,ref:!0,__self:!0,__source:!0};function jh(e,t,r){var n,s={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)bh.call(t,n)&&!kh.hasOwnProperty(n)&&(s[n]=t[n]);var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){for(var c=Array(u),m=0;m<u;m++)c[m]=arguments[m+2];s.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)s[n]===void 0&&(s[n]=u[n]);return{$$typeof:gl,type:e,key:l,ref:i,props:s,_owner:Pc.current}}function Z0(e,t){return{$$typeof:gl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Lc(e){return typeof e=="object"&&e!==null&&e.$$typeof===gl}function J0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var qd=/\/+/g;function Qi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?J0(""+e.key):t.toString(36)}function yo(e,t,r,n,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case gl:case $0:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+Qi(i,0):n,Hd(s)?(r="",e!=null&&(r=e.replace(qd,"$&/")+"/"),yo(s,t,r,"",function(m){return m})):s!=null&&(Lc(s)&&(s=Z0(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(qd,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Hd(e))for(var u=0;u<e.length;u++){l=e[u];var c=n+Qi(l,u);i+=yo(l,t,r,c,s)}else if(c=K0(e),typeof c=="function")for(e=c.call(e),u=0;!(l=e.next()).done;)l=l.value,c=n+Qi(l,u++),i+=yo(l,t,r,c,s);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Jl(e,t,r){if(e==null)return e;var n=[],s=0;return yo(e,n,"","",function(l){return t.call(r,l,s++)}),n}function Y0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},wo={transition:null},X0={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:wo,ReactCurrentOwner:Pc};le.Children={map:Jl,forEach:function(e,t,r){Jl(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Jl(e,function(){t++}),t},toArray:function(e){return Jl(e,function(t){return t})||[]},only:function(e){if(!Lc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};le.Component=Vs;le.Fragment=M0;le.Profiler=z0;le.PureComponent=Rc;le.StrictMode=B0;le.Suspense=q0;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X0;le.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vh({},e.props),s=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=Pc.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)bh.call(t,c)&&!kh.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var m=0;m<c;m++)u[m]=arguments[m+2];n.children=u}return{$$typeof:gl,type:e.type,key:s,ref:l,props:n,_owner:i}};le.createContext=function(e){return e={$$typeof:W0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:V0,_context:e},e.Consumer=e};le.createElement=jh;le.createFactory=function(e){var t=jh.bind(null,e);return t.type=e,t};le.createRef=function(){return{current:null}};le.forwardRef=function(e){return{$$typeof:H0,render:e}};le.isValidElement=Lc;le.lazy=function(e){return{$$typeof:G0,_payload:{_status:-1,_result:e},_init:Y0}};le.memo=function(e,t){return{$$typeof:Q0,type:e,compare:t===void 0?null:t}};le.startTransition=function(e){var t=wo.transition;wo.transition={};try{e()}finally{wo.transition=t}};le.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};le.useCallback=function(e,t){return nt.current.useCallback(e,t)};le.useContext=function(e){return nt.current.useContext(e)};le.useDebugValue=function(){};le.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};le.useEffect=function(e,t){return nt.current.useEffect(e,t)};le.useId=function(){return nt.current.useId()};le.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};le.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};le.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};le.useMemo=function(e,t){return nt.current.useMemo(e,t)};le.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};le.useRef=function(e){return nt.current.useRef(e)};le.useState=function(e){return nt.current.useState(e)};le.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};le.useTransition=function(){return nt.current.useTransition()};le.version="18.2.0";gh.exports=le;var d=gh.exports;const oi=U0(d),eg=O0({__proto__:null,default:oi},[d]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg=d,rg=Symbol.for("react.element"),ng=Symbol.for("react.fragment"),sg=Object.prototype.hasOwnProperty,ag=tg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lg={key:!0,ref:!0,__self:!0,__source:!0};function Nh(e,t,r){var n,s={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)sg.call(t,n)&&!lg.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:rg,type:e,key:l,ref:i,props:s,_owner:ag.current}}li.Fragment=ng;li.jsx=Nh;li.jsxs=Nh;mh.exports=li;var a=mh.exports,Sh={exports:{}},bt={},Eh={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,D){var te=W.length;W.push(D);e:for(;0<te;){var I=te-1>>>1,re=W[I];if(0<s(re,D))W[I]=D,W[te]=re,te=I;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var D=W[0],te=W.pop();if(te!==D){W[0]=te;e:for(var I=0,re=W.length,xe=re>>>1;I<xe;){var he=2*(I+1)-1,ke=W[he],de=he+1,ye=W[de];if(0>s(ke,te))de<re&&0>s(ye,ke)?(W[I]=ye,W[de]=te,I=de):(W[I]=ke,W[he]=te,I=he);else if(de<re&&0>s(ye,te))W[I]=ye,W[de]=te,I=de;else break e}}return D}function s(W,D){var te=W.sortIndex-D.sortIndex;return te!==0?te:W.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,u=i.now();e.unstable_now=function(){return i.now()-u}}var c=[],m=[],x=1,b=null,j=3,_=!1,A=!1,R=!1,L=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(W){for(var D=r(m);D!==null;){if(D.callback===null)n(m);else if(D.startTime<=W)n(m),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(m)}}function C(W){if(R=!1,w(W),!A)if(r(c)!==null)A=!0,ge(P);else{var D=r(m);D!==null&&Fe(C,D.startTime-W)}}function P(W,D){A=!1,R&&(R=!1,k(q),q=-1),_=!0;var te=j;try{for(w(D),b=r(c);b!==null&&(!(b.expirationTime>D)||W&&!J());){var I=b.callback;if(typeof I=="function"){b.callback=null,j=b.priorityLevel;var re=I(b.expirationTime<=D);D=e.unstable_now(),typeof re=="function"?b.callback=re:b===r(c)&&n(c),w(D)}else n(c);b=r(c)}if(b!==null)var xe=!0;else{var he=r(m);he!==null&&Fe(C,he.startTime-D),xe=!1}return xe}finally{b=null,j=te,_=!1}}var U=!1,V=null,q=-1,O=5,$=-1;function J(){return!(e.unstable_now()-$<O)}function ue(){if(V!==null){var W=e.unstable_now();$=W;var D=!0;try{D=V(!0,W)}finally{D?B():(U=!1,V=null)}}else U=!1}var B;if(typeof g=="function")B=function(){g(ue)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,me=ee.port2;ee.port1.onmessage=ue,B=function(){me.postMessage(null)}}else B=function(){L(ue,0)};function ge(W){V=W,U||(U=!0,B())}function Fe(W,D){q=L(function(){W(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){A||_||(A=!0,ge(P))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return j},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(W){switch(j){case 1:case 2:case 3:var D=3;break;default:D=j}var te=j;j=D;try{return W()}finally{j=te}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,D){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=j;j=W;try{return D()}finally{j=te}},e.unstable_scheduleCallback=function(W,D,te){var I=e.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?I+te:I):te=I,W){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=te+re,W={id:x++,callback:D,priorityLevel:W,startTime:te,expirationTime:re,sortIndex:-1},te>I?(W.sortIndex=te,t(m,W),r(c)===null&&W===r(m)&&(R?(k(q),q=-1):R=!0,Fe(C,te-I))):(W.sortIndex=re,t(c,W),A||_||(A=!0,ge(P))),W},e.unstable_shouldYield=J,e.unstable_wrapCallback=function(W){var D=j;return function(){var te=j;j=D;try{return W.apply(this,arguments)}finally{j=te}}}})(Ch);Eh.exports=Ch;var og=Eh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=d,wt=og;function z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dh=new Set,Ja={};function Zn(e,t){Fs(e,t),Fs(e+"Capture",t)}function Fs(e,t){for(Ja[e]=t,e=0;e<t.length;e++)Dh.add(t[e])}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_u=Object.prototype.hasOwnProperty,ig=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qd={},Gd={};function ug(e){return _u.call(Gd,e)?!0:_u.call(Qd,e)?!1:ig.test(e)?Gd[e]=!0:(Qd[e]=!0,!1)}function cg(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function dg(e,t,r,n){if(t===null||typeof t>"u"||cg(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function st(e,t,r,n,s,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ge[e]=new st(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ge[t]=new st(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ge[e]=new st(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ge[e]=new st(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ge[e]=new st(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ge[e]=new st(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ge[e]=new st(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ge[e]=new st(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ge[e]=new st(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ic=/[\-:]([a-z])/g;function Tc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ic,Tc);Ge[t]=new st(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ic,Tc);Ge[t]=new st(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ic,Tc);Ge[t]=new st(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ge[e]=new st(e,1,!1,e.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new st("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ge[e]=new st(e,1,!1,e.toLowerCase(),null,!0,!0)});function Fc(e,t,r,n){var s=Ge.hasOwnProperty(t)?Ge[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dg(t,r,s,n)&&(r=null),n||s===null?ug(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fr=_h.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yl=Symbol.for("react.element"),xs=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Oc=Symbol.for("react.strict_mode"),Du=Symbol.for("react.profiler"),Rh=Symbol.for("react.provider"),Ah=Symbol.for("react.context"),Uc=Symbol.for("react.forward_ref"),Ru=Symbol.for("react.suspense"),Au=Symbol.for("react.suspense_list"),$c=Symbol.for("react.memo"),Gr=Symbol.for("react.lazy"),Ph=Symbol.for("react.offscreen"),Kd=Symbol.iterator;function Sa(e){return e===null||typeof e!="object"?null:(e=Kd&&e[Kd]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Object.assign,Gi;function Oa(e){if(Gi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Gi=t&&t[1]||""}return`
`+Gi+e}var Ki=!1;function Zi(e,t){if(!e||Ki)return"";Ki=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(m){var n=m}Reflect.construct(e,[],t)}else{try{t.call()}catch(m){n=m}e.call(t.prototype)}else{try{throw Error()}catch(m){n=m}e()}}catch(m){if(m&&n&&typeof m.stack=="string"){for(var s=m.stack.split(`
`),l=n.stack.split(`
`),i=s.length-1,u=l.length-1;1<=i&&0<=u&&s[i]!==l[u];)u--;for(;1<=i&&0<=u;i--,u--)if(s[i]!==l[u]){if(i!==1||u!==1)do if(i--,u--,0>u||s[i]!==l[u]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=u);break}}}finally{Ki=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Oa(e):""}function fg(e){switch(e.tag){case 5:return Oa(e.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return e=Zi(e.type,!1),e;case 11:return e=Zi(e.type.render,!1),e;case 1:return e=Zi(e.type,!0),e;default:return""}}function Pu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case vs:return"Fragment";case xs:return"Portal";case Du:return"Profiler";case Oc:return"StrictMode";case Ru:return"Suspense";case Au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ah:return(e.displayName||"Context")+".Consumer";case Rh:return(e._context.displayName||"Context")+".Provider";case Uc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $c:return t=e.displayName||null,t!==null?t:Pu(e.type)||"Memo";case Gr:t=e._payload,e=e._init;try{return Pu(e(t))}catch{}}return null}function hg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pu(t);case 8:return t===Oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pg(e){var t=Lh(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Xl(e){e._valueTracker||(e._valueTracker=pg(e))}function Ih(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Lh(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function To(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Lu(e,t){var r=t.checked;return _e({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Zd(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=fn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Th(e,t){t=t.checked,t!=null&&Fc(e,"checked",t,!1)}function Iu(e,t){Th(e,t);var r=fn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tu(e,t.type,fn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Jd(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tu(e,t,r){(t!=="number"||To(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var Ua=Array.isArray;function Ds(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+fn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Fu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(z(91));return _e({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Yd(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(z(92));if(Ua(r)){if(1<r.length)throw Error(z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:fn(r)}}function Fh(e,t){var r=fn(t.value),n=fn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Oh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ou(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Oh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var eo,Uh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(eo=eo||document.createElement("div"),eo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ya(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var za={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mg=["Webkit","ms","Moz","O"];Object.keys(za).forEach(function(e){mg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),za[t]=za[e]})});function $h(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||za.hasOwnProperty(e)&&za[e]?(""+t).trim():t+"px"}function Mh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=$h(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var gg=_e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uu(e,t){if(t){if(gg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(z(62))}}function $u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mu=null;function Mc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Bu=null,Rs=null,As=null;function ef(e){if(e=yl(e)){if(typeof Bu!="function")throw Error(z(280));var t=e.stateNode;t&&(t=fi(t),Bu(e.stateNode,e.type,t))}}function Bh(e){Rs?As?As.push(e):As=[e]:Rs=e}function zh(){if(Rs){var e=Rs,t=As;if(As=Rs=null,ef(e),t)for(e=0;e<t.length;e++)ef(t[e])}}function Vh(e,t){return e(t)}function Wh(){}var Ji=!1;function Hh(e,t,r){if(Ji)return e(t,r);Ji=!0;try{return Vh(e,t,r)}finally{Ji=!1,(Rs!==null||As!==null)&&(Wh(),zh())}}function Xa(e,t){var r=e.stateNode;if(r===null)return null;var n=fi(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,t,typeof r));return r}var zu=!1;if(Pr)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){zu=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{zu=!1}function xg(e,t,r,n,s,l,i,u,c){var m=Array.prototype.slice.call(arguments,3);try{t.apply(r,m)}catch(x){this.onError(x)}}var Va=!1,Fo=null,Oo=!1,Vu=null,vg={onError:function(e){Va=!0,Fo=e}};function yg(e,t,r,n,s,l,i,u,c){Va=!1,Fo=null,xg.apply(vg,arguments)}function wg(e,t,r,n,s,l,i,u,c){if(yg.apply(this,arguments),Va){if(Va){var m=Fo;Va=!1,Fo=null}else throw Error(z(198));Oo||(Oo=!0,Vu=m)}}function Jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function qh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function tf(e){if(Jn(e)!==e)throw Error(z(188))}function bg(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(z(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var l=s.alternate;if(l===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===r)return tf(s),e;if(l===n)return tf(s),t;l=l.sibling}throw Error(z(188))}if(r.return!==n.return)r=s,n=l;else{for(var i=!1,u=s.child;u;){if(u===r){i=!0,r=s,n=l;break}if(u===n){i=!0,n=s,r=l;break}u=u.sibling}if(!i){for(u=l.child;u;){if(u===r){i=!0,r=l,n=s;break}if(u===n){i=!0,n=l,r=s;break}u=u.sibling}if(!i)throw Error(z(189))}}if(r.alternate!==n)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:t}function Qh(e){return e=bg(e),e!==null?Gh(e):null}function Gh(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gh(e);if(t!==null)return t;e=e.sibling}return null}var Kh=wt.unstable_scheduleCallback,rf=wt.unstable_cancelCallback,kg=wt.unstable_shouldYield,jg=wt.unstable_requestPaint,Ie=wt.unstable_now,Ng=wt.unstable_getCurrentPriorityLevel,Bc=wt.unstable_ImmediatePriority,Zh=wt.unstable_UserBlockingPriority,Uo=wt.unstable_NormalPriority,Sg=wt.unstable_LowPriority,Jh=wt.unstable_IdlePriority,ii=null,ur=null;function Eg(e){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Qt=Math.clz32?Math.clz32:Dg,Cg=Math.log,_g=Math.LN2;function Dg(e){return e>>>=0,e===0?32:31-(Cg(e)/_g|0)|0}var to=64,ro=4194304;function $a(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $o(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var u=i&~s;u!==0?n=$a(u):(l&=i,l!==0&&(n=$a(l)))}else i=r&~s,i!==0?n=$a(i):l!==0&&(n=$a(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,l=t&-t,s>=l||s===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Qt(t),s=1<<r,n|=e[r],t&=~s;return n}function Rg(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ag(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Qt(l),u=1<<i,c=s[i];c===-1?(!(u&r)||u&n)&&(s[i]=Rg(u,t)):c<=t&&(e.expiredLanes|=u),l&=~u}}function Wu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yh(){var e=to;return to<<=1,!(to&4194240)&&(to=64),e}function Yi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function xl(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Qt(t),e[t]=r}function Pg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Qt(r),l=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~l}}function zc(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Qt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var pe=0;function Xh(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ep,Vc,tp,rp,np,Hu=!1,no=[],tn=null,rn=null,nn=null,el=new Map,tl=new Map,Zr=[],Lg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nf(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":el.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tl.delete(t.pointerId)}}function Ca(e,t,r,n,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[s]},t!==null&&(t=yl(t),t!==null&&Vc(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ig(e,t,r,n,s){switch(t){case"focusin":return tn=Ca(tn,e,t,r,n,s),!0;case"dragenter":return rn=Ca(rn,e,t,r,n,s),!0;case"mouseover":return nn=Ca(nn,e,t,r,n,s),!0;case"pointerover":var l=s.pointerId;return el.set(l,Ca(el.get(l)||null,e,t,r,n,s)),!0;case"gotpointercapture":return l=s.pointerId,tl.set(l,Ca(tl.get(l)||null,e,t,r,n,s)),!0}return!1}function sp(e){var t=Mn(e.target);if(t!==null){var r=Jn(t);if(r!==null){if(t=r.tag,t===13){if(t=qh(r),t!==null){e.blockedOn=t,np(e.priority,function(){tp(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Mu=n,r.target.dispatchEvent(n),Mu=null}else return t=yl(r),t!==null&&Vc(t),e.blockedOn=r,!1;t.shift()}return!0}function sf(e,t,r){bo(e)&&r.delete(t)}function Tg(){Hu=!1,tn!==null&&bo(tn)&&(tn=null),rn!==null&&bo(rn)&&(rn=null),nn!==null&&bo(nn)&&(nn=null),el.forEach(sf),tl.forEach(sf)}function _a(e,t){e.blockedOn===t&&(e.blockedOn=null,Hu||(Hu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,Tg)))}function rl(e){function t(s){return _a(s,e)}if(0<no.length){_a(no[0],e);for(var r=1;r<no.length;r++){var n=no[r];n.blockedOn===e&&(n.blockedOn=null)}}for(tn!==null&&_a(tn,e),rn!==null&&_a(rn,e),nn!==null&&_a(nn,e),el.forEach(t),tl.forEach(t),r=0;r<Zr.length;r++)n=Zr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Zr.length&&(r=Zr[0],r.blockedOn===null);)sp(r),r.blockedOn===null&&Zr.shift()}var Ps=Fr.ReactCurrentBatchConfig,Mo=!0;function Fg(e,t,r,n){var s=pe,l=Ps.transition;Ps.transition=null;try{pe=1,Wc(e,t,r,n)}finally{pe=s,Ps.transition=l}}function Og(e,t,r,n){var s=pe,l=Ps.transition;Ps.transition=null;try{pe=4,Wc(e,t,r,n)}finally{pe=s,Ps.transition=l}}function Wc(e,t,r,n){if(Mo){var s=qu(e,t,r,n);if(s===null)iu(e,t,n,Bo,r),nf(e,n);else if(Ig(s,e,t,r,n))n.stopPropagation();else if(nf(e,n),t&4&&-1<Lg.indexOf(e)){for(;s!==null;){var l=yl(s);if(l!==null&&ep(l),l=qu(e,t,r,n),l===null&&iu(e,t,n,Bo,r),l===s)break;s=l}s!==null&&n.stopPropagation()}else iu(e,t,n,null,r)}}var Bo=null;function qu(e,t,r,n){if(Bo=null,e=Mc(n),e=Mn(e),e!==null)if(t=Jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=qh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bo=e,null}function ap(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ng()){case Bc:return 1;case Zh:return 4;case Uo:case Sg:return 16;case Jh:return 536870912;default:return 16}default:return 16}}var Yr=null,Hc=null,ko=null;function lp(){if(ko)return ko;var e,t=Hc,r=t.length,n,s="value"in Yr?Yr.value:Yr.textContent,l=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[l-n];n++);return ko=s.slice(e,1<n?1-n:void 0)}function jo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function so(){return!0}function af(){return!1}function kt(e){function t(r,n,s,l,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(l):l[u]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?so:af,this.isPropagationStopped=af,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=so)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=so)},persist:function(){},isPersistent:so}),t}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qc=kt(Ws),vl=_e({},Ws,{view:0,detail:0}),Ug=kt(vl),Xi,eu,Da,ui=_e({},vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Da&&(Da&&e.type==="mousemove"?(Xi=e.screenX-Da.screenX,eu=e.screenY-Da.screenY):eu=Xi=0,Da=e),Xi)},movementY:function(e){return"movementY"in e?e.movementY:eu}}),lf=kt(ui),$g=_e({},ui,{dataTransfer:0}),Mg=kt($g),Bg=_e({},vl,{relatedTarget:0}),tu=kt(Bg),zg=_e({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Vg=kt(zg),Wg=_e({},Ws,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Hg=kt(Wg),qg=_e({},Ws,{data:0}),of=kt(qg),Qg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Kg[e])?!!t[e]:!1}function Qc(){return Zg}var Jg=_e({},vl,{key:function(e){if(e.key){var t=Qg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(e){return e.type==="keypress"?jo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Yg=kt(Jg),Xg=_e({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),uf=kt(Xg),ex=_e({},vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),tx=kt(ex),rx=_e({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),nx=kt(rx),sx=_e({},ui,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=kt(sx),lx=[9,13,27,32],Gc=Pr&&"CompositionEvent"in window,Wa=null;Pr&&"documentMode"in document&&(Wa=document.documentMode);var ox=Pr&&"TextEvent"in window&&!Wa,op=Pr&&(!Gc||Wa&&8<Wa&&11>=Wa),cf=" ",df=!1;function ip(e,t){switch(e){case"keyup":return lx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ys=!1;function ix(e,t){switch(e){case"compositionend":return up(t);case"keypress":return t.which!==32?null:(df=!0,cf);case"textInput":return e=t.data,e===cf&&df?null:e;default:return null}}function ux(e,t){if(ys)return e==="compositionend"||!Gc&&ip(e,t)?(e=lp(),ko=Hc=Yr=null,ys=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return op&&t.locale!=="ko"?null:t.data;default:return null}}var cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ff(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cx[e.type]:t==="textarea"}function cp(e,t,r,n){Bh(n),t=zo(t,"onChange"),0<t.length&&(r=new qc("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ha=null,nl=null;function dx(e){bp(e,0)}function ci(e){var t=ks(e);if(Ih(t))return e}function fx(e,t){if(e==="change")return t}var dp=!1;if(Pr){var ru;if(Pr){var nu="oninput"in document;if(!nu){var hf=document.createElement("div");hf.setAttribute("oninput","return;"),nu=typeof hf.oninput=="function"}ru=nu}else ru=!1;dp=ru&&(!document.documentMode||9<document.documentMode)}function pf(){Ha&&(Ha.detachEvent("onpropertychange",fp),nl=Ha=null)}function fp(e){if(e.propertyName==="value"&&ci(nl)){var t=[];cp(t,nl,e,Mc(e)),Hh(dx,t)}}function hx(e,t,r){e==="focusin"?(pf(),Ha=t,nl=r,Ha.attachEvent("onpropertychange",fp)):e==="focusout"&&pf()}function px(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ci(nl)}function mx(e,t){if(e==="click")return ci(t)}function gx(e,t){if(e==="input"||e==="change")return ci(t)}function xx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:xx;function sl(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!_u.call(t,s)||!Kt(e[s],t[s]))return!1}return!0}function mf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gf(e,t){var r=mf(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=mf(r)}}function hp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pp(){for(var e=window,t=To();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=To(e.document)}return t}function Kc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vx(e){var t=pp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hp(r.ownerDocument.documentElement,r)){if(n!==null&&Kc(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,l=Math.min(n.start,s);n=n.end===void 0?l:Math.min(n.end,s),!e.extend&&l>n&&(s=n,n=l,l=s),s=gf(r,l);var i=gf(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yx=Pr&&"documentMode"in document&&11>=document.documentMode,ws=null,Qu=null,qa=null,Gu=!1;function xf(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gu||ws==null||ws!==To(n)||(n=ws,"selectionStart"in n&&Kc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),qa&&sl(qa,n)||(qa=n,n=zo(Qu,"onSelect"),0<n.length&&(t=new qc("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=ws)))}function ao(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var bs={animationend:ao("Animation","AnimationEnd"),animationiteration:ao("Animation","AnimationIteration"),animationstart:ao("Animation","AnimationStart"),transitionend:ao("Transition","TransitionEnd")},su={},mp={};Pr&&(mp=document.createElement("div").style,"AnimationEvent"in window||(delete bs.animationend.animation,delete bs.animationiteration.animation,delete bs.animationstart.animation),"TransitionEvent"in window||delete bs.transitionend.transition);function di(e){if(su[e])return su[e];if(!bs[e])return e;var t=bs[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mp)return su[e]=t[r];return e}var gp=di("animationend"),xp=di("animationiteration"),vp=di("animationstart"),yp=di("transitionend"),wp=new Map,vf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(e,t){wp.set(e,t),Zn(t,[e])}for(var au=0;au<vf.length;au++){var lu=vf[au],wx=lu.toLowerCase(),bx=lu[0].toUpperCase()+lu.slice(1);pn(wx,"on"+bx)}pn(gp,"onAnimationEnd");pn(xp,"onAnimationIteration");pn(vp,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(yp,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kx=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function yf(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,wg(n,t,void 0,e),e.currentTarget=null}function bp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var u=n[i],c=u.instance,m=u.currentTarget;if(u=u.listener,c!==l&&s.isPropagationStopped())break e;yf(s,u,m),l=c}else for(i=0;i<n.length;i++){if(u=n[i],c=u.instance,m=u.currentTarget,u=u.listener,c!==l&&s.isPropagationStopped())break e;yf(s,u,m),l=c}}}if(Oo)throw e=Vu,Oo=!1,Vu=null,e}function je(e,t){var r=t[Xu];r===void 0&&(r=t[Xu]=new Set);var n=e+"__bubble";r.has(n)||(kp(t,e,2,!1),r.add(n))}function ou(e,t,r){var n=0;t&&(n|=4),kp(r,e,n,t)}var lo="_reactListening"+Math.random().toString(36).slice(2);function al(e){if(!e[lo]){e[lo]=!0,Dh.forEach(function(r){r!=="selectionchange"&&(kx.has(r)||ou(r,!1,e),ou(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[lo]||(t[lo]=!0,ou("selectionchange",!1,t))}}function kp(e,t,r,n){switch(ap(t)){case 1:var s=Fg;break;case 4:s=Og;break;default:s=Wc}r=s.bind(null,t,r,e),s=void 0,!zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function iu(e,t,r,n,s){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var u=n.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;u!==null;){if(i=Mn(u),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}u=u.parentNode}}n=n.return}Hh(function(){var m=l,x=Mc(r),b=[];e:{var j=wp.get(e);if(j!==void 0){var _=qc,A=e;switch(e){case"keypress":if(jo(r)===0)break e;case"keydown":case"keyup":_=Yg;break;case"focusin":A="focus",_=tu;break;case"focusout":A="blur",_=tu;break;case"beforeblur":case"afterblur":_=tu;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=lf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Mg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=tx;break;case gp:case xp:case vp:_=Vg;break;case yp:_=nx;break;case"scroll":_=Ug;break;case"wheel":_=ax;break;case"copy":case"cut":case"paste":_=Hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=uf}var R=(t&4)!==0,L=!R&&e==="scroll",k=R?j!==null?j+"Capture":null:j;R=[];for(var g=m,w;g!==null;){w=g;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,k!==null&&(C=Xa(g,k),C!=null&&R.push(ll(g,C,w)))),L)break;g=g.return}0<R.length&&(j=new _(j,A,null,r,x),b.push({event:j,listeners:R}))}}if(!(t&7)){e:{if(j=e==="mouseover"||e==="pointerover",_=e==="mouseout"||e==="pointerout",j&&r!==Mu&&(A=r.relatedTarget||r.fromElement)&&(Mn(A)||A[Lr]))break e;if((_||j)&&(j=x.window===x?x:(j=x.ownerDocument)?j.defaultView||j.parentWindow:window,_?(A=r.relatedTarget||r.toElement,_=m,A=A?Mn(A):null,A!==null&&(L=Jn(A),A!==L||A.tag!==5&&A.tag!==6)&&(A=null)):(_=null,A=m),_!==A)){if(R=lf,C="onMouseLeave",k="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(R=uf,C="onPointerLeave",k="onPointerEnter",g="pointer"),L=_==null?j:ks(_),w=A==null?j:ks(A),j=new R(C,g+"leave",_,r,x),j.target=L,j.relatedTarget=w,C=null,Mn(x)===m&&(R=new R(k,g+"enter",A,r,x),R.target=w,R.relatedTarget=L,C=R),L=C,_&&A)t:{for(R=_,k=A,g=0,w=R;w;w=gs(w))g++;for(w=0,C=k;C;C=gs(C))w++;for(;0<g-w;)R=gs(R),g--;for(;0<w-g;)k=gs(k),w--;for(;g--;){if(R===k||k!==null&&R===k.alternate)break t;R=gs(R),k=gs(k)}R=null}else R=null;_!==null&&wf(b,j,_,R,!1),A!==null&&L!==null&&wf(b,L,A,R,!0)}}e:{if(j=m?ks(m):window,_=j.nodeName&&j.nodeName.toLowerCase(),_==="select"||_==="input"&&j.type==="file")var P=fx;else if(ff(j))if(dp)P=gx;else{P=px;var U=hx}else(_=j.nodeName)&&_.toLowerCase()==="input"&&(j.type==="checkbox"||j.type==="radio")&&(P=mx);if(P&&(P=P(e,m))){cp(b,P,r,x);break e}U&&U(e,j,m),e==="focusout"&&(U=j._wrapperState)&&U.controlled&&j.type==="number"&&Tu(j,"number",j.value)}switch(U=m?ks(m):window,e){case"focusin":(ff(U)||U.contentEditable==="true")&&(ws=U,Qu=m,qa=null);break;case"focusout":qa=Qu=ws=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,xf(b,r,x);break;case"selectionchange":if(yx)break;case"keydown":case"keyup":xf(b,r,x)}var V;if(Gc)e:{switch(e){case"compositionstart":var q="onCompositionStart";break e;case"compositionend":q="onCompositionEnd";break e;case"compositionupdate":q="onCompositionUpdate";break e}q=void 0}else ys?ip(e,r)&&(q="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(q="onCompositionStart");q&&(op&&r.locale!=="ko"&&(ys||q!=="onCompositionStart"?q==="onCompositionEnd"&&ys&&(V=lp()):(Yr=x,Hc="value"in Yr?Yr.value:Yr.textContent,ys=!0)),U=zo(m,q),0<U.length&&(q=new of(q,e,null,r,x),b.push({event:q,listeners:U}),V?q.data=V:(V=up(r),V!==null&&(q.data=V)))),(V=ox?ix(e,r):ux(e,r))&&(m=zo(m,"onBeforeInput"),0<m.length&&(x=new of("onBeforeInput","beforeinput",null,r,x),b.push({event:x,listeners:m}),x.data=V))}bp(b,t)})}function ll(e,t,r){return{instance:e,listener:t,currentTarget:r}}function zo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,l=s.stateNode;s.tag===5&&l!==null&&(s=l,l=Xa(e,r),l!=null&&n.unshift(ll(e,l,s)),l=Xa(e,t),l!=null&&n.push(ll(e,l,s))),e=e.return}return n}function gs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wf(e,t,r,n,s){for(var l=t._reactName,i=[];r!==null&&r!==n;){var u=r,c=u.alternate,m=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&m!==null&&(u=m,s?(c=Xa(r,l),c!=null&&i.unshift(ll(r,c,u))):s||(c=Xa(r,l),c!=null&&i.push(ll(r,c,u)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var jx=/\r\n?/g,Nx=/\u0000|\uFFFD/g;function bf(e){return(typeof e=="string"?e:""+e).replace(jx,`
`).replace(Nx,"")}function oo(e,t,r){if(t=bf(t),bf(e)!==t&&r)throw Error(z(425))}function Vo(){}var Ku=null,Zu=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,Sx=typeof clearTimeout=="function"?clearTimeout:void 0,kf=typeof Promise=="function"?Promise:void 0,Ex=typeof queueMicrotask=="function"?queueMicrotask:typeof kf<"u"?function(e){return kf.resolve(null).then(e).catch(Cx)}:Yu;function Cx(e){setTimeout(function(){throw e})}function uu(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),rl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);rl(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Hs=Math.random().toString(36).slice(2),ir="__reactFiber$"+Hs,ol="__reactProps$"+Hs,Lr="__reactContainer$"+Hs,Xu="__reactEvents$"+Hs,_x="__reactListeners$"+Hs,Dx="__reactHandles$"+Hs;function Mn(e){var t=e[ir];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Lr]||r[ir]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=jf(e);e!==null;){if(r=e[ir])return r;e=jf(e)}return t}e=r,r=e.parentNode}return null}function yl(e){return e=e[ir]||e[Lr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ks(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function fi(e){return e[ol]||null}var ec=[],js=-1;function mn(e){return{current:e}}function Ne(e){0>js||(e.current=ec[js],ec[js]=null,js--)}function be(e,t){js++,ec[js]=e.current,e.current=t}var hn={},Xe=mn(hn),ct=mn(!1),Hn=hn;function Os(e,t){var r=e.type.contextTypes;if(!r)return hn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},l;for(l in r)s[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function dt(e){return e=e.childContextTypes,e!=null}function Wo(){Ne(ct),Ne(Xe)}function Nf(e,t,r){if(Xe.current!==hn)throw Error(z(168));be(Xe,t),be(ct,r)}function jp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(z(108,hg(e)||"Unknown",s));return _e({},r,n)}function Ho(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Hn=Xe.current,be(Xe,e),be(ct,ct.current),!0}function Sf(e,t,r){var n=e.stateNode;if(!n)throw Error(z(169));r?(e=jp(e,t,Hn),n.__reactInternalMemoizedMergedChildContext=e,Ne(ct),Ne(Xe),be(Xe,e)):Ne(ct),be(ct,r)}var Cr=null,hi=!1,cu=!1;function Np(e){Cr===null?Cr=[e]:Cr.push(e)}function Rx(e){hi=!0,Np(e)}function gn(){if(!cu&&Cr!==null){cu=!0;var e=0,t=pe;try{var r=Cr;for(pe=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Cr=null,hi=!1}catch(s){throw Cr!==null&&(Cr=Cr.slice(e+1)),Kh(Bc,gn),s}finally{pe=t,cu=!1}}return null}var Ns=[],Ss=0,qo=null,Qo=0,Rt=[],At=0,qn=null,Dr=1,Rr="";function On(e,t){Ns[Ss++]=Qo,Ns[Ss++]=qo,qo=e,Qo=t}function Sp(e,t,r){Rt[At++]=Dr,Rt[At++]=Rr,Rt[At++]=qn,qn=e;var n=Dr;e=Rr;var s=32-Qt(n)-1;n&=~(1<<s),r+=1;var l=32-Qt(t)+s;if(30<l){var i=s-s%5;l=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Dr=1<<32-Qt(t)+s|r<<s|n,Rr=l+e}else Dr=1<<l|r<<s|n,Rr=e}function Zc(e){e.return!==null&&(On(e,1),Sp(e,1,0))}function Jc(e){for(;e===qo;)qo=Ns[--Ss],Ns[Ss]=null,Qo=Ns[--Ss],Ns[Ss]=null;for(;e===qn;)qn=Rt[--At],Rt[At]=null,Rr=Rt[--At],Rt[At]=null,Dr=Rt[--At],Rt[At]=null}var yt=null,vt=null,Se=!1,Ht=null;function Ep(e,t){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ef(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,vt=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,vt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=qn!==null?{id:Dr,overflow:Rr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yt=e,vt=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rc(e){if(Se){var t=vt;if(t){var r=t;if(!Ef(e,t)){if(tc(e))throw Error(z(418));t=sn(r.nextSibling);var n=yt;t&&Ef(e,t)?Ep(n,r):(e.flags=e.flags&-4097|2,Se=!1,yt=e)}}else{if(tc(e))throw Error(z(418));e.flags=e.flags&-4097|2,Se=!1,yt=e}}}function Cf(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function io(e){if(e!==yt)return!1;if(!Se)return Cf(e),Se=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=vt)){if(tc(e))throw Cp(),Error(z(418));for(;t;)Ep(e,t),t=sn(t.nextSibling)}if(Cf(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){vt=sn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}vt=null}}else vt=yt?sn(e.stateNode.nextSibling):null;return!0}function Cp(){for(var e=vt;e;)e=sn(e.nextSibling)}function Us(){vt=yt=null,Se=!1}function Yc(e){Ht===null?Ht=[e]:Ht.push(e)}var Ax=Fr.ReactCurrentBatchConfig;function zt(e,t){if(e&&e.defaultProps){t=_e({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var Go=mn(null),Ko=null,Es=null,Xc=null;function ed(){Xc=Es=Ko=null}function td(e){var t=Go.current;Ne(Go),e._currentValue=t}function nc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ls(e,t){Ko=e,Xc=Es=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ut=!0),e.firstContext=null)}function Tt(e){var t=e._currentValue;if(Xc!==e)if(e={context:e,memoizedValue:t,next:null},Es===null){if(Ko===null)throw Error(z(308));Es=e,Ko.dependencies={lanes:0,firstContext:e}}else Es=Es.next=e;return t}var Bn=null;function rd(e){Bn===null?Bn=[e]:Bn.push(e)}function _p(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,rd(t)):(r.next=s.next,s.next=r),t.interleaved=r,Ir(e,n)}function Ir(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Kr=!1;function nd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ar(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ce&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ir(e,r)}return s=n.interleaved,s===null?(t.next=t,rd(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ir(e,r)}function No(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zc(e,r)}}function _f(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?s=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?s=l=t:l=l.next=t}else s=l=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zo(e,t,r,n){var s=e.updateQueue;Kr=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var c=u,m=c.next;c.next=null,i===null?l=m:i.next=m,i=c;var x=e.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==i&&(u===null?x.firstBaseUpdate=m:u.next=m,x.lastBaseUpdate=c))}if(l!==null){var b=s.baseState;i=0,x=m=c=null,u=l;do{var j=u.lane,_=u.eventTime;if((n&j)===j){x!==null&&(x=x.next={eventTime:_,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var A=e,R=u;switch(j=t,_=r,R.tag){case 1:if(A=R.payload,typeof A=="function"){b=A.call(_,b,j);break e}b=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,j=typeof A=="function"?A.call(_,b,j):A,j==null)break e;b=_e({},b,j);break e;case 2:Kr=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,j=s.effects,j===null?s.effects=[u]:j.push(u))}else _={eventTime:_,lane:j,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(m=x=_,c=b):x=x.next=_,i|=j;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;j=u,u=j.next,j.next=null,s.lastBaseUpdate=j,s.shared.pending=null}}while(!0);if(x===null&&(c=b),s.baseState=c,s.firstBaseUpdate=m,s.lastBaseUpdate=x,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else l===null&&(s.shared.lanes=0);Gn|=i,e.lanes=i,e.memoizedState=b}}function Df(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(z(191,s));s.call(n)}}}var Rp=new _h.Component().refs;function sc(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:_e({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var pi={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=rt(),s=on(e),l=Ar(n,s);l.payload=t,r!=null&&(l.callback=r),t=an(e,l,s),t!==null&&(Gt(t,e,s,n),No(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=rt(),s=on(e),l=Ar(n,s);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=an(e,l,s),t!==null&&(Gt(t,e,s,n),No(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=rt(),n=on(e),s=Ar(r,n);s.tag=2,t!=null&&(s.callback=t),t=an(e,s,n),t!==null&&(Gt(t,e,n,r),No(t,e,n))}};function Rf(e,t,r,n,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!sl(r,n)||!sl(s,l):!0}function Ap(e,t,r){var n=!1,s=hn,l=t.contextType;return typeof l=="object"&&l!==null?l=Tt(l):(s=dt(t)?Hn:Xe.current,n=t.contextTypes,l=(n=n!=null)?Os(e,s):hn),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=pi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=l),t}function Af(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&pi.enqueueReplaceState(t,t.state,null)}function ac(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs=Rp,nd(e);var l=t.contextType;typeof l=="object"&&l!==null?s.context=Tt(l):(l=dt(t)?Hn:Xe.current,s.context=Os(e,l)),s.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(sc(e,t,l,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&pi.enqueueReplaceState(s,s.state,null),Zo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Ra(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var n=r.stateNode}if(!n)throw Error(z(147,e));var s=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var u=s.refs;u===Rp&&(u=s.refs={}),i===null?delete u[l]:u[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function uo(e,t){throw e=Object.prototype.toString.call(t),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pf(e){var t=e._init;return t(e._payload)}function Pp(e){function t(k,g){if(e){var w=k.deletions;w===null?(k.deletions=[g],k.flags|=16):w.push(g)}}function r(k,g){if(!e)return null;for(;g!==null;)t(k,g),g=g.sibling;return null}function n(k,g){for(k=new Map;g!==null;)g.key!==null?k.set(g.key,g):k.set(g.index,g),g=g.sibling;return k}function s(k,g){return k=un(k,g),k.index=0,k.sibling=null,k}function l(k,g,w){return k.index=w,e?(w=k.alternate,w!==null?(w=w.index,w<g?(k.flags|=2,g):w):(k.flags|=2,g)):(k.flags|=1048576,g)}function i(k){return e&&k.alternate===null&&(k.flags|=2),k}function u(k,g,w,C){return g===null||g.tag!==6?(g=xu(w,k.mode,C),g.return=k,g):(g=s(g,w),g.return=k,g)}function c(k,g,w,C){var P=w.type;return P===vs?x(k,g,w.props.children,C,w.key):g!==null&&(g.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gr&&Pf(P)===g.type)?(C=s(g,w.props),C.ref=Ra(k,g,w),C.return=k,C):(C=Ro(w.type,w.key,w.props,null,k.mode,C),C.ref=Ra(k,g,w),C.return=k,C)}function m(k,g,w,C){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=vu(w,k.mode,C),g.return=k,g):(g=s(g,w.children||[]),g.return=k,g)}function x(k,g,w,C,P){return g===null||g.tag!==7?(g=Wn(w,k.mode,C,P),g.return=k,g):(g=s(g,w),g.return=k,g)}function b(k,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=xu(""+g,k.mode,w),g.return=k,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Yl:return w=Ro(g.type,g.key,g.props,null,k.mode,w),w.ref=Ra(k,null,g),w.return=k,w;case xs:return g=vu(g,k.mode,w),g.return=k,g;case Gr:var C=g._init;return b(k,C(g._payload),w)}if(Ua(g)||Sa(g))return g=Wn(g,k.mode,w,null),g.return=k,g;uo(k,g)}return null}function j(k,g,w,C){var P=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:u(k,g,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yl:return w.key===P?c(k,g,w,C):null;case xs:return w.key===P?m(k,g,w,C):null;case Gr:return P=w._init,j(k,g,P(w._payload),C)}if(Ua(w)||Sa(w))return P!==null?null:x(k,g,w,C,null);uo(k,w)}return null}function _(k,g,w,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return k=k.get(w)||null,u(g,k,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Yl:return k=k.get(C.key===null?w:C.key)||null,c(g,k,C,P);case xs:return k=k.get(C.key===null?w:C.key)||null,m(g,k,C,P);case Gr:var U=C._init;return _(k,g,w,U(C._payload),P)}if(Ua(C)||Sa(C))return k=k.get(w)||null,x(g,k,C,P,null);uo(g,C)}return null}function A(k,g,w,C){for(var P=null,U=null,V=g,q=g=0,O=null;V!==null&&q<w.length;q++){V.index>q?(O=V,V=null):O=V.sibling;var $=j(k,V,w[q],C);if($===null){V===null&&(V=O);break}e&&V&&$.alternate===null&&t(k,V),g=l($,g,q),U===null?P=$:U.sibling=$,U=$,V=O}if(q===w.length)return r(k,V),Se&&On(k,q),P;if(V===null){for(;q<w.length;q++)V=b(k,w[q],C),V!==null&&(g=l(V,g,q),U===null?P=V:U.sibling=V,U=V);return Se&&On(k,q),P}for(V=n(k,V);q<w.length;q++)O=_(V,k,q,w[q],C),O!==null&&(e&&O.alternate!==null&&V.delete(O.key===null?q:O.key),g=l(O,g,q),U===null?P=O:U.sibling=O,U=O);return e&&V.forEach(function(J){return t(k,J)}),Se&&On(k,q),P}function R(k,g,w,C){var P=Sa(w);if(typeof P!="function")throw Error(z(150));if(w=P.call(w),w==null)throw Error(z(151));for(var U=P=null,V=g,q=g=0,O=null,$=w.next();V!==null&&!$.done;q++,$=w.next()){V.index>q?(O=V,V=null):O=V.sibling;var J=j(k,V,$.value,C);if(J===null){V===null&&(V=O);break}e&&V&&J.alternate===null&&t(k,V),g=l(J,g,q),U===null?P=J:U.sibling=J,U=J,V=O}if($.done)return r(k,V),Se&&On(k,q),P;if(V===null){for(;!$.done;q++,$=w.next())$=b(k,$.value,C),$!==null&&(g=l($,g,q),U===null?P=$:U.sibling=$,U=$);return Se&&On(k,q),P}for(V=n(k,V);!$.done;q++,$=w.next())$=_(V,k,q,$.value,C),$!==null&&(e&&$.alternate!==null&&V.delete($.key===null?q:$.key),g=l($,g,q),U===null?P=$:U.sibling=$,U=$);return e&&V.forEach(function(ue){return t(k,ue)}),Se&&On(k,q),P}function L(k,g,w,C){if(typeof w=="object"&&w!==null&&w.type===vs&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yl:e:{for(var P=w.key,U=g;U!==null;){if(U.key===P){if(P=w.type,P===vs){if(U.tag===7){r(k,U.sibling),g=s(U,w.props.children),g.return=k,k=g;break e}}else if(U.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Gr&&Pf(P)===U.type){r(k,U.sibling),g=s(U,w.props),g.ref=Ra(k,U,w),g.return=k,k=g;break e}r(k,U);break}else t(k,U);U=U.sibling}w.type===vs?(g=Wn(w.props.children,k.mode,C,w.key),g.return=k,k=g):(C=Ro(w.type,w.key,w.props,null,k.mode,C),C.ref=Ra(k,g,w),C.return=k,k=C)}return i(k);case xs:e:{for(U=w.key;g!==null;){if(g.key===U)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(k,g.sibling),g=s(g,w.children||[]),g.return=k,k=g;break e}else{r(k,g);break}else t(k,g);g=g.sibling}g=vu(w,k.mode,C),g.return=k,k=g}return i(k);case Gr:return U=w._init,L(k,g,U(w._payload),C)}if(Ua(w))return A(k,g,w,C);if(Sa(w))return R(k,g,w,C);uo(k,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(r(k,g.sibling),g=s(g,w),g.return=k,k=g):(r(k,g),g=xu(w,k.mode,C),g.return=k,k=g),i(k)):r(k,g)}return L}var $s=Pp(!0),Lp=Pp(!1),wl={},cr=mn(wl),il=mn(wl),ul=mn(wl);function zn(e){if(e===wl)throw Error(z(174));return e}function sd(e,t){switch(be(ul,t),be(il,e),be(cr,wl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ou(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ou(t,e)}Ne(cr),be(cr,t)}function Ms(){Ne(cr),Ne(il),Ne(ul)}function Ip(e){zn(ul.current);var t=zn(cr.current),r=Ou(t,e.type);t!==r&&(be(il,e),be(cr,r))}function ad(e){il.current===e&&(Ne(cr),Ne(il))}var Ee=mn(0);function Jo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var du=[];function ld(){for(var e=0;e<du.length;e++)du[e]._workInProgressVersionPrimary=null;du.length=0}var So=Fr.ReactCurrentDispatcher,fu=Fr.ReactCurrentBatchConfig,Qn=0,Ce=null,Be=null,We=null,Yo=!1,Qa=!1,cl=0,Px=0;function Ze(){throw Error(z(321))}function od(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Kt(e[r],t[r]))return!1;return!0}function id(e,t,r,n,s,l){if(Qn=l,Ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,So.current=e===null||e.memoizedState===null?Fx:Ox,e=r(n,s),Qa){l=0;do{if(Qa=!1,cl=0,25<=l)throw Error(z(301));l+=1,We=Be=null,t.updateQueue=null,So.current=Ux,e=r(n,s)}while(Qa)}if(So.current=Xo,t=Be!==null&&Be.next!==null,Qn=0,We=Be=Ce=null,Yo=!1,t)throw Error(z(300));return e}function ud(){var e=cl!==0;return cl=0,e}function or(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Ce.memoizedState=We=e:We=We.next=e,We}function Ft(){if(Be===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=We===null?Ce.memoizedState:We.next;if(t!==null)We=t,Be=e;else{if(e===null)throw Error(z(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},We===null?Ce.memoizedState=We=e:We=We.next=e}return We}function dl(e,t){return typeof t=="function"?t(e):t}function hu(e){var t=Ft(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=Be,s=n.baseQueue,l=r.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}n.baseQueue=s=l,r.pending=null}if(s!==null){l=s.next,n=n.baseState;var u=i=null,c=null,m=l;do{var x=m.lane;if((Qn&x)===x)c!==null&&(c=c.next={lane:0,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null}),n=m.hasEagerState?m.eagerState:e(n,m.action);else{var b={lane:x,action:m.action,hasEagerState:m.hasEagerState,eagerState:m.eagerState,next:null};c===null?(u=c=b,i=n):c=c.next=b,Ce.lanes|=x,Gn|=x}m=m.next}while(m!==null&&m!==l);c===null?i=n:c.next=u,Kt(n,t.memoizedState)||(ut=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do l=s.lane,Ce.lanes|=l,Gn|=l,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function pu(e){var t=Ft(),r=t.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,l=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);Kt(l,t.memoizedState)||(ut=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function Tp(){}function Fp(e,t){var r=Ce,n=Ft(),s=t(),l=!Kt(n.memoizedState,s);if(l&&(n.memoizedState=s,ut=!0),n=n.queue,cd($p.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||We!==null&&We.memoizedState.tag&1){if(r.flags|=2048,fl(9,Up.bind(null,r,n,s,t),void 0,null),He===null)throw Error(z(349));Qn&30||Op(r,t,s)}return s}function Op(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Up(e,t,r,n){t.value=r,t.getSnapshot=n,Mp(t)&&Bp(e)}function $p(e,t,r){return r(function(){Mp(t)&&Bp(e)})}function Mp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Kt(e,r)}catch{return!0}}function Bp(e){var t=Ir(e,1);t!==null&&Gt(t,e,1,-1)}function Lf(e){var t=or();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:e},t.queue=e,e=e.dispatch=Tx.bind(null,Ce,e),[t.memoizedState,e]}function fl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ce.updateQueue,t===null?(t={lastEffect:null,stores:null},Ce.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function zp(){return Ft().memoizedState}function Eo(e,t,r,n){var s=or();Ce.flags|=e,s.memoizedState=fl(1|t,r,void 0,n===void 0?null:n)}function mi(e,t,r,n){var s=Ft();n=n===void 0?null:n;var l=void 0;if(Be!==null){var i=Be.memoizedState;if(l=i.destroy,n!==null&&od(n,i.deps)){s.memoizedState=fl(t,r,l,n);return}}Ce.flags|=e,s.memoizedState=fl(1|t,r,l,n)}function If(e,t){return Eo(8390656,8,e,t)}function cd(e,t){return mi(2048,8,e,t)}function Vp(e,t){return mi(4,2,e,t)}function Wp(e,t){return mi(4,4,e,t)}function Hp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qp(e,t,r){return r=r!=null?r.concat([e]):null,mi(4,4,Hp.bind(null,t,e),r)}function dd(){}function Qp(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&od(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Gp(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&od(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Kp(e,t,r){return Qn&21?(Kt(r,t)||(r=Yh(),Ce.lanes|=r,Gn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=r)}function Lx(e,t){var r=pe;pe=r!==0&&4>r?r:4,e(!0);var n=fu.transition;fu.transition={};try{e(!1),t()}finally{pe=r,fu.transition=n}}function Zp(){return Ft().memoizedState}function Ix(e,t,r){var n=on(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Jp(e))Yp(t,r);else if(r=_p(e,t,r,n),r!==null){var s=rt();Gt(r,e,n,s),Xp(r,t,n)}}function Tx(e,t,r){var n=on(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Jp(e))Yp(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,u=l(i,r);if(s.hasEagerState=!0,s.eagerState=u,Kt(u,i)){var c=t.interleaved;c===null?(s.next=s,rd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=_p(e,t,s,n),r!==null&&(s=rt(),Gt(r,e,n,s),Xp(r,t,n))}}function Jp(e){var t=e.alternate;return e===Ce||t!==null&&t===Ce}function Yp(e,t){Qa=Yo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Xp(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,zc(e,r)}}var Xo={readContext:Tt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Fx={readContext:Tt,useCallback:function(e,t){return or().memoizedState=[e,t===void 0?null:t],e},useContext:Tt,useEffect:If,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Eo(4194308,4,Hp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Eo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Eo(4,2,e,t)},useMemo:function(e,t){var r=or();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=or();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ix.bind(null,Ce,e),[n.memoizedState,e]},useRef:function(e){var t=or();return e={current:e},t.memoizedState=e},useState:Lf,useDebugValue:dd,useDeferredValue:function(e){return or().memoizedState=e},useTransition:function(){var e=Lf(!1),t=e[0];return e=Lx.bind(null,e[1]),or().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ce,s=or();if(Se){if(r===void 0)throw Error(z(407));r=r()}else{if(r=t(),He===null)throw Error(z(349));Qn&30||Op(n,t,r)}s.memoizedState=r;var l={value:r,getSnapshot:t};return s.queue=l,If($p.bind(null,n,l,e),[e]),n.flags|=2048,fl(9,Up.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=or(),t=He.identifierPrefix;if(Se){var r=Rr,n=Dr;r=(n&~(1<<32-Qt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=cl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Px++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ox={readContext:Tt,useCallback:Qp,useContext:Tt,useEffect:cd,useImperativeHandle:qp,useInsertionEffect:Vp,useLayoutEffect:Wp,useMemo:Gp,useReducer:hu,useRef:zp,useState:function(){return hu(dl)},useDebugValue:dd,useDeferredValue:function(e){var t=Ft();return Kp(t,Be.memoizedState,e)},useTransition:function(){var e=hu(dl)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Fp,useId:Zp,unstable_isNewReconciler:!1},Ux={readContext:Tt,useCallback:Qp,useContext:Tt,useEffect:cd,useImperativeHandle:qp,useInsertionEffect:Vp,useLayoutEffect:Wp,useMemo:Gp,useReducer:pu,useRef:zp,useState:function(){return pu(dl)},useDebugValue:dd,useDeferredValue:function(e){var t=Ft();return Be===null?t.memoizedState=e:Kp(t,Be.memoizedState,e)},useTransition:function(){var e=pu(dl)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Fp,useId:Zp,unstable_isNewReconciler:!1};function Bs(e,t){try{var r="",n=t;do r+=fg(n),n=n.return;while(n);var s=r}catch(l){s=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:s,digest:null}}function mu(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var $x=typeof WeakMap=="function"?WeakMap:Map;function em(e,t,r){r=Ar(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ti||(ti=!0,gc=n),lc(e,t)},r}function tm(e,t,r){r=Ar(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lc(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){lc(e,t),typeof n!="function"&&(ln===null?ln=new Set([this]):ln.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function Tf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new $x;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Xx.bind(null,e,t,r),t.then(e,e))}function Ff(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Of(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ar(-1,1),t.tag=2,an(r,t,1))),r.lanes|=1),e)}var Mx=Fr.ReactCurrentOwner,ut=!1;function tt(e,t,r,n){t.child=e===null?Lp(t,null,r,n):$s(t,e.child,r,n)}function Uf(e,t,r,n,s){r=r.render;var l=t.ref;return Ls(t,s),n=id(e,t,r,n,l,s),r=ud(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tr(e,t,s)):(Se&&r&&Zc(t),t.flags|=1,tt(e,t,n,s),t.child)}function $f(e,t,r,n,s){if(e===null){var l=r.type;return typeof l=="function"&&!yd(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,rm(e,t,l,n,s)):(e=Ro(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&s)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:sl,r(i,n)&&e.ref===t.ref)return Tr(e,t,s)}return t.flags|=1,e=un(l,n),e.ref=t.ref,e.return=t,t.child=e}function rm(e,t,r,n,s){if(e!==null){var l=e.memoizedProps;if(sl(l,n)&&e.ref===t.ref)if(ut=!1,t.pendingProps=n=l,(e.lanes&s)!==0)e.flags&131072&&(ut=!0);else return t.lanes=e.lanes,Tr(e,t,s)}return oc(e,t,r,n,s)}function nm(e,t,r){var n=t.pendingProps,s=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(_s,gt),gt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,be(_s,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,be(_s,gt),gt|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,be(_s,gt),gt|=n;return tt(e,t,s,r),t.child}function sm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,r,n,s){var l=dt(r)?Hn:Xe.current;return l=Os(t,l),Ls(t,s),r=id(e,t,r,n,l,s),n=ud(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Tr(e,t,s)):(Se&&n&&Zc(t),t.flags|=1,tt(e,t,r,s),t.child)}function Mf(e,t,r,n,s){if(dt(r)){var l=!0;Ho(t)}else l=!1;if(Ls(t,s),t.stateNode===null)Co(e,t),Ap(t,r,n),ac(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,u=t.memoizedProps;i.props=u;var c=i.context,m=r.contextType;typeof m=="object"&&m!==null?m=Tt(m):(m=dt(r)?Hn:Xe.current,m=Os(t,m));var x=r.getDerivedStateFromProps,b=typeof x=="function"||typeof i.getSnapshotBeforeUpdate=="function";b||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==n||c!==m)&&Af(t,i,n,m),Kr=!1;var j=t.memoizedState;i.state=j,Zo(t,n,i,s),c=t.memoizedState,u!==n||j!==c||ct.current||Kr?(typeof x=="function"&&(sc(t,r,x,n),c=t.memoizedState),(u=Kr||Rf(t,r,u,n,j,c,m))?(b||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=m,n=u):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Dp(e,t),u=t.memoizedProps,m=t.type===t.elementType?u:zt(t.type,u),i.props=m,b=t.pendingProps,j=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Tt(c):(c=dt(r)?Hn:Xe.current,c=Os(t,c));var _=r.getDerivedStateFromProps;(x=typeof _=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(u!==b||j!==c)&&Af(t,i,n,c),Kr=!1,j=t.memoizedState,i.state=j,Zo(t,n,i,s);var A=t.memoizedState;u!==b||j!==A||ct.current||Kr?(typeof _=="function"&&(sc(t,r,_,n),A=t.memoizedState),(m=Kr||Rf(t,r,m,n,j,A,c)||!1)?(x||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,A,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,A,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=A),i.props=n,i.state=A,i.context=c,n=m):(typeof i.componentDidUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),n=!1)}return ic(e,t,r,n,l,s)}function ic(e,t,r,n,s,l){sm(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&Sf(t,r,!1),Tr(e,t,l);n=t.stateNode,Mx.current=t;var u=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=$s(t,e.child,null,l),t.child=$s(t,null,u,l)):tt(e,t,u,l),t.memoizedState=n.state,s&&Sf(t,r,!0),t.child}function am(e){var t=e.stateNode;t.pendingContext?Nf(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Nf(e,t.context,!1),sd(e,t.containerInfo)}function Bf(e,t,r,n,s){return Us(),Yc(s),t.flags|=256,tt(e,t,r,n),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function lm(e,t,r){var n=t.pendingProps,s=Ee.current,l=!1,i=(t.flags&128)!==0,u;if((u=i)||(u=e!==null&&e.memoizedState===null?!1:(s&2)!==0),u?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),be(Ee,s&1),e===null)return rc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=vi(i,n,0,null),e=Wn(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=cc(r),t.memoizedState=uc,e):fd(t,i));if(s=e.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return Bx(e,t,i,n,u,s,r);if(l){l=n.fallback,i=t.mode,s=e.child,u=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=un(s,c),n.subtreeFlags=s.subtreeFlags&14680064),u!==null?l=un(u,l):(l=Wn(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?cc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=uc,n}return l=e.child,e=l.sibling,n=un(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function fd(e,t){return t=vi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function co(e,t,r,n){return n!==null&&Yc(n),$s(t,e.child,null,r),e=fd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bx(e,t,r,n,s,l,i){if(r)return t.flags&256?(t.flags&=-257,n=mu(Error(z(422))),co(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,s=t.mode,n=vi({mode:"visible",children:n.children},s,0,null),l=Wn(l,s,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&$s(t,e.child,null,i),t.child.memoizedState=cc(i),t.memoizedState=uc,l);if(!(t.mode&1))return co(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var u=n.dgst;return n=u,l=Error(z(419)),n=mu(l,n,void 0),co(e,t,i,n)}if(u=(i&e.childLanes)!==0,ut||u){if(n=He,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==l.retryLane&&(l.retryLane=s,Ir(e,s),Gt(n,e,s,-1))}return vd(),n=mu(Error(z(421))),co(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ev.bind(null,e),s._reactRetry=t,null):(e=l.treeContext,vt=sn(s.nextSibling),yt=t,Se=!0,Ht=null,e!==null&&(Rt[At++]=Dr,Rt[At++]=Rr,Rt[At++]=qn,Dr=e.id,Rr=e.overflow,qn=t),t=fd(t,n.children),t.flags|=4096,t)}function zf(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nc(e.return,t,r)}function gu(e,t,r,n,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=s)}function om(e,t,r){var n=t.pendingProps,s=n.revealOrder,l=n.tail;if(tt(e,t,n.children,r),n=Ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&zf(e,r,t);else if(e.tag===19)zf(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(be(Ee,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Jo(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),gu(t,!1,s,r,l);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Jo(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}gu(t,!0,r,null,l);break;case"together":gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Co(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Tr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Gn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(z(153));if(t.child!==null){for(e=t.child,r=un(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=un(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zx(e,t,r){switch(t.tag){case 3:am(t),Us();break;case 5:Ip(t);break;case 1:dt(t.type)&&Ho(t);break;case 4:sd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;be(Go,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(be(Ee,Ee.current&1),t.flags|=128,null):r&t.child.childLanes?lm(e,t,r):(be(Ee,Ee.current&1),e=Tr(e,t,r),e!==null?e.sibling:null);be(Ee,Ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return om(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),be(Ee,Ee.current),n)break;return null;case 22:case 23:return t.lanes=0,nm(e,t,r)}return Tr(e,t,r)}var im,dc,um,cm;im=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dc=function(){};um=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,zn(cr.current);var l=null;switch(r){case"input":s=Lu(e,s),n=Lu(e,n),l=[];break;case"select":s=_e({},s,{value:void 0}),n=_e({},n,{value:void 0}),l=[];break;case"textarea":s=Fu(e,s),n=Fu(e,n),l=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Vo)}Uu(r,n);var i;r=null;for(m in s)if(!n.hasOwnProperty(m)&&s.hasOwnProperty(m)&&s[m]!=null)if(m==="style"){var u=s[m];for(i in u)u.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else m!=="dangerouslySetInnerHTML"&&m!=="children"&&m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(Ja.hasOwnProperty(m)?l||(l=[]):(l=l||[]).push(m,null));for(m in n){var c=n[m];if(u=s!=null?s[m]:void 0,n.hasOwnProperty(m)&&c!==u&&(c!=null||u!=null))if(m==="style")if(u){for(i in u)!u.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&u[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(m,r)),r=c;else m==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(l=l||[]).push(m,c)):m==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(m,""+c):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&(Ja.hasOwnProperty(m)?(c!=null&&m==="onScroll"&&je("scroll",e),l||u===c||(l=[])):(l=l||[]).push(m,c))}r&&(l=l||[]).push("style",r);var m=l;(t.updateQueue=m)&&(t.flags|=4)}};cm=function(e,t,r,n){r!==n&&(t.flags|=4)};function Aa(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Vx(e,t,r){var n=t.pendingProps;switch(Jc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return dt(t.type)&&Wo(),Je(t),null;case 3:return n=t.stateNode,Ms(),Ne(ct),Ne(Xe),ld(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(io(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ht!==null&&(yc(Ht),Ht=null))),dc(e,t),Je(t),null;case 5:ad(t);var s=zn(ul.current);if(r=t.type,e!==null&&t.stateNode!=null)um(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(z(166));return Je(t),null}if(e=zn(cr.current),io(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ir]=t,n[ol]=l,e=(t.mode&1)!==0,r){case"dialog":je("cancel",n),je("close",n);break;case"iframe":case"object":case"embed":je("load",n);break;case"video":case"audio":for(s=0;s<Ma.length;s++)je(Ma[s],n);break;case"source":je("error",n);break;case"img":case"image":case"link":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"input":Zd(n,l),je("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},je("invalid",n);break;case"textarea":Yd(n,l),je("invalid",n)}Uu(r,l),s=null;for(var i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="children"?typeof u=="string"?n.textContent!==u&&(l.suppressHydrationWarning!==!0&&oo(n.textContent,u,e),s=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(l.suppressHydrationWarning!==!0&&oo(n.textContent,u,e),s=["children",""+u]):Ja.hasOwnProperty(i)&&u!=null&&i==="onScroll"&&je("scroll",n)}switch(r){case"input":Xl(n),Jd(n,l,!0);break;case"textarea":Xl(n),Xd(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Vo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Oh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ir]=t,e[ol]=n,im(e,t,!1,!1),t.stateNode=e;e:{switch(i=$u(r,n),r){case"dialog":je("cancel",e),je("close",e),s=n;break;case"iframe":case"object":case"embed":je("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ma.length;s++)je(Ma[s],e);s=n;break;case"source":je("error",e),s=n;break;case"img":case"image":case"link":je("error",e),je("load",e),s=n;break;case"details":je("toggle",e),s=n;break;case"input":Zd(e,n),s=Lu(e,n),je("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=_e({},n,{value:void 0}),je("invalid",e);break;case"textarea":Yd(e,n),s=Fu(e,n),je("invalid",e);break;default:s=n}Uu(r,s),u=s;for(l in u)if(u.hasOwnProperty(l)){var c=u[l];l==="style"?Mh(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Uh(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ya(e,c):typeof c=="number"&&Ya(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Ja.hasOwnProperty(l)?c!=null&&l==="onScroll"&&je("scroll",e):c!=null&&Fc(e,l,c,i))}switch(r){case"input":Xl(e),Jd(e,n,!1);break;case"textarea":Xl(e),Xd(e);break;case"option":n.value!=null&&e.setAttribute("value",""+fn(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?Ds(e,!!n.multiple,l,!1):n.defaultValue!=null&&Ds(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Vo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)cm(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(z(166));if(r=zn(ul.current),zn(cr.current),io(t)){if(n=t.stateNode,r=t.memoizedProps,n[ir]=t,(l=n.nodeValue!==r)&&(e=yt,e!==null))switch(e.tag){case 3:oo(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&oo(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ir]=t,t.stateNode=n}return Je(t),null;case 13:if(Ne(Ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Se&&vt!==null&&t.mode&1&&!(t.flags&128))Cp(),Us(),t.flags|=98560,l=!1;else if(l=io(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[ir]=t}else Us(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Je(t),l=!1}else Ht!==null&&(yc(Ht),Ht=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Ee.current&1?ze===0&&(ze=3):vd())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return Ms(),dc(e,t),e===null&&al(t.stateNode.containerInfo),Je(t),null;case 10:return td(t.type._context),Je(t),null;case 17:return dt(t.type)&&Wo(),Je(t),null;case 19:if(Ne(Ee),l=t.memoizedState,l===null)return Je(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Aa(l,!1);else{if(ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Jo(e),i!==null){for(t.flags|=128,Aa(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return be(Ee,Ee.current&1|2),t.child}e=e.sibling}l.tail!==null&&Ie()>zs&&(t.flags|=128,n=!0,Aa(l,!1),t.lanes=4194304)}else{if(!n)if(e=Jo(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Aa(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!Se)return Je(t),null}else 2*Ie()-l.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,Aa(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=Ie(),t.sibling=null,r=Ee.current,be(Ee,n?r&1|2:r&1),t):(Je(t),null);case 22:case 23:return xd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?gt&1073741824&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(z(156,t.tag))}function Wx(e,t){switch(Jc(t),t.tag){case 1:return dt(t.type)&&Wo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ms(),Ne(ct),Ne(Xe),ld(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ad(t),null;case 13:if(Ne(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(z(340));Us()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ne(Ee),null;case 4:return Ms(),null;case 10:return td(t.type._context),null;case 22:case 23:return xd(),null;case 24:return null;default:return null}}var fo=!1,Ye=!1,Hx=typeof WeakSet=="function"?WeakSet:Set,K=null;function Cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Pe(e,t,n)}else r.current=null}function fc(e,t,r){try{r()}catch(n){Pe(e,t,n)}}var Vf=!1;function qx(e,t){if(Ku=Mo,e=pp(),Kc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,u=-1,c=-1,m=0,x=0,b=e,j=null;t:for(;;){for(var _;b!==r||s!==0&&b.nodeType!==3||(u=i+s),b!==l||n!==0&&b.nodeType!==3||(c=i+n),b.nodeType===3&&(i+=b.nodeValue.length),(_=b.firstChild)!==null;)j=b,b=_;for(;;){if(b===e)break t;if(j===r&&++m===s&&(u=i),j===l&&++x===n&&(c=i),(_=b.nextSibling)!==null)break;b=j,j=b.parentNode}b=_}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zu={focusedElem:e,selectionRange:r},Mo=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var A=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,L=A.memoizedState,k=t.stateNode,g=k.getSnapshotBeforeUpdate(t.elementType===t.type?R:zt(t.type,R),L);k.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(C){Pe(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return A=Vf,Vf=!1,A}function Ga(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.destroy;s.destroy=void 0,l!==void 0&&fc(t,r,l)}s=s.next}while(s!==n)}}function gi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function dm(e){var t=e.alternate;t!==null&&(e.alternate=null,dm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ir],delete t[ol],delete t[Xu],delete t[_x],delete t[Dx])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function fm(e){return e.tag===5||e.tag===3||e.tag===4}function Wf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vo));else if(n!==4&&(e=e.child,e!==null))for(pc(e,t,r),e=e.sibling;e!==null;)pc(e,t,r),e=e.sibling}function mc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(mc(e,t,r),e=e.sibling;e!==null;)mc(e,t,r),e=e.sibling}var qe=null,Vt=!1;function Qr(e,t,r){for(r=r.child;r!==null;)hm(e,t,r),r=r.sibling}function hm(e,t,r){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(ii,r)}catch{}switch(r.tag){case 5:Ye||Cs(r,t);case 6:var n=qe,s=Vt;qe=null,Qr(e,t,r),qe=n,Vt=s,qe!==null&&(Vt?(e=qe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):qe.removeChild(r.stateNode));break;case 18:qe!==null&&(Vt?(e=qe,r=r.stateNode,e.nodeType===8?uu(e.parentNode,r):e.nodeType===1&&uu(e,r),rl(e)):uu(qe,r.stateNode));break;case 4:n=qe,s=Vt,qe=r.stateNode.containerInfo,Vt=!0,Qr(e,t,r),qe=n,Vt=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var l=s,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&fc(r,t,i),s=s.next}while(s!==n)}Qr(e,t,r);break;case 1:if(!Ye&&(Cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){Pe(r,t,u)}Qr(e,t,r);break;case 21:Qr(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,Qr(e,t,r),Ye=n):Qr(e,t,r);break;default:Qr(e,t,r)}}function Hf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Hx),t.forEach(function(n){var s=tv.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function $t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var l=e,i=t,u=i;e:for(;u!==null;){switch(u.tag){case 5:qe=u.stateNode,Vt=!1;break e;case 3:qe=u.stateNode.containerInfo,Vt=!0;break e;case 4:qe=u.stateNode.containerInfo,Vt=!0;break e}u=u.return}if(qe===null)throw Error(z(160));hm(l,i,s),qe=null,Vt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(m){Pe(s,t,m)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)pm(t,e),t=t.sibling}function pm(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if($t(t,e),lr(e),n&4){try{Ga(3,e,e.return),gi(3,e)}catch(R){Pe(e,e.return,R)}try{Ga(5,e,e.return)}catch(R){Pe(e,e.return,R)}}break;case 1:$t(t,e),lr(e),n&512&&r!==null&&Cs(r,r.return);break;case 5:if($t(t,e),lr(e),n&512&&r!==null&&Cs(r,r.return),e.flags&32){var s=e.stateNode;try{Ya(s,"")}catch(R){Pe(e,e.return,R)}}if(n&4&&(s=e.stateNode,s!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&l.type==="radio"&&l.name!=null&&Th(s,l),$u(u,i);var m=$u(u,l);for(i=0;i<c.length;i+=2){var x=c[i],b=c[i+1];x==="style"?Mh(s,b):x==="dangerouslySetInnerHTML"?Uh(s,b):x==="children"?Ya(s,b):Fc(s,x,b,m)}switch(u){case"input":Iu(s,l);break;case"textarea":Fh(s,l);break;case"select":var j=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!l.multiple;var _=l.value;_!=null?Ds(s,!!l.multiple,_,!1):j!==!!l.multiple&&(l.defaultValue!=null?Ds(s,!!l.multiple,l.defaultValue,!0):Ds(s,!!l.multiple,l.multiple?[]:"",!1))}s[ol]=l}catch(R){Pe(e,e.return,R)}}break;case 6:if($t(t,e),lr(e),n&4){if(e.stateNode===null)throw Error(z(162));s=e.stateNode,l=e.memoizedProps;try{s.nodeValue=l}catch(R){Pe(e,e.return,R)}}break;case 3:if($t(t,e),lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{rl(t.containerInfo)}catch(R){Pe(e,e.return,R)}break;case 4:$t(t,e),lr(e);break;case 13:$t(t,e),lr(e),s=e.child,s.flags&8192&&(l=s.memoizedState!==null,s.stateNode.isHidden=l,!l||s.alternate!==null&&s.alternate.memoizedState!==null||(md=Ie())),n&4&&Hf(e);break;case 22:if(x=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(m=Ye)||x,$t(t,e),Ye=m):$t(t,e),lr(e),n&8192){if(m=e.memoizedState!==null,(e.stateNode.isHidden=m)&&!x&&e.mode&1)for(K=e,x=e.child;x!==null;){for(b=K=x;K!==null;){switch(j=K,_=j.child,j.tag){case 0:case 11:case 14:case 15:Ga(4,j,j.return);break;case 1:Cs(j,j.return);var A=j.stateNode;if(typeof A.componentWillUnmount=="function"){n=j,r=j.return;try{t=n,A.props=t.memoizedProps,A.state=t.memoizedState,A.componentWillUnmount()}catch(R){Pe(n,r,R)}}break;case 5:Cs(j,j.return);break;case 22:if(j.memoizedState!==null){Qf(b);continue}}_!==null?(_.return=j,K=_):Qf(b)}x=x.sibling}e:for(x=null,b=e;;){if(b.tag===5){if(x===null){x=b;try{s=b.stateNode,m?(l=s.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(u=b.stateNode,c=b.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=$h("display",i))}catch(R){Pe(e,e.return,R)}}}else if(b.tag===6){if(x===null)try{b.stateNode.nodeValue=m?"":b.memoizedProps}catch(R){Pe(e,e.return,R)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===e)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===e)break e;for(;b.sibling===null;){if(b.return===null||b.return===e)break e;x===b&&(x=null),b=b.return}x===b&&(x=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:$t(t,e),lr(e),n&4&&Hf(e);break;case 21:break;default:$t(t,e),lr(e)}}function lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(fm(r)){var n=r;break e}r=r.return}throw Error(z(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ya(s,""),n.flags&=-33);var l=Wf(e);mc(e,l,s);break;case 3:case 4:var i=n.stateNode.containerInfo,u=Wf(e);pc(e,u,i);break;default:throw Error(z(161))}}catch(c){Pe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qx(e,t,r){K=e,mm(e)}function mm(e,t,r){for(var n=(e.mode&1)!==0;K!==null;){var s=K,l=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||fo;if(!i){var u=s.alternate,c=u!==null&&u.memoizedState!==null||Ye;u=fo;var m=Ye;if(fo=i,(Ye=c)&&!m)for(K=s;K!==null;)i=K,c=i.child,i.tag===22&&i.memoizedState!==null?Gf(s):c!==null?(c.return=i,K=c):Gf(s);for(;l!==null;)K=l,mm(l),l=l.sibling;K=s,fo=u,Ye=m}qf(e)}else s.subtreeFlags&8772&&l!==null?(l.return=s,K=l):qf(e)}}function qf(e){for(;K!==null;){var t=K;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||gi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:zt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&Df(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Df(t,i,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var m=t.alternate;if(m!==null){var x=m.memoizedState;if(x!==null){var b=x.dehydrated;b!==null&&rl(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Ye||t.flags&512&&hc(t)}catch(j){Pe(t,t.return,j)}}if(t===e){K=null;break}if(r=t.sibling,r!==null){r.return=t.return,K=r;break}K=t.return}}function Qf(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var r=t.sibling;if(r!==null){r.return=t.return,K=r;break}K=t.return}}function Gf(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{gi(4,t)}catch(c){Pe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Pe(t,s,c)}}var l=t.return;try{hc(t)}catch(c){Pe(t,l,c)}break;case 5:var i=t.return;try{hc(t)}catch(c){Pe(t,i,c)}}}catch(c){Pe(t,t.return,c)}if(t===e){K=null;break}var u=t.sibling;if(u!==null){u.return=t.return,K=u;break}K=t.return}}var Gx=Math.ceil,ei=Fr.ReactCurrentDispatcher,hd=Fr.ReactCurrentOwner,It=Fr.ReactCurrentBatchConfig,ce=0,He=null,$e=null,Qe=0,gt=0,_s=mn(0),ze=0,hl=null,Gn=0,xi=0,pd=0,Ka=null,it=null,md=0,zs=1/0,Sr=null,ti=!1,gc=null,ln=null,ho=!1,Xr=null,ri=0,Za=0,xc=null,_o=-1,Do=0;function rt(){return ce&6?Ie():_o!==-1?_o:_o=Ie()}function on(e){return e.mode&1?ce&2&&Qe!==0?Qe&-Qe:Ax.transition!==null?(Do===0&&(Do=Yh()),Do):(e=pe,e!==0||(e=window.event,e=e===void 0?16:ap(e.type)),e):1}function Gt(e,t,r,n){if(50<Za)throw Za=0,xc=null,Error(z(185));xl(e,r,n),(!(ce&2)||e!==He)&&(e===He&&(!(ce&2)&&(xi|=r),ze===4&&Jr(e,Qe)),ft(e,n),r===1&&ce===0&&!(t.mode&1)&&(zs=Ie()+500,hi&&gn()))}function ft(e,t){var r=e.callbackNode;Ag(e,t);var n=$o(e,e===He?Qe:0);if(n===0)r!==null&&rf(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&rf(r),t===1)e.tag===0?Rx(Kf.bind(null,e)):Np(Kf.bind(null,e)),Ex(function(){!(ce&6)&&gn()}),r=null;else{switch(Xh(n)){case 1:r=Bc;break;case 4:r=Zh;break;case 16:r=Uo;break;case 536870912:r=Jh;break;default:r=Uo}r=jm(r,gm.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function gm(e,t){if(_o=-1,Do=0,ce&6)throw Error(z(327));var r=e.callbackNode;if(Is()&&e.callbackNode!==r)return null;var n=$o(e,e===He?Qe:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ni(e,n);else{t=n;var s=ce;ce|=2;var l=vm();(He!==e||Qe!==t)&&(Sr=null,zs=Ie()+500,Vn(e,t));do try{Jx();break}catch(u){xm(e,u)}while(!0);ed(),ei.current=l,ce=s,$e!==null?t=0:(He=null,Qe=0,t=ze)}if(t!==0){if(t===2&&(s=Wu(e),s!==0&&(n=s,t=vc(e,s))),t===1)throw r=hl,Vn(e,0),Jr(e,n),ft(e,Ie()),r;if(t===6)Jr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Kx(s)&&(t=ni(e,n),t===2&&(l=Wu(e),l!==0&&(n=l,t=vc(e,l))),t===1))throw r=hl,Vn(e,0),Jr(e,n),ft(e,Ie()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(z(345));case 2:Un(e,it,Sr);break;case 3:if(Jr(e,n),(n&130023424)===n&&(t=md+500-Ie(),10<t)){if($o(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){rt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Yu(Un.bind(null,e,it,Sr),t);break}Un(e,it,Sr);break;case 4:if(Jr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Qt(n);l=1<<i,i=t[i],i>s&&(s=i),n&=~l}if(n=s,n=Ie()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Gx(n/1960))-n,10<n){e.timeoutHandle=Yu(Un.bind(null,e,it,Sr),n);break}Un(e,it,Sr);break;case 5:Un(e,it,Sr);break;default:throw Error(z(329))}}}return ft(e,Ie()),e.callbackNode===r?gm.bind(null,e):null}function vc(e,t){var r=Ka;return e.current.memoizedState.isDehydrated&&(Vn(e,t).flags|=256),e=ni(e,t),e!==2&&(t=it,it=r,t!==null&&yc(t)),e}function yc(e){it===null?it=e:it.push.apply(it,e)}function Kx(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],l=s.getSnapshot;s=s.value;try{if(!Kt(l(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jr(e,t){for(t&=~pd,t&=~xi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Qt(t),n=1<<r;e[r]=-1,t&=~n}}function Kf(e){if(ce&6)throw Error(z(327));Is();var t=$o(e,0);if(!(t&1))return ft(e,Ie()),null;var r=ni(e,t);if(e.tag!==0&&r===2){var n=Wu(e);n!==0&&(t=n,r=vc(e,n))}if(r===1)throw r=hl,Vn(e,0),Jr(e,t),ft(e,Ie()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Un(e,it,Sr),ft(e,Ie()),null}function gd(e,t){var r=ce;ce|=1;try{return e(t)}finally{ce=r,ce===0&&(zs=Ie()+500,hi&&gn())}}function Kn(e){Xr!==null&&Xr.tag===0&&!(ce&6)&&Is();var t=ce;ce|=1;var r=It.transition,n=pe;try{if(It.transition=null,pe=1,e)return e()}finally{pe=n,It.transition=r,ce=t,!(ce&6)&&gn()}}function xd(){gt=_s.current,Ne(_s)}function Vn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Sx(r)),$e!==null)for(r=$e.return;r!==null;){var n=r;switch(Jc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wo();break;case 3:Ms(),Ne(ct),Ne(Xe),ld();break;case 5:ad(n);break;case 4:Ms();break;case 13:Ne(Ee);break;case 19:Ne(Ee);break;case 10:td(n.type._context);break;case 22:case 23:xd()}r=r.return}if(He=e,$e=e=un(e.current,null),Qe=gt=t,ze=0,hl=null,pd=xi=Gn=0,it=Ka=null,Bn!==null){for(t=0;t<Bn.length;t++)if(r=Bn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=s,n.next=i}r.pending=n}Bn=null}return e}function xm(e,t){do{var r=$e;try{if(ed(),So.current=Xo,Yo){for(var n=Ce.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yo=!1}if(Qn=0,We=Be=Ce=null,Qa=!1,cl=0,hd.current=null,r===null||r.return===null){ze=1,hl=t,$e=null;break}e:{var l=e,i=r.return,u=r,c=t;if(t=Qe,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var m=c,x=u,b=x.tag;if(!(x.mode&1)&&(b===0||b===11||b===15)){var j=x.alternate;j?(x.updateQueue=j.updateQueue,x.memoizedState=j.memoizedState,x.lanes=j.lanes):(x.updateQueue=null,x.memoizedState=null)}var _=Ff(i);if(_!==null){_.flags&=-257,Of(_,i,u,l,t),_.mode&1&&Tf(l,m,t),t=_,c=m;var A=t.updateQueue;if(A===null){var R=new Set;R.add(c),t.updateQueue=R}else A.add(c);break e}else{if(!(t&1)){Tf(l,m,t),vd();break e}c=Error(z(426))}}else if(Se&&u.mode&1){var L=Ff(i);if(L!==null){!(L.flags&65536)&&(L.flags|=256),Of(L,i,u,l,t),Yc(Bs(c,u));break e}}l=c=Bs(c,u),ze!==4&&(ze=2),Ka===null?Ka=[l]:Ka.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var k=em(l,c,t);_f(l,k);break e;case 1:u=c;var g=l.type,w=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ln===null||!ln.has(w)))){l.flags|=65536,t&=-t,l.lanes|=t;var C=tm(l,u,t);_f(l,C);break e}}l=l.return}while(l!==null)}wm(r)}catch(P){t=P,$e===r&&r!==null&&($e=r=r.return);continue}break}while(!0)}function vm(){var e=ei.current;return ei.current=Xo,e===null?Xo:e}function vd(){(ze===0||ze===3||ze===2)&&(ze=4),He===null||!(Gn&268435455)&&!(xi&268435455)||Jr(He,Qe)}function ni(e,t){var r=ce;ce|=2;var n=vm();(He!==e||Qe!==t)&&(Sr=null,Vn(e,t));do try{Zx();break}catch(s){xm(e,s)}while(!0);if(ed(),ce=r,ei.current=n,$e!==null)throw Error(z(261));return He=null,Qe=0,ze}function Zx(){for(;$e!==null;)ym($e)}function Jx(){for(;$e!==null&&!kg();)ym($e)}function ym(e){var t=km(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?wm(e):$e=t,hd.current=null}function wm(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Wx(r,t),r!==null){r.flags&=32767,$e=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ze=6,$e=null;return}}else if(r=Vx(r,t,gt),r!==null){$e=r;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);ze===0&&(ze=5)}function Un(e,t,r){var n=pe,s=It.transition;try{It.transition=null,pe=1,Yx(e,t,r,n)}finally{It.transition=s,pe=n}return null}function Yx(e,t,r,n){do Is();while(Xr!==null);if(ce&6)throw Error(z(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(Pg(e,l),e===He&&($e=He=null,Qe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||ho||(ho=!0,jm(Uo,function(){return Is(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=It.transition,It.transition=null;var i=pe;pe=1;var u=ce;ce|=4,hd.current=null,qx(e,r),pm(r,e),vx(Zu),Mo=!!Ku,Zu=Ku=null,e.current=r,Qx(r),jg(),ce=u,pe=i,It.transition=l}else e.current=r;if(ho&&(ho=!1,Xr=e,ri=s),l=e.pendingLanes,l===0&&(ln=null),Eg(r.stateNode),ft(e,Ie()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ti)throw ti=!1,e=gc,gc=null,e;return ri&1&&e.tag!==0&&Is(),l=e.pendingLanes,l&1?e===xc?Za++:(Za=0,xc=e):Za=0,gn(),null}function Is(){if(Xr!==null){var e=Xh(ri),t=It.transition,r=pe;try{if(It.transition=null,pe=16>e?16:e,Xr===null)var n=!1;else{if(e=Xr,Xr=null,ri=0,ce&6)throw Error(z(331));var s=ce;for(ce|=4,K=e.current;K!==null;){var l=K,i=l.child;if(K.flags&16){var u=l.deletions;if(u!==null){for(var c=0;c<u.length;c++){var m=u[c];for(K=m;K!==null;){var x=K;switch(x.tag){case 0:case 11:case 15:Ga(8,x,l)}var b=x.child;if(b!==null)b.return=x,K=b;else for(;K!==null;){x=K;var j=x.sibling,_=x.return;if(dm(x),x===m){K=null;break}if(j!==null){j.return=_,K=j;break}K=_}}}var A=l.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var L=R.sibling;R.sibling=null,R=L}while(R!==null)}}K=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,K=i;else e:for(;K!==null;){if(l=K,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Ga(9,l,l.return)}var k=l.sibling;if(k!==null){k.return=l.return,K=k;break e}K=l.return}}var g=e.current;for(K=g;K!==null;){i=K;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,K=w;else e:for(i=g;K!==null;){if(u=K,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:gi(9,u)}}catch(P){Pe(u,u.return,P)}if(u===i){K=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,K=C;break e}K=u.return}}if(ce=s,gn(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(ii,e)}catch{}n=!0}return n}finally{pe=r,It.transition=t}}return!1}function Zf(e,t,r){t=Bs(r,t),t=em(e,t,1),e=an(e,t,1),t=rt(),e!==null&&(xl(e,1,t),ft(e,t))}function Pe(e,t,r){if(e.tag===3)Zf(e,e,r);else for(;t!==null;){if(t.tag===3){Zf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ln===null||!ln.has(n))){e=Bs(r,e),e=tm(t,e,1),t=an(t,e,1),e=rt(),t!==null&&(xl(t,1,e),ft(t,e));break}}t=t.return}}function Xx(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=rt(),e.pingedLanes|=e.suspendedLanes&r,He===e&&(Qe&r)===r&&(ze===4||ze===3&&(Qe&130023424)===Qe&&500>Ie()-md?Vn(e,0):pd|=r),ft(e,t)}function bm(e,t){t===0&&(e.mode&1?(t=ro,ro<<=1,!(ro&130023424)&&(ro=4194304)):t=1);var r=rt();e=Ir(e,t),e!==null&&(xl(e,t,r),ft(e,r))}function ev(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),bm(e,r)}function tv(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(z(314))}n!==null&&n.delete(t),bm(e,r)}var km;km=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)ut=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ut=!1,zx(e,t,r);ut=!!(e.flags&131072)}else ut=!1,Se&&t.flags&1048576&&Sp(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Co(e,t),e=t.pendingProps;var s=Os(t,Xe.current);Ls(t,r),s=id(null,t,n,e,s,r);var l=ud();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,dt(n)?(l=!0,Ho(t)):l=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nd(t),s.updater=pi,t.stateNode=s,s._reactInternals=t,ac(t,n,e,r),t=ic(null,t,n,!0,l,r)):(t.tag=0,Se&&l&&Zc(t),tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Co(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=nv(n),e=zt(n,e),s){case 0:t=oc(null,t,n,e,r);break e;case 1:t=Mf(null,t,n,e,r);break e;case 11:t=Uf(null,t,n,e,r);break e;case 14:t=$f(null,t,n,zt(n.type,e),r);break e}throw Error(z(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),oc(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Mf(e,t,n,s,r);case 3:e:{if(am(t),e===null)throw Error(z(387));n=t.pendingProps,l=t.memoizedState,s=l.element,Dp(e,t),Zo(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){s=Bs(Error(z(423)),t),t=Bf(e,t,n,r,s);break e}else if(n!==s){s=Bs(Error(z(424)),t),t=Bf(e,t,n,r,s);break e}else for(vt=sn(t.stateNode.containerInfo.firstChild),yt=t,Se=!0,Ht=null,r=Lp(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Us(),n===s){t=Tr(e,t,r);break e}tt(e,t,n,r)}t=t.child}return t;case 5:return Ip(t),e===null&&rc(t),n=t.type,s=t.pendingProps,l=e!==null?e.memoizedProps:null,i=s.children,Ju(n,s)?i=null:l!==null&&Ju(n,l)&&(t.flags|=32),sm(e,t),tt(e,t,i,r),t.child;case 6:return e===null&&rc(t),null;case 13:return lm(e,t,r);case 4:return sd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=$s(t,null,n,r):tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Uf(e,t,n,s,r);case 7:return tt(e,t,t.pendingProps,r),t.child;case 8:return tt(e,t,t.pendingProps.children,r),t.child;case 12:return tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,l=t.memoizedProps,i=s.value,be(Go,n._currentValue),n._currentValue=i,l!==null)if(Kt(l.value,i)){if(l.children===s.children&&!ct.current){t=Tr(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var u=l.dependencies;if(u!==null){i=l.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=Ar(-1,r&-r),c.tag=2;var m=l.updateQueue;if(m!==null){m=m.shared;var x=m.pending;x===null?c.next=c:(c.next=x.next,x.next=c),m.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),nc(l.return,r,t),u.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(z(341));i.lanes|=r,u=i.alternate,u!==null&&(u.lanes|=r),nc(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ls(t,r),s=Tt(s),n=n(s),t.flags|=1,tt(e,t,n,r),t.child;case 14:return n=t.type,s=zt(n,t.pendingProps),s=zt(n.type,s),$f(e,t,n,s,r);case 15:return rm(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Co(e,t),t.tag=1,dt(n)?(e=!0,Ho(t)):e=!1,Ls(t,r),Ap(t,n,s),ac(t,n,s,r),ic(null,t,n,!0,e,r);case 19:return om(e,t,r);case 22:return nm(e,t,r)}throw Error(z(156,t.tag))};function jm(e,t){return Kh(e,t)}function rv(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,r,n){return new rv(e,t,r,n)}function yd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nv(e){if(typeof e=="function")return yd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Uc)return 11;if(e===$c)return 14}return 2}function un(e,t){var r=e.alternate;return r===null?(r=Lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ro(e,t,r,n,s,l){var i=2;if(n=e,typeof e=="function")yd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case vs:return Wn(r.children,s,l,t);case Oc:i=8,s|=8;break;case Du:return e=Lt(12,r,t,s|2),e.elementType=Du,e.lanes=l,e;case Ru:return e=Lt(13,r,t,s),e.elementType=Ru,e.lanes=l,e;case Au:return e=Lt(19,r,t,s),e.elementType=Au,e.lanes=l,e;case Ph:return vi(r,s,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Rh:i=10;break e;case Ah:i=9;break e;case Uc:i=11;break e;case $c:i=14;break e;case Gr:i=16,n=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return t=Lt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=l,t}function Wn(e,t,r,n){return e=Lt(7,e,n,t),e.lanes=r,e}function vi(e,t,r,n){return e=Lt(22,e,n,t),e.elementType=Ph,e.lanes=r,e.stateNode={isHidden:!1},e}function xu(e,t,r){return e=Lt(6,e,null,t),e.lanes=r,e}function vu(e,t,r){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function sv(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yi(0),this.expirationTimes=Yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yi(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wd(e,t,r,n,s,l,i,u,c){return e=new sv(e,t,r,u,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Lt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},nd(l),e}function av(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Nm(e){if(!e)return hn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(dt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(dt(r))return jp(e,r,t)}return t}function Sm(e,t,r,n,s,l,i,u,c){return e=wd(r,n,!0,e,s,l,i,u,c),e.context=Nm(null),r=e.current,n=rt(),s=on(r),l=Ar(n,s),l.callback=t??null,an(r,l,s),e.current.lanes=s,xl(e,s,n),ft(e,n),e}function yi(e,t,r,n){var s=t.current,l=rt(),i=on(s);return r=Nm(r),t.context===null?t.context=r:t.pendingContext=r,t=Ar(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=an(s,t,i),e!==null&&(Gt(e,s,i,l),No(e,s,i)),i}function si(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Jf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function bd(e,t){Jf(e,t),(e=e.alternate)&&Jf(e,t)}function lv(){return null}var Em=typeof reportError=="function"?reportError:function(e){console.error(e)};function kd(e){this._internalRoot=e}wi.prototype.render=kd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(z(409));yi(e,t,null,null)};wi.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Kn(function(){yi(null,e,null,null)}),t[Lr]=null}};function wi(e){this._internalRoot=e}wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=rp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Zr.length&&t!==0&&t<Zr[r].priority;r++);Zr.splice(r,0,e),r===0&&sp(e)}};function jd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Yf(){}function ov(e,t,r,n,s){if(s){if(typeof n=="function"){var l=n;n=function(){var m=si(i);l.call(m)}}var i=Sm(t,n,e,0,null,!1,!1,"",Yf);return e._reactRootContainer=i,e[Lr]=i.current,al(e.nodeType===8?e.parentNode:e),Kn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var u=n;n=function(){var m=si(c);u.call(m)}}var c=wd(e,0,!1,null,null,!1,!1,"",Yf);return e._reactRootContainer=c,e[Lr]=c.current,al(e.nodeType===8?e.parentNode:e),Kn(function(){yi(t,c,r,n)}),c}function ki(e,t,r,n,s){var l=r._reactRootContainer;if(l){var i=l;if(typeof s=="function"){var u=s;s=function(){var c=si(i);u.call(c)}}yi(t,i,e,s)}else i=ov(r,t,e,s,n);return si(i)}ep=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=$a(t.pendingLanes);r!==0&&(zc(t,r|1),ft(t,Ie()),!(ce&6)&&(zs=Ie()+500,gn()))}break;case 13:Kn(function(){var n=Ir(e,1);if(n!==null){var s=rt();Gt(n,e,1,s)}}),bd(e,1)}};Vc=function(e){if(e.tag===13){var t=Ir(e,134217728);if(t!==null){var r=rt();Gt(t,e,134217728,r)}bd(e,134217728)}};tp=function(e){if(e.tag===13){var t=on(e),r=Ir(e,t);if(r!==null){var n=rt();Gt(r,e,t,n)}bd(e,t)}};rp=function(){return pe};np=function(e,t){var r=pe;try{return pe=e,t()}finally{pe=r}};Bu=function(e,t,r){switch(t){case"input":if(Iu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=fi(n);if(!s)throw Error(z(90));Ih(n),Iu(n,s)}}}break;case"textarea":Fh(e,r);break;case"select":t=r.value,t!=null&&Ds(e,!!r.multiple,t,!1)}};Vh=gd;Wh=Kn;var iv={usingClientEntryPoint:!1,Events:[yl,ks,fi,Bh,zh,gd]},Pa={findFiberByHostInstance:Mn,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},uv={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Qh(e),e===null?null:e.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||lv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!po.isDisabled&&po.supportsFiber)try{ii=po.inject(uv),ur=po}catch{}}bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=iv;bt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jd(t))throw Error(z(200));return av(e,t,null,r)};bt.createRoot=function(e,t){if(!jd(e))throw Error(z(299));var r=!1,n="",s=Em;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=wd(e,1,!1,null,null,r,!1,n,s),e[Lr]=t.current,al(e.nodeType===8?e.parentNode:e),new kd(t)};bt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=Qh(t),e=e===null?null:e.stateNode,e};bt.flushSync=function(e){return Kn(e)};bt.hydrate=function(e,t,r){if(!bi(t))throw Error(z(200));return ki(null,e,t,!0,r)};bt.hydrateRoot=function(e,t,r){if(!jd(e))throw Error(z(405));var n=r!=null&&r.hydratedSources||null,s=!1,l="",i=Em;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Sm(t,null,e,1,r??null,s,!1,l,i),e[Lr]=t.current,al(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new wi(t)};bt.render=function(e,t,r){if(!bi(t))throw Error(z(200));return ki(null,e,t,!1,r)};bt.unmountComponentAtNode=function(e){if(!bi(e))throw Error(z(40));return e._reactRootContainer?(Kn(function(){ki(null,null,e,!1,function(){e._reactRootContainer=null,e[Lr]=null})}),!0):!1};bt.unstable_batchedUpdates=gd;bt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!bi(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return ki(e,t,r,!1,n)};bt.version="18.2.0-next-9e3b772b8-20220608";function Cm(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cm)}catch(e){console.error(e)}}Cm(),Sh.exports=bt;var cv=Sh.exports,_m,Xf=cv;_m=Xf.createRoot,Xf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pl(){return pl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pl.apply(this,arguments)}var en;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(en||(en={}));const eh="popstate";function dv(e){e===void 0&&(e={});function t(n,s){let{pathname:l,search:i,hash:u}=n.location;return wc("",{pathname:l,search:i,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:ai(s)}return hv(t,r,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Dm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function fv(){return Math.random().toString(36).substr(2,8)}function th(e,t){return{usr:e.state,key:e.key,idx:t}}function wc(e,t,r,n){return r===void 0&&(r=null),pl({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?qs(t):t,{state:r,key:t&&t.key||n||fv()})}function ai(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function hv(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:l=!1}=n,i=s.history,u=en.Pop,c=null,m=x();m==null&&(m=0,i.replaceState(pl({},i.state,{idx:m}),""));function x(){return(i.state||{idx:null}).idx}function b(){u=en.Pop;let L=x(),k=L==null?null:L-m;m=L,c&&c({action:u,location:R.location,delta:k})}function j(L,k){u=en.Push;let g=wc(R.location,L,k);m=x()+1;let w=th(g,m),C=R.createHref(g);try{i.pushState(w,"",C)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(C)}l&&c&&c({action:u,location:R.location,delta:1})}function _(L,k){u=en.Replace;let g=wc(R.location,L,k);m=x();let w=th(g,m),C=R.createHref(g);i.replaceState(w,"",C),l&&c&&c({action:u,location:R.location,delta:0})}function A(L){let k=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof L=="string"?L:ai(L);return g=g.replace(/ $/,"%20"),Te(k,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,k)}let R={get action(){return u},get location(){return e(s,i)},listen(L){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(eh,b),c=L,()=>{s.removeEventListener(eh,b),c=null}},createHref(L){return t(s,L)},createURL:A,encodeLocation(L){let k=A(L);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:j,replace:_,go(L){return i.go(L)}};return R}var rh;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(rh||(rh={}));function pv(e,t,r){return r===void 0&&(r="/"),mv(e,t,r)}function mv(e,t,r,n){let s=typeof t=="string"?qs(t):t,l=Nd(s.pathname||"/",r);if(l==null)return null;let i=Rm(e);gv(i);let u=null;for(let c=0;u==null&&c<i.length;++c){let m=_v(l);u=Sv(i[c],m)}return u}function Rm(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(l,i,u)=>{let c={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Te(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let m=cn([n,c.relativePath]),x=r.concat(c);l.children&&l.children.length>0&&(Te(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+m+'".')),Rm(l.children,t,x,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:jv(m,l.index),routesMeta:x})};return e.forEach((l,i)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))s(l,i);else for(let c of Am(l.path))s(l,i,c)}),t}function Am(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return s?[l,""]:[l];let i=Am(n.join("/")),u=[];return u.push(...i.map(c=>c===""?l:[l,c].join("/"))),s&&u.push(...i),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function gv(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Nv(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xv=/^:[\w-]+$/,vv=3,yv=2,wv=1,bv=10,kv=-2,nh=e=>e==="*";function jv(e,t){let r=e.split("/"),n=r.length;return r.some(nh)&&(n+=kv),t&&(n+=yv),r.filter(s=>!nh(s)).reduce((s,l)=>s+(xv.test(l)?vv:l===""?wv:bv),n)}function Nv(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function Sv(e,t,r){let{routesMeta:n}=e,s={},l="/",i=[];for(let u=0;u<n.length;++u){let c=n[u],m=u===n.length-1,x=l==="/"?t:t.slice(l.length)||"/",b=Ev({path:c.relativePath,caseSensitive:c.caseSensitive,end:m},x),j=c.route;if(!b)return null;Object.assign(s,b.params),i.push({params:s,pathname:cn([l,b.pathname]),pathnameBase:Pv(cn([l,b.pathnameBase])),route:j}),b.pathnameBase!=="/"&&(l=cn([l,b.pathnameBase]))}return i}function Ev(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Cv(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let l=s[0],i=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((m,x,b)=>{let{paramName:j,isOptional:_}=x;if(j==="*"){let R=u[b]||"";i=l.slice(0,l.length-R.length).replace(/(.)\/+$/,"$1")}const A=u[b];return _&&!A?m[j]=void 0:m[j]=(A||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:i,pattern:e}}function Cv(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Dm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,u,c)=>(n.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function _v(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Dm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Nd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Dv(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?qs(e):e;return{pathname:r?r.startsWith("/")?r:Rv(r,t):t,search:Lv(n),hash:Iv(s)}}function Rv(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function yu(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Av(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Sd(e,t){let r=Av(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Ed(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=qs(e):(s=pl({},e),Te(!s.pathname||!s.pathname.includes("?"),yu("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),yu("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),yu("#","search","hash",s)));let l=e===""||s.pathname==="",i=l?"/":s.pathname,u;if(i==null)u=r;else{let b=t.length-1;if(!n&&i.startsWith("..")){let j=i.split("/");for(;j[0]==="..";)j.shift(),b-=1;s.pathname=j.join("/")}u=b>=0?t[b]:"/"}let c=Dv(s,u),m=i&&i!=="/"&&i.endsWith("/"),x=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(m||x)&&(c.pathname+="/"),c}const cn=e=>e.join("/").replace(/\/\/+/g,"/"),Pv=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lv=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Iv=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Tv(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Pm=["post","put","patch","delete"];new Set(Pm);const Fv=["get",...Pm];new Set(Fv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(this,arguments)}const Cd=d.createContext(null),Ov=d.createContext(null),xn=d.createContext(null),ji=d.createContext(null),hr=d.createContext({outlet:null,matches:[],isDataRoute:!1}),Lm=d.createContext(null);function Uv(e,t){let{relative:r}=t===void 0?{}:t;Qs()||Te(!1);let{basename:n,navigator:s}=d.useContext(xn),{hash:l,pathname:i,search:u}=Fm(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:cn([n,i])),s.createHref({pathname:c,search:u,hash:l})}function Qs(){return d.useContext(ji)!=null}function vn(){return Qs()||Te(!1),d.useContext(ji).location}function Im(e){d.useContext(xn).static||d.useLayoutEffect(e)}function pr(){let{isDataRoute:e}=d.useContext(hr);return e?Xv():$v()}function $v(){Qs()||Te(!1);let e=d.useContext(Cd),{basename:t,future:r,navigator:n}=d.useContext(xn),{matches:s}=d.useContext(hr),{pathname:l}=vn(),i=JSON.stringify(Sd(s,r.v7_relativeSplatPath)),u=d.useRef(!1);return Im(()=>{u.current=!0}),d.useCallback(function(m,x){if(x===void 0&&(x={}),!u.current)return;if(typeof m=="number"){n.go(m);return}let b=Ed(m,JSON.parse(i),l,x.relative==="path");e==null&&t!=="/"&&(b.pathname=b.pathname==="/"?t:cn([t,b.pathname])),(x.replace?n.replace:n.push)(b,x.state,x)},[t,n,i,l,e])}const Mv=d.createContext(null);function Bv(e){let t=d.useContext(hr).outlet;return t&&d.createElement(Mv.Provider,{value:e},t)}function Tm(){let{matches:e}=d.useContext(hr),t=e[e.length-1];return t?t.params:{}}function Fm(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=d.useContext(xn),{matches:s}=d.useContext(hr),{pathname:l}=vn(),i=JSON.stringify(Sd(s,n.v7_relativeSplatPath));return d.useMemo(()=>Ed(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function zv(e,t){return Vv(e,t)}function Vv(e,t,r,n){Qs()||Te(!1);let{navigator:s}=d.useContext(xn),{matches:l}=d.useContext(hr),i=l[l.length-1],u=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let m=vn(),x;if(t){var b;let L=typeof t=="string"?qs(t):t;c==="/"||(b=L.pathname)!=null&&b.startsWith(c)||Te(!1),x=L}else x=m;let j=x.pathname||"/",_=j;if(c!=="/"){let L=c.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(L.length).join("/")}let A=pv(e,{pathname:_}),R=Gv(A&&A.map(L=>Object.assign({},L,{params:Object.assign({},u,L.params),pathname:cn([c,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?c:cn([c,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),l,r,n);return t&&R?d.createElement(ji.Provider,{value:{location:ml({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:en.Pop}},R):R}function Wv(){let e=Yv(),t=Tv(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},t),r?d.createElement("pre",{style:s},r):null,null)}const Hv=d.createElement(Wv,null);class qv extends d.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?d.createElement(hr.Provider,{value:this.props.routeContext},d.createElement(Lm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Qv(e){let{routeContext:t,match:r,children:n}=e,s=d.useContext(Cd);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(hr.Provider,{value:t},n)}function Gv(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,u=(s=r)==null?void 0:s.errors;if(u!=null){let x=i.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);x>=0||Te(!1),i=i.slice(0,Math.min(i.length,x+1))}let c=!1,m=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<i.length;x++){let b=i[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(m=x),b.route.id){let{loaderData:j,errors:_}=r,A=b.route.loader&&j[b.route.id]===void 0&&(!_||_[b.route.id]===void 0);if(b.route.lazy||A){c=!0,m>=0?i=i.slice(0,m+1):i=[i[0]];break}}}return i.reduceRight((x,b,j)=>{let _,A=!1,R=null,L=null;r&&(_=u&&b.route.id?u[b.route.id]:void 0,R=b.route.errorElement||Hv,c&&(m<0&&j===0?(ey("route-fallback"),A=!0,L=null):m===j&&(A=!0,L=b.route.hydrateFallbackElement||null)));let k=t.concat(i.slice(0,j+1)),g=()=>{let w;return _?w=R:A?w=L:b.route.Component?w=d.createElement(b.route.Component,null):b.route.element?w=b.route.element:w=x,d.createElement(Qv,{match:b,routeContext:{outlet:x,matches:k,isDataRoute:r!=null},children:w})};return r&&(b.route.ErrorBoundary||b.route.errorElement||j===0)?d.createElement(qv,{location:r.location,revalidation:r.revalidation,component:R,error:_,children:g(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):g()},null)}var Om=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Om||{}),Um=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Um||{});function Kv(e){let t=d.useContext(Cd);return t||Te(!1),t}function Zv(e){let t=d.useContext(Ov);return t||Te(!1),t}function Jv(e){let t=d.useContext(hr);return t||Te(!1),t}function $m(e){let t=Jv(),r=t.matches[t.matches.length-1];return r.route.id||Te(!1),r.route.id}function Yv(){var e;let t=d.useContext(Lm),r=Zv(),n=$m();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Xv(){let{router:e}=Kv(Om.UseNavigateStable),t=$m(Um.UseNavigateStable),r=d.useRef(!1);return Im(()=>{r.current=!0}),d.useCallback(function(s,l){l===void 0&&(l={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ml({fromRouteId:t},l)))},[e,t])}const sh={};function ey(e,t,r){sh[e]||(sh[e]=!0)}function ty(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function bc(e){let{to:t,replace:r,state:n,relative:s}=e;Qs()||Te(!1);let{future:l,static:i}=d.useContext(xn),{matches:u}=d.useContext(hr),{pathname:c}=vn(),m=pr(),x=Ed(t,Sd(u,l.v7_relativeSplatPath),c,s==="path"),b=JSON.stringify(x);return d.useEffect(()=>m(JSON.parse(b),{replace:r,state:n,relative:s}),[m,b,s,r,n]),null}function ry(e){return Bv(e.context)}function mt(e){Te(!1)}function ny(e){let{basename:t="/",children:r=null,location:n,navigationType:s=en.Pop,navigator:l,static:i=!1,future:u}=e;Qs()&&Te(!1);let c=t.replace(/^\/*/,"/"),m=d.useMemo(()=>({basename:c,navigator:l,static:i,future:ml({v7_relativeSplatPath:!1},u)}),[c,u,l,i]);typeof n=="string"&&(n=qs(n));let{pathname:x="/",search:b="",hash:j="",state:_=null,key:A="default"}=n,R=d.useMemo(()=>{let L=Nd(x,c);return L==null?null:{location:{pathname:L,search:b,hash:j,state:_,key:A},navigationType:s}},[c,x,b,j,_,A,s]);return R==null?null:d.createElement(xn.Provider,{value:m},d.createElement(ji.Provider,{children:r,value:R}))}function sy(e){let{children:t,location:r}=e;return zv(kc(t),r)}new Promise(()=>{});function kc(e,t){t===void 0&&(t=[]);let r=[];return d.Children.forEach(e,(n,s)=>{if(!d.isValidElement(n))return;let l=[...t,s];if(n.type===d.Fragment){r.push.apply(r,kc(n.props.children,l));return}n.type!==mt&&Te(!1),!n.props.index||!n.props.children||Te(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=kc(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jc(){return jc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jc.apply(this,arguments)}function ay(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,l;for(l=0;l<n.length;l++)s=n[l],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function ly(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function oy(e,t){return e.button===0&&(!t||t==="_self")&&!ly(e)}const iy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uy="6";try{window.__reactRouterVersion=uy}catch{}const cy="startTransition",ah=eg[cy];function dy(e){let{basename:t,children:r,future:n,window:s}=e,l=d.useRef();l.current==null&&(l.current=dv({window:s,v5Compat:!0}));let i=l.current,[u,c]=d.useState({action:i.action,location:i.location}),{v7_startTransition:m}=n||{},x=d.useCallback(b=>{m&&ah?ah(()=>c(b)):c(b)},[c,m]);return d.useLayoutEffect(()=>i.listen(x),[i,x]),d.useEffect(()=>ty(n),[n]),d.createElement(ny,{basename:t,children:r,location:u.location,navigationType:u.action,navigator:i,future:n})}const fy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$n=d.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:l,replace:i,state:u,target:c,to:m,preventScrollReset:x,viewTransition:b}=t,j=ay(t,iy),{basename:_}=d.useContext(xn),A,R=!1;if(typeof m=="string"&&hy.test(m)&&(A=m,fy))try{let w=new URL(window.location.href),C=m.startsWith("//")?new URL(w.protocol+m):new URL(m),P=Nd(C.pathname,_);C.origin===w.origin&&P!=null?m=P+C.search+C.hash:R=!0}catch{}let L=Uv(m,{relative:s}),k=py(m,{replace:i,state:u,target:c,preventScrollReset:x,relative:s,viewTransition:b});function g(w){n&&n(w),w.defaultPrevented||k(w)}return d.createElement("a",jc({},j,{href:A||L,onClick:R||l?n:g,ref:r,target:c}))});var lh;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(lh||(lh={}));var oh;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(oh||(oh={}));function py(e,t){let{target:r,replace:n,state:s,preventScrollReset:l,relative:i,viewTransition:u}=t===void 0?{}:t,c=pr(),m=vn(),x=Fm(e,{relative:i});return d.useCallback(b=>{if(oy(b,r)){b.preventDefault();let j=n!==void 0?n:ai(m)===ai(x);c(e,{replace:j,state:s,preventScrollReset:l,relative:i,viewTransition:u})}},[m,c,x,n,s,r,e,l,i,u])}const Ni="chat_auth";function Mm(e,t){localStorage.setItem(Ni,JSON.stringify({token:e,user:t}))}function xt(){const e=localStorage.getItem(Ni);if(!e)return null;try{return JSON.parse(e).token}catch{return null}}function Ts(){const e=localStorage.getItem(Ni);if(!e)return null;try{return JSON.parse(e).user}catch{return null}}function Bm(){localStorage.removeItem(Ni)}function my(){try{if(typeof window<"u"){const{origin:e,location:t}=window,r=(t==null?void 0:t.hostname)||"";return r==="localhost"||r==="127.0.0.1"?"http://localhost:3000/api":`${String(e).replace(/\/$/,"")}/api`}}catch{}return"http://localhost:3000/api"}const qt=my(),zm=qt.replace(/\/?api$/,"");function gy(e){const t=`${qt}${e}`,r=t.includes("?")?"&":"?";return`${t}${r}_=${Date.now()}`}const H={get:e=>fetch(gy(e),{headers:{Authorization:`Bearer ${xt()}`},cache:"no-store"}).then(Er),post:(e,t)=>fetch(`${qt}${e}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xt()}`},body:JSON.stringify(t)}).then(Er),patch:(e,t)=>fetch(`${qt}${e}`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${xt()}`},body:JSON.stringify(t)}).then(Er),del:e=>fetch(`${qt}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${xt()}`}}).then(Er),upload:(e,t)=>fetch(`${qt}${e}`,{method:"POST",headers:{Authorization:`Bearer ${xt()}`},body:t}).then(Er),uploadPatch:(e,t)=>fetch(`${qt}${e}`,{method:"PATCH",headers:{Authorization:`Bearer ${xt()}`},body:t}).then(Er),delete:e=>fetch(`${qt}${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${xt()}`}}).then(Er)},xy={post:(e,t)=>fetch(`${qt}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(Er),upload:(e,t)=>fetch(`${qt}${e}`,{method:"POST",body:t}).then(Er)};function Bt(e){return!e||/^https?:\/\//i.test(e)?e:`${zm.replace(/\/$/,"")}${e}`}async function Er(e){if(e.status===304)return null;if(!e.ok){const r=await e.text();let n;try{n=JSON.parse(r).error||r}catch{n=r}if(e.status===401){try{Bm()}catch{}try{typeof window<"u"&&window.location.assign("/login")}catch{}throw new Error(n||"Sesso expirada. Faa login novamente.")}throw new Error(n||"Erro de requisio")}return(e.headers.get("content-type")||"").includes("application/json")?e.json():e.text()}const fr=Object.create(null);fr.open="0";fr.close="1";fr.ping="2";fr.pong="3";fr.message="4";fr.upgrade="5";fr.noop="6";const Ao=Object.create(null);Object.keys(fr).forEach(e=>{Ao[fr[e]]=e});const Nc={type:"error",data:"parser error"},Vm=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Wm=typeof ArrayBuffer=="function",Hm=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,_d=({type:e,data:t},r,n)=>Vm&&t instanceof Blob?r?n(t):ih(t,n):Wm&&(t instanceof ArrayBuffer||Hm(t))?r?n(t):ih(new Blob([t]),n):n(fr[e]+(t||"")),ih=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function uh(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let wu;function vy(e,t){if(Vm&&e.data instanceof Blob)return e.data.arrayBuffer().then(uh).then(t);if(Wm&&(e.data instanceof ArrayBuffer||Hm(e.data)))return t(uh(e.data));_d(e,!1,r=>{wu||(wu=new TextEncoder),t(wu.encode(r))})}const ch="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ba=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<ch.length;e++)Ba[ch.charCodeAt(e)]=e;const yy=e=>{let t=e.length*.75,r=e.length,n,s=0,l,i,u,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const m=new ArrayBuffer(t),x=new Uint8Array(m);for(n=0;n<r;n+=4)l=Ba[e.charCodeAt(n)],i=Ba[e.charCodeAt(n+1)],u=Ba[e.charCodeAt(n+2)],c=Ba[e.charCodeAt(n+3)],x[s++]=l<<2|i>>4,x[s++]=(i&15)<<4|u>>2,x[s++]=(u&3)<<6|c&63;return m},wy=typeof ArrayBuffer=="function",Dd=(e,t)=>{if(typeof e!="string")return{type:"message",data:qm(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:by(e.substring(1),t)}:Ao[r]?e.length>1?{type:Ao[r],data:e.substring(1)}:{type:Ao[r]}:Nc},by=(e,t)=>{if(wy){const r=yy(e);return qm(r,t)}else return{base64:!0,data:e}},qm=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},Qm="",ky=(e,t)=>{const r=e.length,n=new Array(r);let s=0;e.forEach((l,i)=>{_d(l,!1,u=>{n[i]=u,++s===r&&t(n.join(Qm))})})},jy=(e,t)=>{const r=e.split(Qm),n=[];for(let s=0;s<r.length;s++){const l=Dd(r[s],t);if(n.push(l),l.type==="error")break}return n};function Ny(){return new TransformStream({transform(e,t){vy(e,r=>{const n=r.length;let s;if(n<126)s=new Uint8Array(1),new DataView(s.buffer).setUint8(0,n);else if(n<65536){s=new Uint8Array(3);const l=new DataView(s.buffer);l.setUint8(0,126),l.setUint16(1,n)}else{s=new Uint8Array(9);const l=new DataView(s.buffer);l.setUint8(0,127),l.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(s[0]|=128),t.enqueue(s),t.enqueue(r)})}})}let bu;function mo(e){return e.reduce((t,r)=>t+r.length,0)}function go(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let s=0;s<t;s++)r[s]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function Sy(e,t){bu||(bu=new TextDecoder);const r=[];let n=0,s=-1,l=!1;return new TransformStream({transform(i,u){for(r.push(i);;){if(n===0){if(mo(r)<1)break;const c=go(r,1);l=(c[0]&128)===128,s=c[0]&127,s<126?n=3:s===126?n=1:n=2}else if(n===1){if(mo(r)<2)break;const c=go(r,2);s=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(mo(r)<8)break;const c=go(r,8),m=new DataView(c.buffer,c.byteOffset,c.length),x=m.getUint32(0);if(x>Math.pow(2,21)-1){u.enqueue(Nc);break}s=x*Math.pow(2,32)+m.getUint32(4),n=3}else{if(mo(r)<s)break;const c=go(r,s);u.enqueue(Dd(l?c:bu.decode(c),t)),n=0}if(s===0||s>e){u.enqueue(Nc);break}}}})}const Gm=4;function Me(e){if(e)return Ey(e)}function Ey(e){for(var t in Me.prototype)e[t]=Me.prototype[t];return e}Me.prototype.on=Me.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Me.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Me.prototype.off=Me.prototype.removeListener=Me.prototype.removeAllListeners=Me.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,s=0;s<r.length;s++)if(n=r[s],n===t||n.fn===t){r.splice(s,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Me.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,s=r.length;n<s;++n)r[n].apply(this,t)}return this};Me.prototype.emitReserved=Me.prototype.emit;Me.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Me.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Si=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),Pt=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Cy="arraybuffer";function Km(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const _y=Pt.setTimeout,Dy=Pt.clearTimeout;function Ei(e,t){t.useNativeTimers?(e.setTimeoutFn=_y.bind(Pt),e.clearTimeoutFn=Dy.bind(Pt)):(e.setTimeoutFn=Pt.setTimeout.bind(Pt),e.clearTimeoutFn=Pt.clearTimeout.bind(Pt))}const Ry=1.33;function Ay(e){return typeof e=="string"?Py(e):Math.ceil((e.byteLength||e.size)*Ry)}function Py(e){let t=0,r=0;for(let n=0,s=e.length;n<s;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function Zm(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Ly(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function Iy(e){let t={},r=e.split("&");for(let n=0,s=r.length;n<s;n++){let l=r[n].split("=");t[decodeURIComponent(l[0])]=decodeURIComponent(l[1])}return t}class Ty extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class Rd extends Me{constructor(t){super(),this.writable=!1,Ei(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new Ty(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=Dd(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=Ly(t);return r.length?"?"+r:""}}class Fy extends Rd{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};jy(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,ky(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Zm()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let Jm=!1;try{Jm=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Oy=Jm;function Uy(){}class $y extends Fy{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(s,l)=>{this.onError("xhr post error",s,l)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class dr extends Me{constructor(t,r,n){super(),this.createRequest=t,Ei(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=Km(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let s in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(s)&&n.setRequestHeader(s,this._opts.extraHeaders[s])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var s;n.readyState===3&&((s=this._opts.cookieJar)===null||s===void 0||s.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(s){this.setTimeoutFn(()=>{this._onError(s)},0);return}typeof document<"u"&&(this._index=dr.requestsCount++,dr.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Uy,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete dr.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}dr.requestsCount=0;dr.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",dh);else if(typeof addEventListener=="function"){const e="onpagehide"in Pt?"pagehide":"unload";addEventListener(e,dh,!1)}}function dh(){for(let e in dr.requests)dr.requests.hasOwnProperty(e)&&dr.requests[e].abort()}const My=function(){const e=Ym({xdomain:!1});return e&&e.responseType!==null}();class By extends $y{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=My&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new dr(Ym,this.uri(),t)}}function Ym(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||Oy))return new XMLHttpRequest}catch{}if(!t)try{return new Pt[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Xm=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class zy extends Rd{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=Xm?{}:Km(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(s){return this.emitReserved("error",s)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;_d(n,this.supportsBinary,l=>{try{this.doWrite(n,l)}catch{}s&&Si(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Zm()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const ku=Pt.WebSocket||Pt.MozWebSocket;class Vy extends zy{createSocket(t,r,n){return Xm?new ku(t,r,n):r?new ku(t,r):new ku(t)}doWrite(t,r){this.ws.send(r)}}class Wy extends Rd{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=Sy(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),s=Ny();s.readable.pipeTo(t.writable),this._writer=s.writable.getWriter();const l=()=>{n.read().then(({done:u,value:c})=>{u||(this.onPacket(c),l())}).catch(u=>{})};l();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],s=r===t.length-1;this._writer.write(n).then(()=>{s&&Si(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const Hy={websocket:Vy,webtransport:Wy,polling:By},qy=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Qy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Sc(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let s=qy.exec(e||""),l={},i=14;for(;i--;)l[Qy[i]]=s[i]||"";return r!=-1&&n!=-1&&(l.source=t,l.host=l.host.substring(1,l.host.length-1).replace(/;/g,":"),l.authority=l.authority.replace("[","").replace("]","").replace(/;/g,":"),l.ipv6uri=!0),l.pathNames=Gy(l,l.path),l.queryKey=Ky(l,l.query),l}function Gy(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Ky(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,s,l){s&&(r[s]=l)}),r}const Ec=typeof addEventListener=="function"&&typeof removeEventListener=="function",Po=[];Ec&&addEventListener("offline",()=>{Po.forEach(e=>e())},!1);class dn extends Me{constructor(t,r){if(super(),this.binaryType=Cy,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Sc(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Sc(r.host).host);Ei(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const s=n.prototype.name;this.transports.push(s),this._transportsByName[s]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Iy(this.opts.query)),Ec&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Po.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=Gm,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&dn.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",dn.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const s=this.writeBuffer[n].data;if(s&&(r+=Ay(s)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,Si(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,s){if(typeof r=="function"&&(s=r,r=void 0),typeof n=="function"&&(s=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const l={type:t,data:r,options:n};this.emitReserved("packetCreate",l),this.writeBuffer.push(l),s&&this.once("flush",s),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(dn.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Ec&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Po.indexOf(this._offlineEventListener);n!==-1&&Po.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}dn.protocol=Gm;class Zy extends dn{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;dn.priorWebsocketSuccess=!1;const s=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",b=>{if(!n)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;dn.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(x(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const j=new Error("probe error");j.transport=r.name,this.emitReserved("upgradeError",j)}}))};function l(){n||(n=!0,x(),r.close(),r=null)}const i=b=>{const j=new Error("probe error: "+b);j.transport=r.name,l(),this.emitReserved("upgradeError",j)};function u(){i("transport closed")}function c(){i("socket closed")}function m(b){r&&b.name!==r.name&&l()}const x=()=>{r.removeListener("open",s),r.removeListener("error",i),r.removeListener("close",u),this.off("close",c),this.off("upgrading",m)};r.once("open",s),r.once("error",i),r.once("close",u),this.once("close",c),this.once("upgrading",m),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let Jy=class extends Zy{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(s=>Hy[s]).filter(s=>!!s)),super(t,n)}};function Yy(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Sc(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const l=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+l+":"+n.port+t,n.href=n.protocol+"://"+l+(r&&r.port===n.port?"":":"+n.port),n}const Xy=typeof ArrayBuffer=="function",ew=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,e0=Object.prototype.toString,tw=typeof Blob=="function"||typeof Blob<"u"&&e0.call(Blob)==="[object BlobConstructor]",rw=typeof File=="function"||typeof File<"u"&&e0.call(File)==="[object FileConstructor]";function Ad(e){return Xy&&(e instanceof ArrayBuffer||ew(e))||tw&&e instanceof Blob||rw&&e instanceof File}function Lo(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(Lo(e[r]))return!0;return!1}if(Ad(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return Lo(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Lo(e[r]))return!0;return!1}function nw(e){const t=[],r=e.data,n=e;return n.data=Cc(r,t),n.attachments=t.length,{packet:n,buffers:t}}function Cc(e,t){if(!e)return e;if(Ad(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=Cc(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=Cc(e[n],t));return r}return e}function sw(e,t){return e.data=_c(e.data,t),delete e.attachments,e}function _c(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=_c(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=_c(e[r],t));return e}const aw=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],lw=5;var oe;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(oe||(oe={}));class ow{constructor(t){this.replacer=t}encode(t){return(t.type===oe.EVENT||t.type===oe.ACK)&&Lo(t)?this.encodeAsBinary({type:t.type===oe.EVENT?oe.BINARY_EVENT:oe.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===oe.BINARY_EVENT||t.type===oe.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=nw(t),n=this.encodeAsString(r.packet),s=r.buffers;return s.unshift(n),s}}function fh(e){return Object.prototype.toString.call(e)==="[object Object]"}class Pd extends Me{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===oe.BINARY_EVENT;n||r.type===oe.BINARY_ACK?(r.type=n?oe.EVENT:oe.ACK,this.reconstructor=new iw(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(Ad(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(oe[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===oe.BINARY_EVENT||n.type===oe.BINARY_ACK){const l=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const i=t.substring(l,r);if(i!=Number(i)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(i)}if(t.charAt(r+1)==="/"){const l=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(l,r)}else n.nsp="/";const s=t.charAt(r+1);if(s!==""&&Number(s)==s){const l=r+1;for(;++r;){const i=t.charAt(r);if(i==null||Number(i)!=i){--r;break}if(r===t.length)break}n.id=Number(t.substring(l,r+1))}if(t.charAt(++r)){const l=this.tryParse(t.substr(r));if(Pd.isPayloadValid(n.type,l))n.data=l;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case oe.CONNECT:return fh(r);case oe.DISCONNECT:return r===void 0;case oe.CONNECT_ERROR:return typeof r=="string"||fh(r);case oe.EVENT:case oe.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&aw.indexOf(r[0])===-1);case oe.ACK:case oe.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class iw{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=sw(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const uw=Object.freeze(Object.defineProperty({__proto__:null,Decoder:Pd,Encoder:ow,get PacketType(){return oe},protocol:lw},Symbol.toStringTag,{value:"Module"}));function Wt(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const cw=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class t0 extends Me{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Wt(t,"open",this.onopen.bind(this)),Wt(t,"packet",this.onpacket.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,s,l;if(cw.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const i={type:oe.EVENT,data:r};if(i.options={},i.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const x=this.ids++,b=r.pop();this._registerAckCallback(x,b),i.id=x}const u=(s=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||s===void 0?void 0:s.writable,c=this.connected&&!(!((l=this.io.engine)===null||l===void 0)&&l._hasPingExpired());return this.flags.volatile&&!u||(c?(this.notifyOutgoingListeners(i),this.packet(i)):this.sendBuffer.push(i)),this.flags={},this}_registerAckCallback(t,r){var n;const s=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(s===void 0){this.acks[t]=r;return}const l=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let u=0;u<this.sendBuffer.length;u++)this.sendBuffer[u].id===t&&this.sendBuffer.splice(u,1);r.call(this,new Error("operation has timed out"))},s),i=(...u)=>{this.io.clearTimeoutFn(l),r.apply(this,u)};i.withError=!0,this.acks[t]=i}emitWithAck(t,...r){return new Promise((n,s)=>{const l=(i,u)=>i?s(i):n(u);l.withError=!0,r.push(l),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((s,...l)=>n!==this._queue[0]?void 0:(s!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(s)):(this._queue.shift(),r&&r(null,...l)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:oe.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case oe.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case oe.EVENT:case oe.BINARY_EVENT:this.onevent(t);break;case oe.ACK:case oe.BINARY_ACK:this.onack(t);break;case oe.DISCONNECT:this.ondisconnect();break;case oe.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...s){n||(n=!0,r.packet({type:oe.ACK,id:t,data:s}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:oe.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Gs(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Gs.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=Math.floor(t*10)&1?e+r:e-r}return Math.min(e,this.max)|0};Gs.prototype.reset=function(){this.attempts=0};Gs.prototype.setMin=function(e){this.ms=e};Gs.prototype.setMax=function(e){this.max=e};Gs.prototype.setJitter=function(e){this.jitter=e};class Dc extends Me{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,Ei(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Gs({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const s=r.parser||uw;this.encoder=new s.Encoder,this.decoder=new s.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new Jy(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const s=Wt(r,"open",function(){n.onopen(),t&&t()}),l=u=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",u),t?t(u):this.maybeReconnectOnOpen()},i=Wt(r,"error",l);if(this._timeout!==!1){const u=this._timeout,c=this.setTimeoutFn(()=>{s(),l(new Error("timeout")),r.close()},u);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(s),this.subs.push(i),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Wt(t,"ping",this.onping.bind(this)),Wt(t,"data",this.ondata.bind(this)),Wt(t,"error",this.onerror.bind(this)),Wt(t,"close",this.onclose.bind(this)),Wt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){Si(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new t0(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(s=>{s?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",s)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const La={};function Io(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=Yy(e,t.path||"/socket.io"),n=r.source,s=r.id,l=r.path,i=La[s]&&l in La[s].nsps,u=t.forceNew||t["force new connection"]||t.multiplex===!1||i;let c;return u?c=new Dc(n,t):(La[s]||(La[s]=new Dc(n,t)),c=La[s]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(Io,{Manager:Dc,Socket:t0,io:Io,connect:Io});let ju;function _r(){if(!ju){const e=zm||(typeof window<"u"?window.location.origin:"");ju=Io(e,{path:"/socket.io",withCredentials:!1,reconnection:!0,reconnectionAttempts:10,reconnectionDelay:1e3})}return ju}async function dw(){if(typeof window<"u"&&window.JsSIP)return window.JsSIP;await new Promise((e,t)=>{const r=document.createElement("script");r.src="https://cdn.jsdelivr.net/npm/jssip@3/dist/jssip.min.js",r.async=!0,r.onload=()=>e(),r.onerror=()=>t(new Error("Falha ao carregar JsSIP via CDN")),document.head.appendChild(r)});try{window.JsSIP.debug.enable("JsSIP:*")}catch{}return window.JsSIP}async function fw({wsUrl:e,domain:t,extension:r,password:n,iceServers:s}){const l=await dw(),u={sockets:[new l.WebSocketInterface(e)],uri:`sip:${r}@${t}`,authorization_user:r,password:n,register:!0,register_expires:300,session_timers:!1},c=new l.UA(u);let m=null,x=!1;function b(g,w){c.on(g,w)}function j(){return new Promise(g=>{const w=()=>{x=!0,P(),g()},C=()=>{P(),g()};function P(){try{c.off("registered",w)}catch{}try{c.off("registrationFailed",C)}catch{}}c.on("registered",w),c.on("registrationFailed",C);try{c.start()}catch{g()}})}function _(){return x}function A(g,{onProgress:w,onAccepted:C,onEnded:P,onFailed:U,onTrack:V,audioDeviceId:q}={}){return new Promise((O,$)=>{const ue={eventHandlers:{progress:B=>{w&&w(B)},failed:B=>{m=null,U&&U(B),O(!1)},ended:B=>{m=null,P&&P(B),O(!1)},confirmed:B=>{C&&C(B),O(!0)}},mediaConstraints:{audio:q?{deviceId:{exact:q}}:!0,video:!1},pcConfig:{iceServers:s||[],iceTransportPolicy:"all"}};try{m=c.call(/^sip:/i.test(g)?g:`sip:${g}@${t}`,ue);try{m.connection.addEventListener("track",B=>{const[ee]=B.streams;V&&V(ee)}),m.connection.addEventListener("iceconnectionstatechange",()=>{})}catch{}}catch(B){$(B)}})}async function R(g){try{if(!m||!m.connection)return!1;const C=(await navigator.mediaDevices.getUserMedia({audio:g?{deviceId:{exact:g}}:!0})).getAudioTracks()[0];if(!C)return!1;const P=m.connection.getSenders().find(U=>U.track&&U.track.kind==="audio");return P&&await P.replaceTrack(C),!0}catch{return!1}}function L(g){var w;try{(w=m==null?void 0:m.sendDTMF)==null||w.call(m,String(g||"").substring(0,1))}catch{}}function k(){try{m==null||m.terminate()}catch{}m=null}return{ua:c,start:j,isRegistered:_,call:A,hangup:k,on:b,dtmf:L,setAudioDevice:R}}let ie=null,xo=!1,Ia=null,Nu=null;function Ta(e){try{localStorage.setItem("sip_registered",e?"1":"0"),window.dispatchEvent(new CustomEvent("sip:reg",{detail:{registered:e}}))}catch{}}function Su(e=3e3){Nu||(Nu=setTimeout(()=>{Nu=null;try{r0().catch(()=>{})}catch{}},e))}function hw(){const e=[];try{const r=void 0,n=void 0,s=void 0}catch{}return e.length||e.push({urls:"stun:stun.l.google.com:19302"}),e}async function r0(){return xo?ie:Ia||(Ia=(async()=>{var e;try{const t="wss://202106.maisfone.com.br:7443/ws",r=await H.get("/phone/me").catch(()=>null);if(!r||!r.hasPassword||!r.domain||!r.extension)return xo=!0,null;if(ie=await fw({wsUrl:t,domain:r.domain,extension:r.extension,password:r.password||"",iceServers:hw()}),ie!=null&&ie.on){try{ie.on("registered",()=>Ta(!0))}catch{}try{ie.on("unregistered",()=>Ta(!1))}catch{}try{ie.on("registrationFailed",()=>{Ta(!1),Su(5e3)})}catch{}try{ie.on("disconnected",()=>{Ta(!1),Su(3e3)})}catch{}}await ie.start(),Ta(!!((e=ie==null?void 0:ie.isRegistered)!=null&&e.call(ie)));try{document.addEventListener("visibilitychange",()=>{var n,s;(n=ie==null?void 0:ie.isRegistered)!=null&&n.call(ie)||(s=ie.start)==null||s.call(ie).catch(()=>{})})}catch{}try{window.addEventListener("online",()=>{var n;(n=ie==null?void 0:ie.start)==null||n.call(ie).catch(()=>{})})}catch{}try{setInterval(()=>{var n;try{(n=ie==null?void 0:ie.ua)!=null&&n.register&&ie.ua.register()}catch{}},24e4)}catch{}return xo=!0,ie}catch{return xo=!1,Su(5e3),null}finally{Ia=null}})(),Ia)}function pw(){return ie}function mw(){var D,te;const e=pr(),t=vn(),r=Ts(),n=I=>{try{I?localStorage.setItem("notif_sound_url",I):localStorage.removeItem("notif_sound_url"),window.dispatchEvent(new Event("chat:alertSoundUpdated"))}catch{}},[s,l]=d.useState(0);d.useEffect(()=>{const I=()=>l(re=>re+1);return window.addEventListener("chat:userUpdated",I),()=>window.removeEventListener("chat:userUpdated",I)},[]),d.useEffect(()=>{const I=()=>{const he=localStorage.getItem("chat_wallpaper")||"";he?document.documentElement.style.setProperty("--chat-wallpaper",`url('${he}')`):document.documentElement.style.removeProperty("--chat-wallpaper")},re=he=>n(he);return I(),window.addEventListener("chat:wallpaperUpdated",I),(async()=>{try{const he=`${window.location.origin}/api`.replace(/\/$/,""),ke=await fetch(`${he}/admin/config/public`);if(!ke.ok)return;const de=await ke.json();if(!!!localStorage.getItem("chat_wallpaper")&&(de!=null&&de.chatWallpaperUrl)&&document.documentElement.style.setProperty("--chat-wallpaper",`url('${de.chatWallpaperUrl}')`),de&&Object.prototype.hasOwnProperty.call(de,"alertSoundUrl")&&re((de==null?void 0:de.alertSoundUrl)||""),de&&Object.prototype.hasOwnProperty.call(de,"chatIconUrl")){const at=(de==null?void 0:de.chatIconUrl)||"";w(at);try{at?localStorage.setItem("chat_icon",at):localStorage.removeItem("chat_icon"),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}}}catch{}})(),()=>window.removeEventListener("chat:wallpaperUpdated",I)},[]),d.useEffect(()=>{const I=_r(),re=(he={})=>{n((he==null?void 0:he.url)||"")},xe=(he={})=>{const ke=(he==null?void 0:he.url)||"";w(ke);try{ke?localStorage.setItem("chat_icon",ke):localStorage.removeItem("chat_icon"),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}};return I.on("config:alert-sound",re),I.on("config:chat-icon",xe),()=>{I.off("config:alert-sound",re),I.off("config:chat-icon",xe)}},[]),d.useEffect(()=>{r0().catch(()=>{})},[]);const i=d.useCallback(()=>{try{Bm()}catch{}c(!1),e("/login",{replace:!0}),setTimeout(()=>{window.location.pathname!=="/login"&&window.location.assign("/login")},75)},[e]),[u,c]=d.useState(!1),[m,x]=d.useState(()=>localStorage.getItem("chat_status")||"online"),b=I=>{x(I),localStorage.setItem("chat_status",I)},[j,_]=d.useState(()=>localStorage.getItem("theme")||"light"),[A,R]=d.useState(()=>localStorage.getItem("chat_bg")||"whatsapp"),[L,k]=d.useState(!1),[g,w]=d.useState(()=>localStorage.getItem("chat_icon")||""),C=d.useRef(null),[P,U]=d.useState(!1),[V,q]=d.useState(""),[O,$]=d.useState(""),J=d.useRef(null),ue=d.useCallback(I=>{J.current=I},[]),B=L?"w-16 md:w-16":"w-64 md:w-64",ee=d.useCallback(()=>{},[]);d.useEffect(()=>{const I=document.documentElement,re=document.body;j==="dark"?(I.classList.add("dark"),re.classList.add("dark")):(I.classList.remove("dark"),re.classList.remove("dark")),localStorage.setItem("theme",j)},[j]),d.useEffect(()=>{const I=document.body;try{I.setAttribute("data-chat-bg",A)}catch{}localStorage.setItem("chat_bg",A)},[A]),d.useEffect(()=>{const I=()=>w(localStorage.getItem("chat_icon")||""),re=()=>R(localStorage.getItem("chat_bg")||"whatsapp");return window.addEventListener("chat:iconUpdated",I),window.addEventListener("chat:bgUpdated",re),()=>{window.removeEventListener("chat:iconUpdated",I),window.removeEventListener("chat:bgUpdated",re)}},[]),d.useEffect(()=>{var xe;const I=_r(),re=(xe=Ts())==null?void 0:xe.id;if(re)try{I.emit("presence:online",{userId:re,status:m})}catch{}},[r==null?void 0:r.id]),d.useEffect(()=>{var xe;const I=_r();if((xe=Ts())!=null&&xe.id)try{I.emit("presence:set",{status:m})}catch{}},[m]),d.useEffect(()=>{if(!u)return;const I=re=>{const xe=J.current;xe&&(xe.contains(re.target)||c(!1))};return document.addEventListener("mousedown",I),document.addEventListener("touchstart",I),()=>{document.removeEventListener("mousedown",I),document.removeEventListener("touchstart",I)}},[u]);const me=async I=>{var xe,he;const re=(xe=I.target.files)==null?void 0:xe[0];if(re){if(!((he=re.type)!=null&&he.startsWith("image/"))){$("Escolha um arquivo de imagem"),I.target.value="";return}q(""),$(""),U(!0);try{const ke=new FormData;ke.append("avatar",re);const de=await H.uploadPatch("/users/me",ke),ye=(de==null?void 0:de.user)||de;if(ye!=null&&ye.avatarUrl){try{const at=localStorage.getItem("chat_auth");if(at){const jt=JSON.parse(at);jt.user={...jt.user||{},avatarUrl:ye.avatarUrl},localStorage.setItem("chat_auth",JSON.stringify(jt))}}catch{}window.dispatchEvent(new Event("chat:userUpdated")),q("Foto atualizada com sucesso")}else q("Foto atualizada");c(!1)}catch(ke){$((ke==null?void 0:ke.message)||"Falha ao enviar foto")}finally{U(!1),I.target.value=""}}},ge=()=>{var I;$(""),q(""),(I=C.current)==null||I.click()},Fe=I=>a.jsxs("div",{className:`${I} w-64 bg-white dark:bg-slate-800 border border-slate-200 dark:border-slate-700 rounded shadow-lg p-3 z-50`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Preferencias"}),a.jsx("button",{type:"button",onClick:()=>c(!1),className:"inline-flex w-6 h-6 items-center justify-center rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Fechar menu",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:a.jsx("path",{d:"m6.225 4.811 13.964 13.964-1.061 1.06L5.164 5.871l1.061-1.06Zm11.55 0 1.06 1.06L4.87 19.386l-1.06-1.06L17.776 4.81Z"})})})]}),a.jsx("div",{className:"mt-3 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Status"}),a.jsxs("div",{className:"flex flex-wrap gap-2 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>b("online"),className:`px-2 py-1 rounded text-sm ${m==="online"?"bg-green-100 text-green-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Online"}),a.jsx("button",{onClick:()=>b("ausente"),className:`px-2 py-1 rounded text-sm ${m==="ausente"?"bg-yellow-100 text-yellow-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Ausente"}),a.jsx("button",{onClick:()=>b("offline"),className:`px-2 py-1 rounded text-sm ${m==="offline"?"bg-slate-100 text-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Offline"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Tema"}),a.jsxs("div",{className:"flex gap-2 px-1.5 py-1",children:[a.jsx("button",{onClick:()=>_("light"),className:`px-2 py-1 rounded text-sm ${j==="light"?"bg-slate-100 text-slate-700":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Claro"}),a.jsx("button",{onClick:()=>_("dark"),className:`px-2 py-1 rounded text-sm ${j==="dark"?"bg-slate-700 text-white":"hover:bg-slate-50 dark:hover:bg-slate-700/60"}`,children:"Escuro"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsx("div",{className:"px-1.5 py-1 text-xs text-slate-500 dark:text-slate-400",children:"Foto"}),a.jsxs("button",{type:"button",onClick:()=>{ge()},className:"w-full inline-flex items-center justify-center gap-2 px-2 py-1.5 rounded border border-slate-300 dark:border-slate-600 text-sm hover:bg-slate-50 dark:hover:bg-slate-700/60 disabled:opacity-50",disabled:P,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4",children:a.jsx("path",{d:"M9 3.75A.75.75 0 0 1 9.75 3h4.5a.75.75 0 0 1 .707.493l.401 1.12h2.192A1.95 1.95 0 0 1 19.5 6.563l.75 2.25A2.25 2.25 0 0 1 21 9.75v7.5A3.75 3.75 0 0 1 17.25 21h-10.5A3.75 3.75 0 0 1 3 17.25v-7.5a2.25 2.25 0 0 1 .75-1.688l.75-2.25A1.95 1.95 0 0 1 6.45 4.5h2.192l.401-1.12A.75.75 0 0 1 9 3.75ZM12 8.25a4.5 4.5 0 1 0 0 9 4.5 4.5 0 0 0 0-9Zm0 1.5a3 3 0 1 1 0 6 3 3 0 0 1 0-6Z"})}),a.jsx("span",{children:P?"Enviando...":"Alterar foto"})]}),a.jsx("div",{className:"mt-2 border-t border-slate-200 dark:border-slate-700"}),a.jsxs("div",{className:"flex flex-col gap-1 px-1.5 py-1",children:[a.jsx("button",{type:"button",onClick:()=>{c(!1),e("/")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Ir para Chat"}),(r==null?void 0:r.isAdmin)&&a.jsx("button",{type:"button",onClick:()=>{c(!1),e("/admin")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Ir para Admin"}),a.jsx("button",{type:"button",onClick:()=>{c(!1),e("/profile")},className:"px-2 py-1.5 text-sm rounded hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left",children:"Editar perfil"}),a.jsx("button",{type:"button",onClick:i,className:"px-2 py-1.5 text-sm text-red-600 rounded hover:bg-red-50 dark:hover:bg-red-900/30 text-left",children:"Sair"})]})]}),W=I=>t.pathname===I?"text-blue-600 font-semibold":"text-slate-700 hover:text-blue-600";return a.jsxs("div",{className:"flex h-screen overflow-x-hidden bg-slate-50 dark:bg-slate-900 dark:text-slate-100",children:[a.jsxs("aside",{className:`${B} flex-shrink-0 border-r border-slate-200 dark:border-slate-700 p-4 bg-white dark:bg-slate-800 flex flex-col z-40`,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[L?g?a.jsx("img",{src:g,alt:"cone do chat",className:"w-8 h-8 rounded-full object-cover"}):a.jsx("svg",{width:"20",height:"20",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 text-slate-700 dark:text-slate-200",children:a.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z",fill:"currentColor"})}):a.jsxs("div",{className:"flex items-center gap-2",children:[g&&a.jsx("img",{src:g,alt:"cone",className:"w-6 h-6 rounded object-cover"}),a.jsx("h3",{className:"font-semibold text-xl",children:"Chat Farmacon"})]}),a.jsxs("div",{className:"relative group hidden",children:[a.jsx("button",{type:"button",className:"inline-flex w-8 h-8 items-center justify-center rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700/60",title:L?"Expandir":"Recolher",onClick:()=>{const I=!L;k(I);try{localStorage.setItem("sidebar_mini",I?"1":"0")}catch{}},children:L?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M4.5 12h15v1.5h-15V12Zm0-4.5h9V9h-9V7.5Zm0 9h9V18h-9v-1.5Z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M9 6h10v1.5H9V6Zm0 10.5h10V18H9v-1.5ZM9 11.25h10v1.5H9v-1.5ZM5 6h2v12H5V6Z"})})}),a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:L?"Expandir":"Recolher"})]})]}),!L&&a.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:["Ol, ",r==null?void 0:r.name]}),a.jsxs("nav",{className:"mt-4 flex flex-col gap-2",children:[a.jsxs("div",{className:"relative group",children:[a.jsxs($n,{title:"Conversas",className:`px-2 py-2 rounded flex items-center gap-2 ${W("/conversas")}`,to:"/conversas",onClick:ee,children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10a9.96 9.96 0 0 1-4.587-1.112l-3.826 1.067a1.25 1.25 0 0 1-1.54-1.54l1.068-3.823A9.96 9.96 0 0 1 2 12C2 6.477 6.477 2 12 2Zm0 1.5A8.5 8.5 0 0 0 3.5 12c0 1.47.373 2.883 1.073 4.137l.15.27-1.112 3.984 3.987-1.112.27.15A8.5 8.5 0 1 0 12 3.5ZM8.75 13h4.498a.75.75 0 0 1 .102 1.493l-.102.007H8.75a.75.75 0 0 1-.102-1.493L8.75 13h4.498H8.75Zm0-3.5h6.505a.75.75 0 0 1 .101 1.493l-.101.007H8.75a.75.75 0 0 1-.102-1.493L8.75 9.5h6.505H8.75Z"})}),!L&&a.jsx("span",{children:"Conversas"})]}),L&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Conversas"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs($n,{title:"Telefonia",className:`px-2 py-2 rounded flex items-center gap-2 ${W("/telefonia")}`,to:"/telefonia",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.25 6.75c0-1.24 1.01-2.25 2.25-2.25h3c.97 0 1.8.62 2.1 1.54l.86 2.58a2.25 2.25 0 0 1-.57 2.31l-1.21 1.21a12.06 12.06 0 0 0 4.88 4.88l1.21-1.21a2.25 2.25 0 0 1 2.31-.57l2.58.86c.92.3 1.54 1.13 1.54 2.1v3c0 1.24-1.01 2.25-2.25 2.25H18c-8.28 0-15-6.72-15-15v-3Z"})}),!L&&a.jsx("span",{children:"Telefonia"})]}),L&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Telefonia"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs($n,{title:"Reunies",className:`px-2 py-2 rounded flex items-center gap-2 ${W("/reunioes")}`,to:"/reunioes",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M6.75 2a.75.75 0 0 1 .75.75V4h9V2.75a.75.75 0 0 1 1.5 0V4h.75A2.25 2.25 0 0 1 21 6.25v11A2.25 2.25 0 0 1 18.75 19.5H5.25A2.25 2.25 0 0 1 3 17.25v-11A2.25 2.25 0 0 1 5.25 4H6V2.75a.75.75 0 0 1 .75-.75Zm12 6H5.25a.75.75 0 0 0-.75.75V9h15V8.75a.75.75 0 0 0-.75-.75ZM19.5 10.5h-15V17.25c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75V10.5Zm-9.75 2.25a.75.75 0 0 1 .102 1.493L9.75 14.25h-2.5a.75.75 0 0 1-.102-1.493l.102-.007h2.5Zm6 0a.75.75 0 0 1 .102 1.493l-.102.007h-3.5a.75.75 0 0 1-.102-1.493l.102-.007h3.5Z"})}),!L&&a.jsx("span",{children:"Reunies"})]}),L&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Reunies"})]}),(r==null?void 0:r.isAdmin)&&a.jsxs("div",{className:"relative group",children:[a.jsxs($n,{title:"Admin",className:`px-2 py-2 rounded flex items-center gap-2 ${W("/admin")}`,to:"/admin",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 2.25 3.75 6v5.25c0 5.108 3.66 9.837 8.625 10.5 4.965-.663 8.625-5.392 8.625-10.5V6L12 2.25Zm0 5.25a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm0 12a7.5 7.5 0 0 1-6-3.09c.03-1.982 4.5-3.06 6-3.06s5.97 1.078 6 3.06A7.5 7.5 0 0 1 12 19.5Z"})}),!L&&a.jsx("span",{children:"Admin"})]}),L&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Admin"})]}),a.jsxs("div",{className:"relative group",children:[a.jsxs($n,{title:"Contatos",className:`px-2 py-2 rounded flex items-center gap-2 ${W("/contatos")}`,to:"/contatos",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M5.25 3A2.25 2.25 0 0 0 3 5.25v13.5A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V5.25A2.25 2.25 0 0 0 18.75 3H5.25Zm6.75 4.5a2.25 2.25 0 1 1 0 4.5 2.25 2.25 0 0 1 0-4.5Zm0 6c2.209 0 4.5 1.122 4.5 2.5V17H7.5v-1c0-1.378 2.291-2.5 4.5-2.5Z"})}),!L&&a.jsx("span",{children:"Contatos"})]}),L&&a.jsx("span",{className:"pointer-events-none absolute left-full top-1/2 -translate-y-1/2 ml-2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs rounded px-2 py-1 shadow z-50 whitespace-nowrap dark:bg-slate-700",children:"Contatos"})]})]}),a.jsxs("div",{className:"mt-auto pt-3 border-t border-slate-200 dark:border-slate-700",children:[a.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:me}),L?a.jsxs("div",{ref:ue,className:"flex flex-col items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>c(I=>!I),className:"relative inline-flex items-center justify-center w-10 h-10 rounded-full border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-800 hover:ring-2 hover:ring-blue-500/30","aria-label":"Abrir menu do perfil",children:[a.jsx("div",{className:"absolute inset-0 rounded-full overflow-hidden",children:r!=null&&r.avatarUrl?a.jsx("img",{src:r.avatarUrl,alt:"avatar",className:"w-full h-full object-cover",onError:I=>{I.currentTarget.style.display="none"}}):a.jsx("div",{className:"w-full h-full bg-slate-300"})}),a.jsx("span",{className:`absolute bottom-0 right-0 w-2.5 h-2.5 rounded-full border-2 border-white dark:border-slate-800 ${m==="online"?"bg-green-500":m==="ausente"?"bg-yellow-500":"bg-slate-400"}`})]}),u&&Fe("fixed top-4 left-20")]}),P&&a.jsx("span",{className:"text-[10px] text-slate-500",children:"Enviando..."}),V&&a.jsx("span",{className:"text-[10px] text-green-600 text-center max-w-[64px]",children:V}),O&&a.jsx("span",{className:"text-[10px] text-red-600 text-center max-w-[64px]",children:O})]}):a.jsxs("div",{ref:ue,className:"relative",children:[a.jsxs("button",{type:"button",onClick:()=>c(I=>!I),className:"w-full inline-flex items-center gap-3 rounded border border-slate-300 dark:border-slate-600 px-3 py-2 hover:bg-slate-50 dark:hover:bg-slate-700/60 text-left","aria-expanded":u,children:[a.jsxs("span",{className:"relative",children:[a.jsx("span",{className:"w-12 h-12 rounded-full border border-slate-300 dark:border-slate-600 overflow-hidden bg-slate-200 block",children:r!=null&&r.avatarUrl?a.jsx("img",{src:r.avatarUrl,alt:"avatar",className:"w-full h-full object-cover",onError:I=>{I.currentTarget.style.display="none"}}):a.jsx("span",{className:"w-full h-full flex items-center justify-center text-sm text-slate-500",children:((te=(D=r==null?void 0:r.name)==null?void 0:D.slice(0,2))==null?void 0:te.toUpperCase())||"ME"})}),a.jsx("span",{className:`absolute -bottom-0.5 -right-0.5 w-3 h-3 rounded-full border-2 border-white dark:border-slate-800 ${m==="online"?"bg-green-500":m==="ausente"?"bg-yellow-500":m==="ocupado"?"bg-red-500":"bg-slate-400"}`})]}),a.jsxs("span",{className:"flex-1 min-w-0 text-left",children:[a.jsx("span",{className:"block font-semibold text-sm truncate",children:(r==null?void 0:r.name)||"Meu perfil"}),a.jsxs("span",{className:"block text-xs text-slate-500 capitalize truncate",children:["Status: ",m]})]}),a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`,children:a.jsx("path",{d:"M12 15.75a.75.75 0 0 1-.53-.22l-4.5-4.5a.75.75 0 1 1 1.06-1.06L12 13.94l3.97-3.97a.75.75 0 0 1 1.06 1.06l-4.5 4.5a.75.75 0 0 1-.53.22Z"})})]}),u&&Fe("absolute right-0 bottom-full mb-2")]})]})]}),a.jsx("main",{className:"flex-1 overflow-hidden",children:a.jsx(ry,{})})]})}function gw(){const e=pr(),t=vn(),[r,n]=d.useState(""),[s,l]=d.useState(""),[i,u]=d.useState(!1),[c,m]=d.useState(!1),[x,b]=d.useState(""),[j,_]=d.useState(!1),[A,R]=d.useState("");d.useEffect(()=>{try{const k=localStorage.getItem("theme")||(matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");document.documentElement.classList.toggle("dark",k==="dark");const g=localStorage.getItem("rememberedEmail");g&&(n(g),u(!0))}catch{}},[]),d.useEffect(()=>{try{new URLSearchParams((t==null?void 0:t.search)||"").get("registered")==="1"?b("Conta criada com sucesso! Faa login com suas credenciais."):b("")}catch{b("")}},[t]);async function L(k){k.preventDefault(),_(!0),b(""),R("");try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(r))throw new Error("Informe um e-mail vlido");if(!s||s.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const w=await H.post("/auth/login",{email:r,password:s});Mm(w.token,w.user);try{i?localStorage.setItem("rememberedEmail",r):localStorage.removeItem("rememberedEmail")}catch{}e("/")}catch(g){R(g.message||"Falha no login")}finally{_(!1)}}return a.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"absolute -top-32 -left-24 h-72 w-72 rounded-full bg-emerald-500/30 blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-8rem] right-[-6rem] h-96 w-96 rounded-full bg-blue-500/25 blur-3xl"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(56,189,248,0.18),transparent_55%)]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(15,23,42,0.6),rgba(15,23,42,0.9))]"})]}),a.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"grid w-full max-w-5xl gap-12 rounded-[2.5rem] border border-white/5 bg-white/5 p-8 shadow-[0_20px_70px_-30px_rgba(15,23,42,0.9)] backdrop-blur-lg lg:grid-cols-[1.1fr_1fr] lg:p-12",children:[a.jsxs("div",{className:"hidden flex-col justify-between lg:flex",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("span",{className:"inline-flex items-center gap-2 w-fit rounded-full border border-white/10 bg-white/5 px-4 py-1 text-sm text-slate-200",children:[a.jsx("span",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Plataforma omnichannel Farmachat"]}),a.jsx("h1",{className:"text-4xl font-semibold leading-tight text-white",children:"Conecte sua equipe e Participe de Grupos"}),a.jsx("p",{className:"text-lg text-slate-300",children:"Nosso chat interno conecta toda a equipe em tempo real, facilitando a troca de ideias e decises rpidas. Comunicao simples, gil e segura para aumentar a produtividade e fortalecer a colaborao."})]}),a.jsxs("div",{className:"mt-10 flex flex-col gap-4 text-sm text-slate-200/80",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-emerald-500/15 text-emerald-300",children:"01"}),"Respostas rpidas e consistentes em todos os atendimentos."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-200",children:"02"}),"Monitoramento em tempo real e histrico completo das conversas."]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("span",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-blue-500/20 text-blue-200",children:"03"}),"Segurana e privacidade alinhadas s melhores prticas do mercado."]})]})]}),a.jsxs("form",{onSubmit:L,className:"relative flex flex-col gap-6 rounded-3xl border border-white/10 bg-white/90 p-8 text-slate-900 shadow-2xl backdrop-blur dark:bg-slate-900/85 dark:text-slate-100",noValidate:!0,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/images/logo.png",alt:"Farmachat",className:"h-10 w-auto",draggable:!1}),a.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-300"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-3xl font-semibold text-slate-900 dark:text-white",children:"Bem-vindo de volta"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Acesse sua conta para continuar acompanhando suas conversas."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"E-mail"}),a.jsx("input",{id:"email",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-emerald-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"voce@empresa.com",type:"email",autoComplete:"email",autoFocus:!0,required:!0,value:r,onChange:k=>n(k.target.value)})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-emerald-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Insira sua senha",type:c?"text":"password",autoComplete:"current-password",minLength:6,required:!0,value:s,onChange:k=>l(k.target.value)}),a.jsx("button",{type:"button",onClick:()=>m(k=>!k),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center gap-2 rounded-lg border border-transparent px-3 text-xs font-medium text-emerald-600 transition hover:border-emerald-200 hover:bg-emerald-50 hover:text-emerald-700 dark:text-emerald-300 dark:hover:border-emerald-500/50 dark:hover:bg-emerald-500/10",children:c?"Ocultar":"Mostrar"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-slate-600 dark:text-slate-300",children:[a.jsx("input",{type:"checkbox",checked:i,onChange:k=>u(k.target.checked),className:"h-4 w-4 rounded border-slate-300 text-emerald-500 focus:ring-emerald-400 dark:border-slate-600"}),"Lembrar de mim"]}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:"Esqueceu seus dados? Fale com o administrador."})]}),x&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-emerald-300/60 bg-emerald-50 px-3 py-2 text-sm text-emerald-700 dark:border-emerald-500/40 dark:bg-emerald-500/10 dark:text-emerald-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:x})]}),A&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-300/60 bg-red-50/80 px-3 py-2 text-sm text-red-600 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:A})]}),a.jsx("button",{type:"submit",disabled:j,className:"inline-flex h-12 items-center justify-center rounded-2xl bg-gradient-to-r from-emerald-500 via-cyan-500 to-blue-500 px-6 text-sm font-semibold text-white shadow-lg shadow-emerald-500/30 transition hover:shadow-2xl hover:shadow-emerald-500/40 disabled:opacity-60 disabled:shadow-none",children:j?"Entrando...":"Entrar"}),a.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-300",children:["No tem conta?"," ",a.jsx($n,{className:"font-medium text-emerald-600 transition hover:text-emerald-500 dark:text-emerald-300 dark:hover:text-emerald-200",to:"/register",children:"Criar cadastro"})]}),a.jsx("p",{className:"text-center text-[11px] text-slate-400 dark:text-slate-500",children:"Ao continuar voc concorda com os termos de uso e poltica de privacidade da Farmachat."})]})]})})]})}function xw(){const e=pr(),[t,r]=d.useState(""),[n,s]=d.useState(""),[l,i]=d.useState(""),[u,c]=d.useState(""),[m,x]=d.useState(!0),[b,j]=d.useState(!1),[_,A]=d.useState(!1),[R,L]=d.useState(!1),[k,g]=d.useState(null),[w,C]=d.useState(""),[P,U]=d.useState("");d.useEffect(()=>()=>{w&&URL.revokeObjectURL(w)},[w]);async function V(O){if(O.preventDefault(),!m){U("Confirme que leu e aceita os termos de uso.");return}if(U(""),l!==u){U("As senhas no conferem.");return}L(!0);try{const $=new FormData;$.append("name",t.trim()),$.append("email",n.trim()),$.append("password",l),k&&$.append("avatar",k),await xy.upload("/auth/register",$),e("/login?registered=1")}catch($){U($.message||"Falha no cadastro. Tente novamente.")}finally{L(!1)}}function q(O){var J;const $=((J=O.target.files)==null?void 0:J[0])||null;g($),w&&URL.revokeObjectURL(w),C($?URL.createObjectURL($):"")}return a.jsxs("div",{className:"relative min-h-screen overflow-hidden bg-slate-950 text-slate-100",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx("div",{className:"absolute -top-28 -left-36 h-80 w-80 rounded-full bg-cyan-400/25 blur-3xl"}),a.jsx("div",{className:"absolute bottom-[-7rem] right-[-6rem] h-96 w-96 rounded-full bg-emerald-500/25 blur-3xl"}),a.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(14,165,233,0.18),transparent_60%)]"}),a.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(135deg,rgba(15,23,42,0.65),rgba(15,23,42,0.92))]"})]}),a.jsx("div",{className:"relative z-10 flex min-h-screen items-center justify-center px-6 py-12",children:a.jsxs("div",{className:"grid w-full max-w-5xl gap-10 rounded-[2.5rem] border border-white/5 bg-white/5 p-8 shadow-[0_22px_80px_-28px_rgba(14,116,144,0.8)] backdrop-blur-lg lg:grid-cols-[1.05fr_1fr] lg:p-12",children:[a.jsxs("div",{className:"hidden flex-col justify-between lg:flex",children:[a.jsxs("div",{className:"flex flex-col gap-6",children:[a.jsxs("span",{className:"inline-flex w-fit items-center gap-2 rounded-full border border-white/10 bg-white/5 px-4 py-1 text-sm text-slate-200",children:[a.jsx("span",{className:"h-2 w-2 animate-pulse rounded-full bg-emerald-400"}),"Crie sua conta em minutos"]}),a.jsx("h1",{className:"text-4xl font-semibold leading-tight text-white",children:"Personalize seu atendimento com o poder do Farmachat"}),a.jsx("p",{className:"text-lg text-slate-300",children:"Gesto de equipes, dashboards inteligentes e integraes prontas para canais que o seu cliente ama usar."})]}),a.jsxs("ul",{className:"mt-10 space-y-4 text-sm text-slate-200/80",children:[a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-emerald-500/20 text-emerald-200",children:""}),"Fluxos automticos e organizao de filas de atendimento."]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-cyan-500/20 text-cyan-200",children:""}),"Biblioteca de templates, etiquetas e respostas salvas."]}),a.jsxs("li",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 flex h-8 w-8 items-center justify-center rounded-full bg-blue-500/20 text-blue-200",children:""}),"Times ilimitados, usurios convidados e permisses customizadas."]})]})]}),a.jsxs("form",{onSubmit:V,className:"relative flex flex-col gap-5 rounded-3xl border border-white/10 bg-white/90 p-8 text-slate-900 shadow-2xl backdrop-blur dark:bg-slate-900/85 dark:text-slate-100",noValidate:!0,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("img",{src:"/images/logo.png",alt:"Farmachat",className:"h-10 w-auto",draggable:!1}),a.jsx("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-300",children:"Novo portal de atendimento"})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("h2",{className:"text-3xl font-semibold text-slate-900 dark:text-white",children:"Criar conta"}),a.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300",children:"Preencha os dados abaixo para ativar seu espao de trabalho."})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"name",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Nome completo"}),a.jsx("input",{id:"name",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Como devemos te chamar?",value:t,onChange:O=>r(O.target.value),required:!0})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"E-mail corporativo"}),a.jsx("input",{id:"email",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"voce@empresa.com",type:"email",autoComplete:"email",value:n,onChange:O=>s(O.target.value),required:!0})]}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Crie uma senha",type:b?"text":"password",minLength:8,value:l,onChange:O=>i(O.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>j(O=>!O),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center rounded-lg border border-transparent px-3 text-xs font-medium text-cyan-600 transition hover:border-cyan-200 hover:bg-cyan-50 hover:text-cyan-700 dark:text-cyan-200 dark:hover:border-cyan-400/50 dark:hover:bg-cyan-500/10",children:b?"Ocultar":"Mostrar"})]})]}),a.jsxs("div",{className:"flex flex-col gap-1",children:[a.jsx("label",{htmlFor:"confirm",className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Confirmar senha"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"confirm",className:"w-full rounded-xl border border-slate-200 bg-white px-4 py-3 pr-28 text-sm text-slate-900 shadow-sm focus:border-transparent focus:outline-none focus:ring-2 focus:ring-cyan-400/80 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-100",placeholder:"Repita a senha",type:_?"text":"password",minLength:8,value:u,onChange:O=>c(O.target.value),required:!0}),a.jsx("button",{type:"button",onClick:()=>A(O=>!O),className:"absolute inset-y-0 right-3 my-1 inline-flex items-center justify-center rounded-lg border border-transparent px-3 text-xs font-medium text-cyan-600 transition hover:border-cyan-200 hover:bg-cyan-50 hover:text-cyan-700 dark:text-cyan-200 dark:hover:border-cyan-400/50 dark:hover:bg-cyan-500/10",children:_?"Ocultar":"Mostrar"})]})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx("label",{className:"text-sm font-medium text-slate-600 dark:text-slate-200",children:"Foto de perfil (opcional)"}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"relative h-16 w-16 overflow-hidden rounded-full border border-slate-200 bg-slate-100 dark:border-slate-700 dark:bg-slate-800",children:w?a.jsx("img",{src:w,alt:"Pr-visualizao do avatar",className:"h-full w-full object-cover"}):a.jsx("div",{className:"grid h-full w-full place-items-center text-xs text-slate-400 dark:text-slate-500",children:"sem foto"})}),a.jsxs("label",{className:"inline-flex cursor-pointer items-center gap-3 rounded-xl border border-slate-200 bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-sm transition hover:border-cyan-200 hover:text-cyan-600 dark:border-slate-700 dark:bg-slate-900 dark:text-slate-200 dark:hover:border-cyan-500/60 dark:hover:text-cyan-300",children:[a.jsx("span",{children:"Carregar imagem"}),a.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:q})]})]})]}),a.jsxs("label",{className:"mt-1 inline-flex items-start gap-3 text-xs text-slate-500 dark:text-slate-300",children:[a.jsx("input",{type:"checkbox",checked:m,onChange:O=>x(O.target.checked),className:"mt-1 h-4 w-4 rounded border-slate-300 text-cyan-500 focus:ring-cyan-400 dark:border-slate-600"}),a.jsx("span",{children:"Li e concordo com os termos de uso, poltica de privacidade e boas prticas da Farmachat."})]}),P&&a.jsxs("div",{className:"flex items-center gap-2 rounded-xl border border-red-300/60 bg-red-50/80 px-3 py-2 text-sm text-red-600 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200",children:[a.jsx("span",{className:"text-base",children:""}),a.jsx("span",{children:P})]}),a.jsx("button",{type:"submit",disabled:R,className:"inline-flex h-12 items-center justify-center rounded-2xl bg-gradient-to-r from-cyan-500 via-emerald-500 to-blue-500 px-6 text-sm font-semibold text-white shadow-lg shadow-cyan-500/25 transition hover:shadow-2xl hover:shadow-cyan-500/35 disabled:opacity-60 disabled:shadow-none",children:R?"Cadastrando...":"Criar minha conta"}),a.jsxs("div",{className:"text-center text-sm text-slate-500 dark:text-slate-300",children:["J possui conta?"," ",a.jsx($n,{className:"font-medium text-cyan-600 transition hover:text-cyan-500 dark:text-cyan-300 dark:hover:text-cyan-200",to:"/login",children:"Entrar"})]}),a.jsx("p",{className:"text-center text-[11px] text-slate-400 dark:text-slate-500",children:"Suporte 24/7 e implementao assistida inclusos para novos clientes."})]})]})})]})}function vw({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35M11 19a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"})})}function yw({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"})})}function ww({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})})}function Eu({className:e="w-4 h-4"}){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}function bw({className:e="w-5 h-5"}){return a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,viewBox:"0 0 24 24",fill:"currentColor",children:[a.jsx("circle",{cx:"5",cy:"12",r:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"2"}),a.jsx("circle",{cx:"19",cy:"12",r:"2"})]})}function kw({className:e="w-5 h-5"}){return a.jsx("span",{className:e,role:"img","aria-label":"emoji",children:""})}function hh({className:e="w-4 h-4",filled:t=!1}){return t?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:e,children:a.jsx("path",{d:"M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l1.63 3.918 4.254.372c1.164.102 1.636 1.545.749 2.32l-3.244 2.76 1.003 4.135c.274 1.127-.964 1.997-1.96 1.4L12 15.64 8.356 18.116c-.996.598-2.234-.273-1.96-1.4l1.003-4.135-3.244-2.76c-.887-.775-.415-2.218.749-2.32l4.254-.372 1.63-3.918z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:a.jsx("path",{d:"M11.48 3.499a.562.562 0 011.04 0l1.4 3.36a.562.562 0 00.46.345l3.633.314a.562.562 0 01.32.98l-2.77 2.357a.562.562 0 00-.182.536l.82 3.493a.562.562 0 01-.84.61l-3.1-1.87a.562.562 0 00-.586 0l-3.1 1.87a.562.562 0 01-.84-.61l.82-3.493a.562.562 0 00-.182-.536l-2.77-2.357a.562.562 0 01.32-.98l3.633-.314a.562.562 0 00.46-.345l1.4-3.36z"})})}const jw="BLX4iWgrhNgMUBR7yYLSu_LLHgE0ZbrFlrY9UBd3hGAfXc6SrOTcsVf2tdI1hJEzcXG3cg8NFIkNmvDXIK8sKm0",ph={attached:!1};function Nw(e){const t="=".repeat((4-e.length%4)%4),r=(e+t).replace(/-/g,"+").replace(/_/g,"/"),n=atob(r),s=new Uint8Array(n.length);for(let l=0;l<n.length;l+=1)s[l]=n.charCodeAt(l);return s}async function Sw(){try{const{key:e}=await H.get("/push/vapid-public-key");if(e)return e}catch{}return jw}async function n0(e){if(!e)return null;try{await H.post("/push/subscribe",{subscription:e})}catch(t){console.error("Falha ao registrar subscription no servidor",t)}return e}function Ew(){if(!(ph.attached||typeof navigator>"u"||!navigator.serviceWorker))try{navigator.serviceWorker.addEventListener("message",async e=>{var t;if(((t=e==null?void 0:e.data)==null?void 0:t.type)==="push:subscription")try{await n0(e.data.subscription)}catch{}}),ph.attached=!0}catch{}}async function Cw(){if(typeof window>"u"||!("serviceWorker"in navigator)||!("PushManager"in window))return null;Ew();const e=await navigator.serviceWorker.ready;let t=await e.pushManager.getSubscription();if(!t){const r=await Sw(),n=Nw(r);t=await e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n})}return await n0(t),t}const vo={recent:[],caras:["","","","","","","","","","","","","","","","","","","","","","","",""],gestos:["","","","","","","","","","","","","","","",""],amor:["","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],animais:["","","","","","","","","","","","","","","",""],comida:["","","","","","","","","","","","","","","","","","","","","","","","","","",""],objetos:["","","","","","","","","","","","","","",""],transportes:["","","","","","","","","",""],clima:["","","","","","","","","","","","","","","","","","","",""],natureza:["","","","","","","","","","","","","","","","","","","","",""]},_w=[{key:"recent",label:"Recentes",icon:""},{key:"favoritos",label:"Favoritos",icon:""},{key:"caras",label:"Caras",icon:""},{key:"gestos",label:"Gestos",icon:""},{key:"amor",label:"Amor",icon:""},{key:"natureza",label:"Natureza",icon:""},{key:"clima",label:"Clima",icon:""},{key:"animais",label:"Animais",icon:""},{key:"comida",label:"Comida",icon:""},{key:"objetos",label:"Objetos",icon:""},{key:"transportes",label:"Transp.",icon:""}];function Mt(e){return Array.isArray(e)?e:[]}function Dw(e){if(!Number.isFinite(e)||e<=0)return"";const t=Math.floor(e),r=Math.floor(t/60),n=t%60;return`${r}:${n.toString().padStart(2,"0")}`}function Rw(e){return e?e.split(/(\*[^*\n]+\*)/g).map((r,n)=>r.startsWith("*")&&r.endsWith("*")&&r.length>2?a.jsx("strong",{children:r.slice(1,-1)},n):a.jsx(oi.Fragment,{children:r},n)):null}function s0(){var zd,Vd;const[e,t]=d.useState([]),[r,n]=d.useState([]),[s,l]=d.useState([]),[i,u]=d.useState(null),[c,m]=d.useState([]),[x,b]=d.useState(""),[j,_]=d.useState([]),[A,R]=d.useState(""),[L,k]=d.useState(null),[g,w]=d.useState(null),[C,P]=d.useState(""),[U,V]=d.useState(!1),[q,O]=d.useState(""),[$,J]=d.useState(""),ue=d.useCallback(()=>{w(null)},[]),[B,ee]=d.useState(!1),[me,ge]=d.useState(""),[Fe,W]=d.useState(0),[D,te]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("chat_pins")||"{}")}catch{return{}}}),[I,re]=d.useState(()=>{try{return JSON.parse(localStorage.getItem("chat_mutes")||"{}")}catch{return{}}}),[xe,he]=d.useState(()=>{try{const o=localStorage.getItem("chat_conversation_order"),h=o?JSON.parse(o):[];return Array.isArray(h)?h:[]}catch{return[]}}),ke=d.useCallback(o=>{try{localStorage.setItem("chat_conversation_order",JSON.stringify(o))}catch{}},[]),de=d.useCallback(o=>{o&&he(h=>{const p=[o,...h.filter(v=>v!==o)];return ke(p),p})},[ke]),ye=d.useCallback((o=[])=>{o.length&&he(h=>{const p=new Set(h),v=[];if(o.filter(S=>S&&S.id).sort((S,F)=>{const E=fe(S.ts);return fe(F.ts)-E}).forEach(({id:S})=>{p.has(S)||(v.push(S),p.add(S))}),!v.length)return h;const N=[...h,...v];return ke(N),N})},[ke]);function at(o){te(h=>{const p={...h||{}};p[o]=!p[o];try{localStorage.setItem("chat_pins",JSON.stringify(p))}catch{}return p})}function jt(o){re(h=>{const p={...h||{}};p[o]=!p[o];try{localStorage.setItem("chat_mutes",JSON.stringify(p))}catch{}return p})}const[Zt,lt]=d.useState(null),Ks=d.useRef(null),Zs=d.useCallback(o=>{Ks.current=o},[]),[bl,Or]=d.useState(null),mr=d.useCallback((o,h=2e3)=>{if(o){if(Or(o),wr.current)try{clearTimeout(wr.current)}catch{}wr.current=setTimeout(()=>{Or(p=>p===o?null:p),wr.current=null},h)}},[]),Js=d.useCallback(o=>{if(!o||typeof document>"u")return!1;const h=document.getElementById(`msg-${o}`);if(!h)return!1;try{h.scrollIntoView({behavior:"smooth",block:"center"})}catch{}return mr(o),!0},[mr]),[kl,gr]=d.useState(""),[jl,Q]=d.useState(""),[Jt,Ci]=d.useState(""),[xr,Yt]=d.useState(!1),Xt=d.useRef(null),[vr,yn]=d.useState({left:4,bottom:120,width:360,maxHeight:416}),Yn=d.useRef(null);function Nt(){try{const o=Xt.current,h=Yn.current,p=typeof window<"u"?window.innerWidth:800,v=typeof window<"u"?window.innerHeight:600,N=4,S=4,F=Math.min(26*16,v-N*2),E=ne=>ne&&ne.getBoundingClientRect?ne.getBoundingClientRect():null,M=E(h),Y=E(o);if(M||Y){const ne=M?Math.min(420,Math.max(320,M.width||420)):Math.min(420,Math.max(320,p*.95)),we=Math.min(ne,p-N*2),Oe=M?M.left:Y?Y.left:N,Ue=N,Ae=M?M.top:Y?Y.top:v/2,_t=Math.max(N,v-Ae+S);yn({left:Ue,bottom:_t,width:we,maxHeight:F})}else yn({left:N,bottom:120,width:Math.min(420,Math.max(320,p*.95)),maxHeight:F})}catch{}Yt(!0)}const[ae,St]=d.useState({open:!1,type:null,id:null,groupId:null,x:0,y:0}),wn=d.useRef(null);oi.useMemo(()=>{try{const o=Object.keys(vo).filter(v=>v!=="recent"&&v!=="bandeiras"),h=[];o.forEach(v=>{(vo[v]||[]).forEach(N=>h.push(N))});const p=new Set;return h.filter(v=>p.has(v)?!1:(p.add(v),!0))}catch{return[]}},[]);const[bn,Xn]=d.useState("caras"),[es,Ys]=d.useState(()=>{try{const o=localStorage.getItem("chat_recent_emojis"),h=o?JSON.parse(o):[];return Array.isArray(h)?h.slice(0,24):[]}catch{return[]}}),[Xs,ea]=d.useState(""),[kn,Nl]=d.useState(()=>{try{const o=localStorage.getItem("chat_fav_emojis"),h=o?JSON.parse(o):[];return Array.isArray(h)?h.slice(0,48):[]}catch{return[]}});function Sl(o){try{Nl(h=>{const v=(h||[]).includes(o)?(h||[]).filter(N=>N!==o):[o,...(h||[]).filter(N=>N!==o)].slice(0,48);try{localStorage.setItem("chat_fav_emojis",JSON.stringify(v))}catch{}return v})}catch{}}const Ur=d.useRef(null),jn=d.useRef({}),El=o=>h=>{h&&(jn.current[o]=h)};d.useEffect(()=>()=>{if(wr.current){try{clearTimeout(wr.current)}catch{}wr.current=null}},[]);const Cl=["recent","favoritos","caras","gestos","amor","natureza","clima","animais","comida","objetos","transportes"];d.useEffect(()=>{if(!xr)return;const o=Ur.current;if(!o)return;let h=!1;const p=()=>{h||(h=!0,requestAnimationFrame(()=>{try{let v=bn;for(const N of Cl){const S=jn.current[N];if(!S)continue;S.offsetTop-o.scrollTop<=32&&(v=N)}v&&v!==bn&&Xn(v)}finally{h=!1}}))};return o.addEventListener("scroll",p,{passive:!0}),()=>o.removeEventListener("scroll",p)},[xr,Xs,bn]);const Le=d.useRef(null),Et=d.useRef(null),$r=d.useRef(null),Nn=d.useRef(null),ts=d.useRef(null),rs=d.useRef(null),et=d.useRef(null),Z=Ts(),_l=pr(),[yr,ns]=d.useState(null),[ot,ss]=d.useState(""),er=d.useRef(null),Mr=d.useRef(null),wr=d.useRef(null),[ta,Sn]=d.useState(""),[En,Ot]=d.useState(!1),as=d.useRef([]),[Cn,tr]=d.useState(!1),Dl=d.useRef(null);d.useEffect(()=>{as.current=j},[j]),d.useEffect(()=>()=>{as.current.forEach(o=>{if(o!=null&&o.preview)try{URL.revokeObjectURL(o.preview)}catch{}})},[]),d.useEffect(()=>{if(!g){P(""),O(""),J(""),V(!1);return}const o=h=>{h.key==="Escape"&&w(null)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o)}},[g]);function _i(o){var h;return{id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,file:o,preview:(h=o==null?void 0:o.type)!=null&&h.startsWith("image/")?URL.createObjectURL(o):null}}function Rl(o){if(!o)return"";const{name:h="",size:p=0,lastModified:v=0,type:N=""}=o;return`${h}::${p}::${v||0}::${N}`}function Al(o=[]){o.length&&_((h=[])=>{const p=new Set(h.map(N=>N!=null&&N.file?Rl(N.file):N==null?void 0:N.id).filter(Boolean)),v=[];for(const N of o){if(!N)continue;const S=Rl(N);p.has(S)||(p.add(S),v.push(_i(N)))}return v.length?[...h,...v]:h})}function Di(o){_(h=>{const p=h.find(v=>v.id===o);if(p!=null&&p.preview)try{URL.revokeObjectURL(p.preview)}catch{}return h.filter(v=>v.id!==o)})}function Ri(){as.current.forEach(o=>{if(o!=null&&o.preview)try{URL.revokeObjectURL(o.preview)}catch{}}),_([]);try{Et.current&&(Et.current.value="")}catch{}}async function Ai(o,h="arquivo"){try{const p=typeof xt=="function"?xt():null,v=p?{Authorization:`Bearer ${p}`}:{},N=await fetch(o,{mode:"cors",credentials:"same-origin",headers:v});if(!N.ok)throw new Error("Falha ao baixar arquivo");const S=await N.blob(),F=URL.createObjectURL(S),E=document.createElement("a");E.href=F,E.download=h,document.body.appendChild(E),E.click(),E.remove(),setTimeout(()=>URL.revokeObjectURL(F),1500)}catch(p){R((p==null?void 0:p.message)||"No foi possvel baixar o arquivo");try{const v=document.createElement("a");v.href=o,v.rel="noopener noreferrer",v.target="_blank",v.download=h,document.body.appendChild(v),v.click(),v.remove()}catch{}}}d.useEffect(()=>{if(!Zt)return;const o=h=>{const p=Ks.current;if(!p){lt(null);return}p.contains(h.target)||lt(null)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o)}},[Zt]),d.useEffect(()=>{if(!(ae!=null&&ae.open))return;const o=p=>{const v=wn.current;if(!v){St(N=>({...N,open:!1}));return}v.contains(p.target)||St(N=>({...N,open:!1}))},h=p=>{p.key==="Escape"&&St(v=>({...v,open:!1}))};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("keydown",h),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o),document.removeEventListener("keydown",h)}},[ae==null?void 0:ae.open]),d.useEffect(()=>{if(!Cn)return;const o=p=>{const v=Dl.current;if(!v){tr(!1);return}v.contains(p.target)||tr(!1)},h=p=>{p.key==="Escape"&&tr(!1)};return document.addEventListener("mousedown",o),document.addEventListener("touchstart",o),document.addEventListener("keydown",h),()=>{document.removeEventListener("mousedown",o),document.removeEventListener("touchstart",o),document.removeEventListener("keydown",h)}},[Cn]);const Ct=typeof window<"u"&&"Notification"in window,Pi=(()=>{if(!Ct)return"default";try{return Notification.permission}catch{return"default"}})(),[ra,Pl]=d.useState(Pi==="granted"),Ll=d.useRef(typeof document<"u"?document.title:"Chat"),ls=d.useRef(null),br=d.useRef({url:"",buffer:null}),[Li,na]=d.useState(()=>{try{return!document.hidden&&document.hasFocus()}catch{return!0}}),Ii=!0,[Il,Tl]=d.useState("");d.useEffect(()=>{const o=()=>{try{na(!document.hidden&&document.hasFocus())}catch{na(!0)}};return o(),window.addEventListener("focus",o),window.addEventListener("blur",o),document.addEventListener("visibilitychange",o),()=>{window.removeEventListener("focus",o),window.removeEventListener("blur",o),document.removeEventListener("visibilitychange",o)}},[]),d.useEffect(()=>{if(!Ct||!ra)return;let o=!1;return(async()=>{try{await Cw(),o||Tl("")}catch(h){o||Tl((h==null?void 0:h.message)||"Falha ao registrar push")}})(),()=>{o=!0}},[Ct,ra]),d.useEffect(()=>{const o=()=>{try{const h=localStorage.getItem("notif_sound_url")||"";h?br.current.url!==h&&(br.current={url:h,buffer:null}):br.current={url:"",buffer:null}}catch{}};return o(),window.addEventListener("chat:alertSoundUpdated",o),()=>window.removeEventListener("chat:alertSoundUpdated",o)},[]),d.useEffect(()=>{if(!Ct)return;let o=!1;const h=()=>{try{const p=Notification.permission;o||Pl(p==="granted")}catch{}};h();try{Notification.permission==="default"&&Notification.requestPermission().then(p=>{o||Pl(p==="granted")})}catch{}return window.addEventListener("focus",h),document.addEventListener("visibilitychange",h),()=>{o=!0,window.removeEventListener("focus",h),document.removeEventListener("visibilitychange",h)}},[Ct]);function Br(o,{skipForward:h=!1}={}){if(!o)return"";if(!h&&o.forwardedFrom){if(o.type==="text"&&o.content)return o.content||"";const p=Br(o.forwardedFrom,{skipForward:!0});return p?`Encaminhada: ${p}`:"Encaminhada"}return o.type==="text"?o.content||"":o.type==="image"||o.type==="gif"?"Imagem":o.type==="audio"?"udio":"Anexo"}function fe(o){if(typeof o=="number")return Number.isFinite(o)?o:0;if(typeof o=="string"&&o){const h=Date.parse(o);return Number.isNaN(h)?0:h}return 0}function Ti(o,h){var Y,se;if(!o)return o;const p=o.lastMessage||o.latestMessage||o.message||o.lastMessagePreview||null,v=fe(o._lastAt)||fe(o.lastAt)||fe(o.lastMessageAt)||fe(p==null?void 0:p.createdAt)||fe(p==null?void 0:p.timestamp)||fe(o.updatedAt)||fe(o.createdAt)||h||0;let N=o._lastPreview!==void 0&&o._lastPreview!==null?o._lastPreview:o.lastPreview!==void 0&&o.lastPreview!==null?o.lastPreview:o.preview!==void 0&&o.preview!==null?o.preview:"";if(!N&&p){const ne=p.type||p.messageType||"text";ne==="text"?N=p.content||"":ne==="image"||ne==="gif"?N="Imagem":ne==="audio"?N="udio":N="Anexo";const we=((Y=p.author)==null?void 0:Y.id)||p.authorId||p.userId||null;N&&we&&we===(Z==null?void 0:Z.id)&&(N=`Voc: ${N}`)}const S=fe(o._lastReceivedAt)||fe(o.lastIncomingAt)||fe(o.lastReceivedAt)||fe(o.lastSeenAt)||0,F=((se=p==null?void 0:p.author)==null?void 0:se.id)||(p==null?void 0:p.authorId)||(p==null?void 0:p.userId)||null,M=(F&&(Z!=null&&Z.id)?F!==Z.id:!!(p!=null&&p.from))?v:S;return{...o,_lastAt:v,_lastPreview:N,_lastReceivedAt:M}}function os(o){const h=Date.now();return(o||[]).map((p,v)=>Ti(p,h-v)).sort((p,v)=>{const N=D!=null&&D[p==null?void 0:p.id]?1:0,S=D!=null&&D[v==null?void 0:v.id]?1:0;if(N!==S)return S-N;const F=ht(p),E=ht(v);if(F!==E)return E-F;const M=fe(p==null?void 0:p._lastAt),Y=fe(v==null?void 0:v._lastAt);return M!==Y?Y-M:fe(v==null?void 0:v.updatedAt)-fe(p==null?void 0:p.updatedAt)})}const ht=d.useCallback(o=>{if(!o)return 0;const h=fe(o._lastReceivedAt);return h>0?h:fe(o._lastAt)},[]),zr=d.useCallback(o=>{if(!o)return Number.MAX_SAFE_INTEGER;const h=xe.indexOf(o);return h>=0?h:Number.MAX_SAFE_INTEGER},[xe]);function kr(o,{mine:h=!1}={}){if(!o||!o.groupId)return;const p=(()=>{try{return new Date(o.createdAt||Date.now()).getTime()}catch{return Date.now()}})();let v=Br(o);h&&v&&(v=`Voc: ${v}`);const N=(i==null?void 0:i.id)===o.groupId;de(o.groupId),t(S=>(S||[]).map(F=>{if(!F||F.id!==o.groupId)return F;const E=fe(F._lastReceivedAt),M={...F,_lastAt:p,_lastPreview:v,_lastReceivedAt:h?E:p};return N?M._unread=0:h||(M._unread=(F._unread||0)+1),M})),n(S=>(S||[]).map(F=>{if(!F||F.groupId!==o.groupId)return F;const E=fe(F._lastReceivedAt),M={...F,_lastAt:p,_lastPreview:v,_lastReceivedAt:h?E:p};return N?M._unread=0:h||(M._unread=(F._unread||0)+1),M}))}function is(o){try{if(!o)return"";try{const N=new URL(o,typeof window<"u"?window.location.origin:"http://localhost").searchParams.get("name");if(N)return N}catch{}const p=String(o).split("?")[0].split("/").pop()||"";return decodeURIComponent(p)}catch{return String(o||"")}}function Fi(o){var h,p;try{if(!ra)return;const v=((h=o==null?void 0:o.author)==null?void 0:h.name)||"Mensagem",N=Br(o),S=(p=o==null?void 0:o.author)!=null&&p.avatarUrl?Bt(o.author.avatarUrl):void 0,F=new Notification(v,{body:N,icon:S});F.onclick=()=>{var E,M,Y,se;try{(E=window==null?void 0:window.focus)==null||E.call(window)}catch{}try{u({id:o.groupId,name:((M=o.group)==null?void 0:M.name)||"Direto",avatarUrl:((Y=o.group)==null?void 0:Y.avatarUrl)||((se=o.author)==null?void 0:se.avatarUrl)||void 0}),ar()}catch{}try{F.close()}catch{}},setTimeout(()=>{try{F.close()}catch{}},8e3)}catch{}}async function Oi(){try{const o=window.AudioContext||window.webkitAudioContext;if(!o)return;ls.current||(ls.current=new o);const h=ls.current;try{const N=localStorage.getItem("notif_sound_url")||"";if(N){if(br.current.url!==N||!br.current.buffer){const M=await(await fetch(N)).arrayBuffer(),Y=await h.decodeAudioData(M.slice(0));br.current={url:N,buffer:Y}}const S=h.createBufferSource();S.buffer=br.current.buffer;const F=h.createGain();F.gain.setValueAtTime(1e-4,h.currentTime),F.gain.exponentialRampToValueAtTime(.35,h.currentTime+.01),F.gain.exponentialRampToValueAtTime(1e-4,h.currentTime+Math.min(1.2,S.buffer.duration)),S.connect(F).connect(h.destination),S.start();return}}catch{}const p=h.createOscillator(),v=h.createGain();p.type="sine",p.frequency.value=880,v.gain.setValueAtTime(1e-4,h.currentTime),v.gain.exponentialRampToValueAtTime(.2,h.currentTime+.01),v.gain.exponentialRampToValueAtTime(1e-4,h.currentTime+.45),p.connect(v).connect(h.destination),p.start(),p.stop(h.currentTime+.5)}catch{}}d.useEffect(()=>{function o(){var h,p;try{(p=(h=ls.current)==null?void 0:h.resume)==null||p.call(h)}catch{}try{window.removeEventListener("click",o),window.removeEventListener("keydown",o),window.removeEventListener("touchstart",o)}catch{}}return window.addEventListener("click",o),window.addEventListener("keydown",o),window.addEventListener("touchstart",o),()=>{try{window.removeEventListener("click",o),window.removeEventListener("keydown",o),window.removeEventListener("touchstart",o)}catch{}}},[]),d.useEffect(()=>{try{const o=(e||[]).reduce((h,p)=>h+(p._unread||0),0)+(r||[]).reduce((h,p)=>h+(p._unread||0),0);o>0?document.title=`(${o}) ${Ll.current}`:document.title=Ll.current}catch{}},[e,r]);const[rr,Fl]=d.useState(""),[Vr,sa]=d.useState([]),[Ol,_n]=d.useState(-1),[Ul,aa]=d.useState(!1),[$l,Dn]=d.useState(!1),[la,us]=d.useState("self"),[Ut,Ml]=d.useState(null),[ve,Bl]=d.useState(null),[oa,ia]=d.useState([]),[zl,Wr]=d.useState(!1),[Rn,cs]=d.useState(""),[ua,nr]=d.useState([]),[An,jr]=d.useState(!1),[Vl,Wl]=d.useState(""),[Nr,Hr]=d.useState("perfil"),[ca,da]=d.useState(""),[Pn,fa]=d.useState(""),[sr,Hl]=d.useState(""),[ha,ds]=d.useState(""),[Ln,In]=d.useState(null),[pa,ma]=d.useState(""),[fs,ga]=d.useState(""),[xa,f]=d.useState(""),[y,T]=d.useState(""),[G,X]=d.useState([]),[De,Re]=d.useState({});function Tn(o){var h;return!!((h=De==null?void 0:De[(i==null?void 0:i.id)||""])!=null&&h[o])}const Ld=d.useRef(null),[Fn,a0]=d.useState(()=>{try{return typeof window>"u"?!0:window.innerWidth>=1024}catch{return!0}}),[ql,va]=d.useState(()=>{try{return typeof window>"u"?!0:window.innerWidth>=1024}catch{return!0}}),ar=d.useCallback(()=>{try{typeof window<"u"&&window.innerWidth<1024&&va(!1)}catch{}},[va]);d.useEffect(()=>{if(typeof window>"u")return;const o=()=>{try{const h=window.innerWidth>=1024;a0(h),h&&va(!0)}catch{}};return o(),window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)},[]);const[ya,l0]=d.useState(()=>{try{return localStorage.getItem("chat_groups_collapsed")==="1"}catch{}return!1}),[wa,o0]=d.useState(()=>{try{return localStorage.getItem("chat_people_collapsed")==="1"}catch{}return!1});d.useEffect(()=>{try{localStorage.setItem("chat_groups_collapsed",ya?"1":"0")}catch{}},[ya]),d.useEffect(()=>{try{localStorage.setItem("chat_people_collapsed",wa?"1":"0")}catch{}},[wa]);async function Ui(o){if(!(!(i!=null&&i.id)||!(o!=null&&o.id)))try{Tn(o.id)?(await H.del(`/messages/${o.id}/favorite`),Re(h=>{const p={...h||{}},v={...p[i.id]||{}};return delete v[o.id],p[i.id]=v,p}),X(h=>h.filter(p=>p.id!==o.id))):(await H.post(`/messages/${o.id}/favorite`,{}),Re(h=>({...h,[i.id]:{...(h||{})[i.id]||{},[o.id]:!0}})),X(h=>h!=null&&h.some(p=>p.id===o.id)?h:[o,...h||[]]))}catch{}}const $i=d.useMemo(()=>{const o={};return(r||[]).forEach(h=>{var p;h!=null&&h.groupId&&((p=h==null?void 0:h.other)!=null&&p.id)&&(o[h.groupId]=h.other.id)}),o},[r]);d.useEffect(()=>{(async()=>{var o;if(i!=null&&i.id)try{const h=Mt(await H.get(`/messages/favorites?groupId=${i.id}`)),p={},v=[];for(const N of h)(o=N==null?void 0:N.message)!=null&&o.id&&(p[N.message.id]=!0,v.push(N.message));Re(N=>({...N,[i.id]:p})),X(v)}catch{}})()},[i==null?void 0:i.id,I,$i]);const i0=d.useRef(null),[u0,Id]=d.useState({});d.useEffect(()=>{const o=_r(),h=Z==null?void 0:Z.id,p=(()=>{try{return localStorage.getItem("chat_status")||"online"}catch{return"online"}})();try{o.emit("presence:online",{userId:h,status:p})}catch{}const v=(S={})=>{try{const F={};for(const E of S.users||[])E!=null&&E.userId&&(F[E.userId]=E.status||"online");Id(F)}catch{}},N=(S={})=>{S!=null&&S.userId&&Id(F=>({...F,[S.userId]:S.status||"online"}))};o.on("presence:snapshot",v),o.on("presence:update",N);try{o.emit("presence:who")}catch{}return()=>{try{o.off("presence:snapshot",v),o.off("presence:update",N)}catch{}}},[Z==null?void 0:Z.id]);const ba=d.useMemo(()=>{var p;const o=i==null?void 0:i.id;if(!o)return null;const h=r.find(v=>v.groupId===o);return((p=h==null?void 0:h.other)==null?void 0:p.id)||null},[r,i==null?void 0:i.id]),Ql=d.useMemo(()=>{var h;if(ba)return ba;const o=(c||[]).find(p=>{var v,N;return(((v=p.author)==null?void 0:v.id)||p.authorId)&&(((N=p.author)==null?void 0:N.id)||p.authorId)!==(Z==null?void 0:Z.id)});return o?((h=o.author)==null?void 0:h.id)||o.authorId:null},[ba,c,Z==null?void 0:Z.id]),Td=d.useMemo(()=>Mt(e).map(o=>({kind:"conversation",groupId:o.id,label:o.name||"Grupo",subtitle:o.description||"",avatarUrl:o.avatarUrl||"",sourceLabel:"Grupo"})),[e]),Fd=d.useMemo(()=>Mt(r).map(o=>{var h,p,v,N;return{kind:"conversation",groupId:o.groupId,label:((h=o.other)==null?void 0:h.name)||"Direto",subtitle:((p=o.other)==null?void 0:p.email)||((v=o.other)==null?void 0:v.phone)||"",avatarUrl:((N=o.other)==null?void 0:N.avatarUrl)||"",sourceLabel:"Direto"}}),[r]),c0=d.useMemo(()=>Mt(s).filter(o=>o&&o.id&&o.id!==(Z==null?void 0:Z.id)).map(o=>{const h=Mt(r).find(p=>{var v;return((v=p==null?void 0:p.other)==null?void 0:v.id)===o.id});return{kind:"person",userId:o.id,label:o.name||o.email||"Contato",subtitle:o.email||o.phone||"",avatarUrl:o.avatarUrl||"",existingGroupId:(h==null?void 0:h.groupId)||null}}),[s,r,Z==null?void 0:Z.id]),d0=d.useMemo(()=>[...Td,...Fd],[Td,Fd]);d.useEffect(()=>{(async()=>{var o,h,p,v;try{const N=Mt(await H.get("/groups")),S=os(N);t(S);const F=Mt(await H.get("/dm")),E=os(F);n(E),ye([...S.map(se=>({id:se.id,ts:ht(se)})),...E.map(se=>({id:se.groupId,ts:ht(se)}))]);const M=Mt(await H.get("/users/all"));l(M);const Y=localStorage.getItem("chat_active");if(Y){const se=S.find(we=>we.id===Y);if(se){u(se),ar();return}const ne=E.find(we=>we.groupId===Y);if(ne){u({id:ne.groupId,name:((o=ne.other)==null?void 0:o.name)||"Direto",avatarUrl:((h=ne.other)==null?void 0:h.avatarUrl)||void 0}),ar();return}}S[0]?(u(S[0]),ar()):E[0]&&(u({id:E[0].groupId,name:((p=E[0].other)==null?void 0:p.name)||"Direto",avatarUrl:((v=E[0].other)==null?void 0:v.avatarUrl)||void 0}),ar())}catch{R("Falha ao carregar listas")}})()},[ar,ye,ht]),d.useEffect(()=>{const o=Ld.current;if(!o)return;if(!Fn){try{o.style.transform="",o.style.transition="",o.style.display=""}catch{}return}let h=0;const p=()=>{try{if(!ql||(o.style.display!=="flex"&&(o.style.display="flex"),o.style.transition==="none"))return;o.style.transition="",o.style.transform=""}catch{}},v=()=>{cancelAnimationFrame(h),h=requestAnimationFrame(p)};v();const N=new MutationObserver(()=>v());return N.observe(o,{attributes:!0,attributeFilter:["style"]}),()=>{N.disconnect(),cancelAnimationFrame(h)}},[Fn,ql]),d.useEffect(()=>{function o(h){var p,v;try{(p=h.stopImmediatePropagation)==null||p.call(h),(v=h.stopPropagation)==null||v.call(h)}catch{}}return window.addEventListener("chat:openDrawer",o,!0),window.addEventListener("chat:closeDrawer",o,!0),()=>{window.removeEventListener("chat:openDrawer",o,!0),window.removeEventListener("chat:closeDrawer",o,!0)}},[]),d.useEffect(()=>{const o=_r();try{e.forEach(h=>o.emit("group:join",h.id))}catch{}},[e]),d.useEffect(()=>{const o=_r();try{r.forEach(h=>o.emit("group:join",h.groupId))}catch{}},[r]),d.useEffect(()=>{const o=_r(),h=Z==null?void 0:Z.id;if(!h)return;const p=v=>{try{const{groupId:N,userA:S,userB:F}=v||{};if(!N||!(S!=null&&S.id)||!(F!=null&&F.id)||S.id!==h&&F.id!==h)return;const E=S.id===h?F:S,M=Date.now();n(Y=>(Y||[]).some(se=>se.groupId===N)?Y:[...Y||[],{id:N,groupId:N,other:E,_unread:0,_lastAt:M}]),ye([{id:N,ts:M}]),o.emit("group:join",N)}catch{}};return o.on("dm:created",p),()=>o.off("dm:created",p)},[Z==null?void 0:Z.id,ye]),d.useEffect(()=>{const o=_r();function h(S,F){return((S==null?void 0:S.name)||"").localeCompare((F==null?void 0:F.name)||"","pt-BR",{sensitivity:"base"})}const p=S=>{!(S!=null&&S.id)||S.id===(Z==null?void 0:Z.id)||l(F=>{if((F||[]).some(M=>M.id===S.id))return F;const E=[...F||[],{id:S.id,name:S.name,email:S.email,phone:S.phone,avatarUrl:S.avatarUrl}];return E.sort(h),E})},v=S=>{S!=null&&S.id&&l(F=>{const E=(F||[]).map(M=>M.id===S.id?{...M,name:S.name,email:S.email,phone:S.phone,avatarUrl:S.avatarUrl}:M);return E.sort(h),E})},N=({id:S})=>{S&&l(F=>(F||[]).filter(E=>E.id!==S))};return o.on("user:created",p),o.on("user:updated",v),o.on("user:deleted",N),()=>{o.off("user:created",p),o.off("user:updated",v),o.off("user:deleted",N)}},[Z==null?void 0:Z.id]),d.useEffect(()=>{(async()=>{var o;try{const h=r.filter(v=>v&&v.groupId&&(v._lastAt===void 0||v._lastAt===null||v._lastPreview===void 0));if(!h.length)return;const p={};for(const v of h)try{const S=Mt(await H.get(`/messages/${v.groupId}?take=1`))[0]||null,F=S!=null&&S.createdAt?new Date(S.createdAt).getTime():0,E=(((o=S==null?void 0:S.author)==null?void 0:o.id)||(S==null?void 0:S.authorId))===(Z==null?void 0:Z.id);let M="";S&&(S.type==="text"?M=S.content||"":S.type==="image"||S.type==="gif"?M="Imagem":S.type==="audio"?M="udio":M="Anexo",E&&(M=`Voc: ${M}`)),p[v.groupId]={last:F,prev:M,received:E?fe(v._lastReceivedAt):F}}catch{}Object.keys(p).length&&(n(v=>v.map(N=>p[N.groupId]!==void 0?{...N,_lastAt:p[N.groupId].last,_lastPreview:p[N.groupId].prev,_lastReceivedAt:p[N.groupId].received}:N)),ye(Object.entries(p).map(([v,N])=>({id:v,ts:N.last}))))}catch{}})()},[r,ye]);async function f0(o){if(!o)throw new Error("Usurio invlido");try{const h=await H.get(`/dm/with/${o}`);if(h!=null&&h.groupId)return n(p=>(p||[]).map(v=>v.groupId===h.groupId?{...v,other:h.other||v.other}:v)),h.groupId}catch{}try{const h=await H.post(`/dm/${o}`);if(h!=null&&h.groupId)return n(p=>{const v=p||[],N=v.find(E=>E.groupId===h.groupId),S=N==null?void 0:N._lastAt,F=(N==null?void 0:N._unread)||0;return N?v.map(E=>E.groupId===h.groupId?{...E,other:h.other||E.other,_unread:F,_lastAt:S}:E):[...v,{id:h.groupId,groupId:h.groupId,other:h.other,_unread:F,_lastAt:S}]}),ye([{id:h.groupId,ts:Date.now()}]),h.groupId}catch(h){throw new Error((h==null?void 0:h.message)||"No foi possvel iniciar a conversa")}throw new Error("No foi possvel iniciar a conversa")}async function Od(o){if(!(!o||!g)){O(""),J(""),V(!0);try{let h=null;if(o.kind==="conversation"?h=o.groupId:o.kind==="person"&&(h=o.existingGroupId||await f0(o.userId)),!h)throw new Error("Destino invlido");const p=await H.post(`/messages/${g.id}/forward`,{targetGroupId:h});if(kr(p,{mine:!0}),(i==null?void 0:i.id)===h){m(v=>{const N=v||[];return N.some(S=>S.id===p.id)?N:[...N,p]});try{requestAnimationFrame(()=>{var v;(v=Nn.current)==null||v.scrollIntoView({behavior:"smooth",block:"end"})})}catch{}}J("Mensagem encaminhada!"),setTimeout(()=>{ue()},600)}catch(h){O((h==null?void 0:h.message)||"Falha ao encaminhar mensagem")}finally{V(!1)}}}async function h0(o){var h,p,v,N;R("");try{const S=await H.get(`/dm/with/${o}`);if(S!=null&&S.groupId){n(F=>(F||[]).map(E=>E.groupId===S.groupId?{...E,other:S.other||E.other}:E)),u({id:S.groupId,name:((h=S.other)==null?void 0:h.name)||"Direto",avatarUrl:((p=S.other)==null?void 0:p.avatarUrl)||void 0}),ar();return}}catch{}try{const S=await H.post(`/dm/${o}`);if(S!=null&&S.groupId){const F=(r||[]).some(E=>E.groupId===S.groupId);n(E=>{const M=E.find(ne=>ne.groupId===S.groupId),Y=M==null?void 0:M._lastAt,se=(M==null?void 0:M._unread)||0;return M?E.map(ne=>ne.groupId===S.groupId?{...ne,other:S.other,_unread:se,_lastAt:Y}:ne):[...E||[],{id:S.groupId,groupId:S.groupId,other:S.other,_unread:se,_lastAt:Y}]}),F||ye([{id:S.groupId,ts:fe(S.lastMessageAt)||Date.now()}]),u({id:S.groupId,name:((v=S.other)==null?void 0:v.name)||"Direto",avatarUrl:((N=S.other)==null?void 0:N.avatarUrl)||void 0}),ar();return}}catch(S){R(S.message||"Falha ao abrir conversa");return}R("Nao foi possivel iniciar a conversa")}d.useEffect(()=>{if(!i)return;let o=()=>{};return(async()=>{const h=Mt(await H.get(`/messages/${i.id}?take=50`));m(h.slice().reverse());try{await H.post(`/messages/${i.id}/read`,{})}catch{}t(E=>E.map(M=>M.id===i.id?{...M,_unread:0}:M)),n(E=>E.map(M=>M.groupId===i.id?{...M,_unread:0}:M));const p=_r();try{p.off("message:new")}catch{}try{p.off("message:deleted")}catch{}p.emit("group:join",i.id);const v=E=>{var we;const M=(((we=E.author)==null?void 0:we.id)||E.authorId)===(Z==null?void 0:Z.id),Y=E.groupId===i.id,se=!!(I!=null&&I[E.groupId])||($i[E.groupId]?!!(I!=null&&I[$i[E.groupId]]):!1),ne=(()=>{try{return(!Li||document.hidden)&&!M}catch{return!M}})();if(Y&&!M)try{H.post(`/messages/${i.id}/read`,{})}catch{}if(ne)try{Fi(E)}catch{}kr(E,{mine:M}),Y&&m(Oe=>{var Ue;return(Oe||[]).some(Ae=>Ae.id===E.id)?Oe:(Ue=E.replyTo)!=null&&Ue.id?Oe.map(Ae=>{var _t;return Ae.id===E.replyTo.id?{...Ae,_count:{replies:(((_t=Ae._count)==null?void 0:_t.replies)||0)+1}}:Ae}).concat(E):[...Oe,E]});try{!M&&!se&&Oi()}catch{}},N=E=>{(E==null?void 0:E.groupId)===i.id&&m(M=>M.map(Y=>Y.id===E.id?E:Y))},S=E=>{try{if(!E||E.groupId!==i.id)return;const M=Array.isArray(E.ids)?E.ids:[],Y=E.userId;if(!Y||!M.length)return;m(se=>se.map(ne=>M.includes(ne.id)?{...ne,reads:(ne.reads||[]).some(we=>we.userId===Y)?ne.reads||[]:[...ne.reads||[],{userId:Y}]}:ne))}catch{}},F=E=>{E.groupId===i.id&&m(M=>M.map(Y=>Y.id===E.id?{...Y,deletedAt:E.deletedAt}:Y))};p.on("message:new",v),p.on("message:updated",N),p.on("messages:read",S),p.on("message:deleted",F),o=()=>{lt(null),p.off("message:new",v),p.off("message:updated",N),p.off("messages:read",S),p.off("message:deleted",F),p.emit("group:leave",i.id)}})(),()=>o()},[i==null?void 0:i.id]),d.useEffect(()=>{if(i!=null&&i.id)try{localStorage.setItem("chat_active",i.id)}catch{}},[i==null?void 0:i.id]),d.useEffect(()=>{const o=setTimeout(()=>{if($r.current&&($r.current.scrollTop=$r.current.scrollHeight),Nn.current)try{Nn.current.scrollIntoView({behavior:"smooth",block:"end"})}catch{}},0);return()=>clearTimeout(o)},[c,i==null?void 0:i.id]);const[qr,Gl]=d.useState(!1);async function Mi(o){var p,v,N;if(o&&o.preventDefault&&o.preventDefault(),R(""),!i||qr)return;let h=!1;try{Gl(!0);const S=!!(x||"").trim(),F=j.length>0,E=(L==null?void 0:L.id)||null;if(S){const M=x,Y=/^(https?:\/\/\S+)/i.test(M),se=M.toLowerCase(),ne=Y&&/(\.gif($|\?))/i.test(se),we=Y&&/(\.png|\.jpg|\.jpeg|\.webp|\.bmp|\.svg)($|\?)/i.test(se),Oe=ne?"gif":we?"image":"text",Ue=await H.post(`/messages/${i.id}`,{type:Oe,content:M,replyToId:E});m(Ae=>(Ae||[]).some(_t=>_t.id===Ue.id)?Ae:[...Ae,Ue]),kr(Ue,{mine:!0}),b(""),h=!0}if(F){for(const M of j){const Y=M==null?void 0:M.file;if(!Y)continue;const se=new FormData;se.append("file",Y);let ne="file";(p=Y.type)!=null&&p.startsWith("audio")?ne="audio":(v=Y.type)!=null&&v.startsWith("image")&&(ne="image");const we=E?`&replyToId=${E}`:"",Oe=await H.upload(`/messages/${i.id}/upload?type=${ne}${we}`,se);m(Ue=>(Ue||[]).some(Ae=>Ae.id===Oe.id)?Ue:[...Ue,Oe]),kr(Oe,{mine:!0}),h=!0}Ri()}(S||F)&&k(null)}catch(S){R(S.message||"Falha ao enviar mensagem")}finally{if(Gl(!1),h)try{(N=Le.current)==null||N.focus()}catch{}}}function p0(o){k(o)}async function m0(o){if(confirm("Excluir esta mensagem?"))try{await H.delete(`/messages/${o.id}`),m(h=>h.map(p=>p.id===o.id?{...p,deletedAt:new Date().toISOString()}:p))}catch(h){R(h.message||"Falha ao excluir")}}function g0(o){const h=c.find(p=>{var v;return((v=p.replyTo)==null?void 0:v.id)===o.id});h&&Js(h.id)}d.useEffect(()=>{const o=(rr||"").trim().toLowerCase();if(!o){sa([]),_n(-1);return}const h=c.filter(p=>p&&!p.deletedAt&&p.type==="text"&&(p.content||"").toLowerCase().includes(o)).map(p=>p.id);if(sa(h),h.length){_n(0);const p=document.getElementById(`msg-${h[0]}`);if(p)try{p.scrollIntoView({behavior:"smooth",block:"center"})}catch{}mr(h[0],1500)}else _n(-1)},[rr,c,i==null?void 0:i.id,mr]);function Bi(o=!0){if(!Vr.length)return;let h=Ol;h<0?h=0:h=(h+(o?1:-1)+Vr.length)%Vr.length,_n(h);const p=Vr[h],v=document.getElementById(`msg-${p}`);if(v)try{v.scrollIntoView({behavior:"smooth",block:"center"})}catch{}mr(p,1500)}function x0(o){const h=Le.current;if(!h){b(S=>S+o);try{Ys(S=>{const F=[o,...(S||[]).filter(E=>E!==o)].slice(0,24);try{localStorage.setItem("chat_recent_emojis",JSON.stringify(F))}catch{}return F})}catch{}Yt(!1);try{ea("")}catch{}return}const p=h.selectionStart??x.length,v=h.selectionEnd??x.length,N=x.slice(0,p)+o+x.slice(v);b(N),requestAnimationFrame(()=>{h.focus();const S=p+o.length;try{h.setSelectionRange(S,S)}catch{}});try{Ys(S=>{const F=[o,...(S||[]).filter(E=>E!==o)].slice(0,24);try{localStorage.setItem("chat_recent_emojis",JSON.stringify(F))}catch{}return F})}catch{}Yt(!1);try{ea("")}catch{}}async function v0(){if(ge(""),!B)try{yr&&$d();const o=await navigator.mediaDevices.getUserMedia({audio:!0});rs.current=o;const h=window.MediaRecorder&&MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?"audio/webm;codecs=opus":"audio/webm",p=new MediaRecorder(o,{mimeType:h});ts.current=p;const v=[];p.ondataavailable=N=>{N.data&&N.data.size>0&&v.push(N.data)},p.onstop=()=>{try{if(!v.length){ge("Nenhum udio foi capturado");return}const N=new Blob(v,{type:h}),S=new File([N],`rec-${Date.now()}.webm`,{type:h});try{ot&&URL.revokeObjectURL(ot)}catch{}const F=URL.createObjectURL(N);ns(S),ss(F),ge("")}catch(N){ge(N.message||"Falha ao processar udio")}finally{Ud()}},p.start(),Mr.current=Date.now(),ee(!0),W(0)}catch{ge("Acesso ao microfone negado ou indisponvel"),Ud()}}function y0(){var o;try{(o=ts.current)==null||o.stop()}catch{}}function Ud(){var o,h;if(ee(!1),et.current){try{clearInterval(et.current)}catch{}et.current=null}W(0),Mr.current=null;try{(h=(o=rs.current)==null?void 0:o.getTracks)==null||h.call(o).forEach(p=>p.stop())}catch{}rs.current=null,ts.current=null}d.useEffect(()=>{if(!B){if(et.current){try{clearInterval(et.current)}catch{}et.current=null}return}const o=Mr.current??Date.now();Mr.current=o;const h=()=>{const p=Math.max(0,Math.floor((Date.now()-o)/1e3));W(p)};if(h(),et.current)try{clearInterval(et.current)}catch{}return et.current=setInterval(h,1e3),()=>{if(et.current){try{clearInterval(et.current)}catch{}et.current=null}}},[B]),d.useEffect(()=>{const o=er.current;if(o)try{o.pause(),o.currentTime=0}catch{}return Ot(!1),ot||Sn(""),()=>{try{ot&&URL.revokeObjectURL(ot)}catch{}}},[ot]);const w0=()=>{const o=er.current;if(!o)return;const h=Dw(o.duration);Sn(h)},b0=()=>{const o=er.current;if(o)try{o.pause(),o.currentTime=0}catch{}Ot(!1)},k0=()=>{Ot(!1)},j0=()=>{if(qr)return;const o=er.current;o&&(En?o.pause():o.play().then(()=>Ot(!0)).catch(()=>Ot(!1)))};async function N0(){if(!(!yr||!(i!=null&&i.id)))try{Gl(!0);const o=new FormData;o.append("file",yr);const h=await H.upload(`/messages/${i.id}/upload?type=audio`,o);m(v=>v.some(N=>N.id===h.id)?v:[...v,h]),kr(h,{mine:!0});const p=er.current;if(p)try{p.pause(),p.currentTime=0}catch{}Ot(!1),ns(null),ge("");try{ot&&URL.revokeObjectURL(ot)}catch{}ss(""),Sn("")}catch(o){ge((o==null?void 0:o.message)||"Falha ao Enviar udio")}finally{Gl(!1)}}function $d(){const o=er.current;if(o)try{o.pause(),o.currentTime=0}catch{}Ot(!1),ns(null),ge("");try{ot&&URL.revokeObjectURL(ot)}catch{}ss(""),Sn("")}function Md(o=Ut,{force:h=!1}={}){const p=o||{};if((h||!ca)&&da((p==null?void 0:p.name)||""),(h||!Pn)&&fa((p==null?void 0:p.phone)||""),(h||!sr)&&Hl((p==null?void 0:p.address)||""),h||!ha)try{const v=localStorage.getItem("profile_status");ds(v!==null?v:(p==null?void 0:p.status)||"")}catch{ds((p==null?void 0:p.status)||"")}}async function Bd(o=!1){try{Dn(!0);const h=await H.get("/users/me");Ml(h||{}),Md(h,{force:o}),T(""),f("")}catch{T("Falha ao carregar perfil")}finally{Dn(!1)}}function S0(){var h;aa(!0);const o=i==null?void 0:i.id;if(o){const p=r.find(v=>v.groupId===o);if((h=p==null?void 0:p.other)!=null&&h.id){const v=(s||[]).find(N=>N.id===p.other.id)||p.other;us("contact"),Bl(v||null),(async()=>{try{Wr(!0),cs("");const N=await H.get(`/users/${p.other.id}/shared-groups`);ia(Array.isArray(N)?N:[])}catch(N){cs((N==null?void 0:N.message)||"Falha ao carregar grupos em comum"),ia([])}finally{Wr(!1)}})(),Hr("perfil"),Dn(!1),T(""),f("");return}us("group"),Hr("perfil"),Dn(!1),T(""),f(""),(async()=>{try{jr(!0),Wl("");const v=await H.get(`/groups/${o}/participants`);nr(Array.isArray(v)?v:[])}catch(v){Wl((v==null?void 0:v.message)||"Falha ao carregar participAes"),nr([])}finally{jr(!1)}})();return}us("self"),Bd(!0)}async function E0(){try{T(""),f("");const o=new FormData;o.append("name",ca||""),Pn!=null&&o.append("phone",Pn),sr!=null&&o.append("address",sr),Ln&&o.append("avatar",Ln),await H.uploadPatch("/users/me",o);try{localStorage.setItem("profile_status",ha||"")}catch{}f("Perfil atualizado"),In(null),Bd(!0)}catch(o){T((o==null?void 0:o.message)||"Falha ao salvar perfil")}}async function C0(){try{if(T(""),f(""),!pa||!fs){T("Preencha senha atual e nova");return}await H.post("/users/me/password",{current:pa,password:fs}),f("Senha atualizada"),ma(""),ga("")}catch(o){T((o==null?void 0:o.message)||"Falha ao alterar senha")}}const[ka,_0]=d.useState(!1),[ja,D0]=d.useState(!1),zi=d.useMemo(()=>{const o={};return(e||[]).forEach((h,p)=>{h!=null&&h.id&&(o[h.id]=p)}),o},[e]),R0=d.useMemo(()=>{const o=Jt.trim().toLowerCase();let h=o?e.filter(p=>(p.name||"").toLowerCase().includes(o)):e;return ka&&(h=h.filter(p=>!!(D!=null&&D[p.id]))),ja&&(h=h.filter(p=>(p._unread||0)>0)),[...h].sort((p,v)=>{const N=D!=null&&D[p.id]?1:0,S=D!=null&&D[v.id]?1:0;if(N!==S)return S-N;const F=zr(p.id),E=zr(v.id);if(F!==E)return F-E;const M=ht(p),Y=ht(v);if(M!==Y)return Y-M;const se=fe(p==null?void 0:p._lastAt),ne=fe(v==null?void 0:v._lastAt);if(se!==ne)return ne-se;const we=(p==null?void 0:p._unread)||0,Oe=(v==null?void 0:v._unread)||0;if(we!==Oe)return Oe-we;const Ue=zi[p.id]??Number.MAX_SAFE_INTEGER,Ae=zi[v.id]??Number.MAX_SAFE_INTEGER;return Ue-Ae})},[e,Jt,D,ka,ja,zi,zr,ht]),Na=d.useMemo(()=>{const o={};return(r||[]).forEach(h=>{var v;const p=(v=h==null?void 0:h.other)==null?void 0:v.id;p&&(o[p]=h)}),o},[r]),Vi=d.useMemo(()=>{const o={};return(s||[]).forEach((h,p)=>{h!=null&&h.id&&(o[h.id]=p)}),o},[s]),Wi=d.useMemo(()=>{const o={};return(r||[]).forEach((h,p)=>{var N;const v=(N=h==null?void 0:h.other)==null?void 0:N.id;v&&(o[v]=p)}),o},[r]),hs=d.useMemo(()=>{const o=i==null?void 0:i.id;return o?(r||[]).some(h=>h.groupId===o):!1},[i==null?void 0:i.id,r]),Kl=d.useMemo(()=>i!=null&&i.id?hs?ba||Ql||null:i.id:null,[i==null?void 0:i.id,hs,ba,Ql]),A0=!!(Kl&&(D!=null&&D[Kl])),P0=d.useMemo(()=>{var o;if(!i)return"Selecione um grupo";if(hs){const h=(r||[]).find(v=>v.groupId===i.id),p=(o=h==null?void 0:h.other)==null?void 0:o.name;if(p)return p}return(i==null?void 0:i.name)||"Direto"},[i,hs,r]),L0=d.useMemo(()=>{var o;if(i){if(i.avatarUrl)return i.avatarUrl;if(hs){const h=(r||[]).find(p=>p.groupId===i.id);if((o=h==null?void 0:h.other)!=null&&o.avatarUrl)return h.other.avatarUrl}}},[i,hs,r]),I0=d.useMemo(()=>{const o=Jt.trim().toLowerCase();let h=o?s.filter(p=>(p.name||"").toLowerCase().includes(o)):s;return ka&&(h=h.filter(p=>!!(D!=null&&D[p.id]))),ja&&(h=h.filter(p=>{const v=Na[p.id];return((v==null?void 0:v._unread)||0)>0})),[...h].sort((p,v)=>{const N=D!=null&&D[p.id]?1:0,S=D!=null&&D[v.id]?1:0;if(N!==S)return S-N;const F=Na[p.id],E=Na[v.id],M=zr(F==null?void 0:F.groupId),Y=zr(E==null?void 0:E.groupId);if(M!==Y)return M-Y;const se=ht(F),ne=ht(E);if(se!==ne)return ne-se;const we=fe(F==null?void 0:F._lastAt),Oe=fe(E==null?void 0:E._lastAt);if(we!==Oe)return Oe-we;const Ue=(F==null?void 0:F._unread)||0,Ae=(E==null?void 0:E._unread)||0;if(Ue!==Ae)return Ae-Ue;const _t=Wi[p.id]??Number.MAX_SAFE_INTEGER,Ve=Wi[v.id]??Number.MAX_SAFE_INTEGER;if(_t!==Ve)return _t-Ve;const Dt=Vi[p.id]??Number.MAX_SAFE_INTEGER,pt=Vi[v.id]??Number.MAX_SAFE_INTEGER;return Dt-pt})},[s,r,Jt,ja,ka,D,Na,Vi,Wi,zr,ht]);d.useEffect(()=>{(async()=>{var o;try{const h=(e||[]).filter(v=>v&&v.id&&(v._lastAt===void 0||v._lastAt===null||v._lastPreview===void 0));if(!h.length)return;const p={};for(const v of h)try{const S=Mt(await H.get(`/messages/${v.id}?take=1`))[0]||null,F=S!=null&&S.createdAt?new Date(S.createdAt).getTime():0,E=(((o=S==null?void 0:S.author)==null?void 0:o.id)||(S==null?void 0:S.authorId))===(Z==null?void 0:Z.id);let M="";S&&(S.type==="text"?M=S.content||"":S.type==="image"||S.type==="gif"?M="Imagem":S.type==="audio"?M="udio":M="Anexo",E&&(M=`Voc: ${M}`)),p[v.id]={last:F,prev:M,received:E?fe(v._lastReceivedAt):F}}catch{}Object.keys(p).length&&(t(v=>(v||[]).map(N=>p[N.id]!==void 0?{...N,_lastAt:p[N.id].last,_lastPreview:p[N.id].prev,_lastReceivedAt:p[N.id].received}:N)),ye(Object.entries(p).map(([v,N])=>({id:v,ts:N.last}))))}catch{}})()},[e,ye]);const ps=(C||"").trim().toLowerCase(),Hi=d0.filter(o=>{if(!ps)return!0;const h=(o.label||"").toLowerCase(),p=(o.subtitle||"").toLowerCase();return h.includes(ps)||p.includes(ps)}),qi=c0.filter(o=>{if(!ps)return!0;const h=(o.label||"").toLowerCase(),p=(o.subtitle||"").toLowerCase();return h.includes(ps)||p.includes(ps)}),T0=g&&Br(g,{skipForward:!0})||"";return a.jsxs("div",{className:"relative flex h-full min-h-full w-full overflow-x-hidden bg-slate-50 dark:bg-slate-950",children:[Il&&a.jsx("div",{className:"absolute left-1/2 top-3 z-50 -translate-x-1/2 rounded bg-amber-100 px-4 py-2 text-sm text-amber-800 shadow",children:Il}),!Fn&&ql&&a.jsx("button",{type:"button",className:"fixed inset-0 z-30 bg-slate-900/30 backdrop-blur-[1px] lg:hidden","aria-label":"Fechar lista de conversas",onClick:()=>va(!1)}),a.jsxs("aside",{id:"chat-left-pane",ref:Ld,className:`w-72 xl:w-80 max-w-full flex-shrink-0 flex h-full flex-col border-r border-slate-200 bg-white dark:bg-slate-900/70 overflow-y-auto transition-transform duration-200 ease-out ${Fn?"":"fixed inset-y-0 left-0 z-40 shadow-xl"} ${ql?"translate-x-0":"-translate-x-full"} lg:static lg:shadow-none lg:translate-x-0`,children:[a.jsxs("div",{className:"px-3 py-2 border-b border-slate-200",children:[a.jsx("input",{value:Jt,onChange:o=>Ci(o.target.value),placeholder:"Buscar conversas...",className:"w-full border rounded px-3 py-1.5 text-sm"}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded border hover:bg-slate-50",onClick:()=>{var o;try{(o=document.getElementById("people-list"))==null||o.scrollIntoView({behavior:"smooth",block:"start"})}catch{}},children:"Nova conversa"}),a.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:ka,onChange:o=>_0(o.target.checked)})," ","Fixadas"]}),a.jsxs("label",{className:"text-xs inline-flex items-center gap-1",children:[a.jsx("input",{type:"checkbox",checked:ja,onChange:o=>D0(o.target.checked)})," ","No lidas"]})]})]}),a.jsxs("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 sticky top-0 z-10 bg-white dark:bg-slate-800 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("span",{children:"Grupos"}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-transform",onClick:()=>l0(o=>!o),"aria-label":ya?"Expandir grupos":"Ocultar grupos",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-4 h-4 transition-transform ${ya?"-rotate-90":"rotate-0"}`,children:a.jsx("path",{d:"M8.47 4.97a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06L13.94 12 8.47 6.53a.75.75 0 0 1 0-1.06Z"})})})]}),!ya&&R0.map(o=>{const h=(o==null?void 0:o._lastAt)||0,p=h?new Date(h).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",v=(o==null?void 0:o._lastPreview)||"";return D!=null&&D[o.id],I!=null&&I[o.id],a.jsxs("button",{onClick:()=>{u(o),ar()},onContextMenu:N=>{N.preventDefault(),N.stopPropagation(),St({open:!0,type:"group",id:o.id,groupId:o.id,x:N.clientX,y:N.clientY})},className:`px-3 py-2 rounded-lg hover:bg-slate-50 dark:hover:bg-slate-700/60 border ${(i==null?void 0:i.id)===o.id?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-slate-700 dark:text-slate-100 dark:border-slate-600":"border-transparent hover:border-slate-200 dark:border-transparent dark:hover:border-slate-600"} flex items-center justify-between transition-colors`,title:o.name||"",children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("span",{className:"truncate text-left",title:o.name||"",children:o.name}),p&&a.jsx("span",{className:"text-[11px] text-slate-500",children:p})]}),v&&a.jsx("div",{className:"text-slate-500 truncate max-w-[220px] text-xs",title:v,children:v})]}),a.jsx("div",{className:"flex items-center gap-1 shrink-0",children:o._unread>0&&a.jsx("span",{className:"ml-2 min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:o._unread})})]},o.id)}),a.jsxs("div",{className:"px-3 py-1.5 text-[10px] font-semibold uppercase tracking-wide text-slate-500 border-t border-slate-200 sticky top-0 z-10 bg-white dark:bg-slate-800 flex items-center justify-between",children:[a.jsx("span",{children:"Pessoas"}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700 dark:text-slate-400 dark:hover:text-slate-200 transition-transform",onClick:()=>o0(o=>!o),"aria-label":wa?"Expandir pessoas":"Ocultar pessoas",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:`w-4 h-4 transition-transform ${wa?"-rotate-90":"rotate-0"}`,children:a.jsx("path",{d:"M8.47 4.97a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 1 1-1.06-1.06L13.94 12 8.47 6.53a.75.75 0 0 1 0-1.06Z"})})})]}),!wa&&a.jsx("div",{id:"people-list",className:"px-3 py-2 flex flex-col gap-1",children:I0.map(o=>{const h=Na[o.id]||null,p=(h==null?void 0:h._unread)||0,v=(h==null?void 0:h._lastAt)||0,N=v?new Date(v).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}):"",S=(h==null?void 0:h._lastPreview)||"";D!=null&&D[o.id];const F=!!(i!=null&&i.id&&(h!=null&&h.groupId)&&i.id===h.groupId);return a.jsxs("button",{onClick:()=>h0(o.id),onContextMenu:E=>{E.preventDefault(),E.stopPropagation(),St({open:!0,type:"user",id:o.id,groupId:(h==null?void 0:h.groupId)||null,x:E.clientX,y:E.clientY})},className:`rounded-lg px-2 py-2 flex items-center justify-between gap-2 border transition-colors ${F?"bg-blue-50 text-blue-700 border-blue-200 dark:bg-slate-700 dark:text-slate-100 dark:border-slate-600":"hover:bg-slate-50 dark:hover:bg-slate-700/60 border-transparent hover:border-slate-200 dark:hover:border-slate-600"}`,children:[a.jsxs("span",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(Fa,{url:o.avatarUrl,name:o.name,size:40,status:u0[o.id]||o.status,showStatus:!0}),a.jsxs("span",{className:"flex flex-col items-start min-w-0",children:[a.jsx("span",{className:"truncate font-medium text-sm",title:o.name||"",children:o.name}),o.status&&a.jsx("span",{className:`ml-2 text-[10px] px-1.5 py-0.5 rounded-full border ${String(o.status).toLowerCase()==="online"?"bg-green-50 text-green-700 border-green-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:o.status}),S&&a.jsx("span",{className:"truncate text-xs text-slate-500 max-w-[180px]",title:S,children:S})]})]}),a.jsxs("span",{className:"flex items-center gap-2 shrink-0",children:[N&&a.jsx("span",{className:"text-[11px] text-slate-500",children:N}),p>0&&a.jsx("span",{className:"min-w-[22px] h-5 px-1.5 rounded-full bg-blue-600/90 text-white text-[11px] inline-flex items-center justify-center shadow",children:p}),!!(D!=null&&D[o.id])&&a.jsx(hh,{className:"w-4 h-4 text-amber-500"})]})]},o.id)})})]}),(ae==null?void 0:ae.open)&&a.jsxs("div",{ref:wn,className:"fixed z-50 w-48 bg-white border border-slate-200 rounded shadow",style:{top:Math.max(8,ae.y),left:Math.max(8,ae.x)},role:"menu",children:[ae.type==="user"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{ae!=null&&ae.id&&at(ae.id),St(o=>({...o,open:!1}))},children:D!=null&&D[ae.id]?"Desafixar":"Fixar"}),a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{const o=ae.groupId||ae.id;o&&jt(o),St(h=>({...h,open:!1}))},children:(()=>{const o=ae.groupId||ae.id;return I!=null&&I[o]?"Reativar som":"Silenciar"})()})]}),ae.type==="group"&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{ae!=null&&ae.id&&at(ae.id),St(o=>({...o,open:!1}))},children:D!=null&&D[ae.id]?"Desafixar":"Fixar"}),a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{ae!=null&&ae.id&&jt(ae.id),St(o=>({...o,open:!1}))},children:I!=null&&I[ae.id]?"Reativar som":"Silenciar"})]})]}),a.jsxs("div",{className:"relative flex-1 flex min-h-0 min-w-0 flex-col chat-bg border-r border-slate-200 bg-slate-100 dark:bg-slate-900/60",children:[a.jsxs("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 bg-gradient-to-r from-white/80 to-slate-50/80 dark:from-slate-900/60 dark:to-slate-800/60 backdrop-blur font-medium flex items-center gap-2 shadow-sm",children:[!Fn&&a.jsx("button",{type:"button",className:"lg:hidden inline-flex items-center justify-center rounded border border-slate-300 p-2 text-slate-600 hover:bg-slate-100","aria-label":"Abrir lista de conversas",onClick:()=>va(!0),children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5",children:a.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})}),a.jsxs("button",{type:"button",className:"flex items-center gap-3 min-w-0 truncate text-left hover:underline",onClick:()=>S0(),title:"Abrir perfil",children:[a.jsx(Fa,{url:L0,name:(i==null?void 0:i.name)||"Selecione um grupo",size:36}),a.jsx("span",{className:"truncate font-semibold text-slate-700 dark:text-slate-200",children:P0})]}),a.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 rounded border border-slate-300 bg-white/90 px-2 py-1 shadow-sm",children:[a.jsx(vw,{className:"h-4 w-4 text-slate-500"}),a.jsx("input",{ref:i0,value:rr,onChange:o=>Fl(o.target.value),placeholder:"Buscar mensagens...",className:"w-64 border-0 bg-transparent text-sm focus:outline-none focus:ring-0","aria-label":"Buscar mensagens",onKeyDown:o=>{o.key==="Enter"&&(o.preventDefault(),Bi(!o.shiftKey))}}),a.jsx("span",{className:"text-[11px] text-slate-500",children:rr?Vr.length?`${Ol+1}/${Vr.length}`:"0/0":"--"}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100",title:"Resultado anterior",onClick:()=>Bi(!1),children:a.jsx(yw,{})}),a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100",title:"Prximo resultado",onClick:()=>Bi(!0),children:a.jsx(ww,{})}),rr&&a.jsx("button",{type:"button",className:"px-1.5 py-1 rounded hover:bg-slate-100",title:"Limpar busca",onClick:()=>Fl(""),children:a.jsx(Eu,{})})]})]}),a.jsxs("div",{className:"relative",children:[a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",title:"Mais opes","aria-haspopup":"menu","aria-expanded":Cn,onClick:()=>tr(o=>!o),children:a.jsx(bw,{})}),Cn&&a.jsx("div",{ref:Dl,className:"absolute right-0 top-10 z-20 w-48 rounded border border-slate-200 bg-white shadow",role:"menu",children:a.jsx("button",{type:"button",className:"w-full text-left px-3 py-2 text-sm hover:bg-slate-50",onClick:()=>{Kl&&at(Kl),tr(!1)},role:"menuitem",children:A0?"Desafixar conversa":"Fixar conversa"})})]})]})]}),!i&&a.jsx("div",{className:"flex-1 grid place-items-center p-6",children:a.jsxs("div",{className:"text-center text-slate-600 dark:text-slate-300",children:[a.jsx("div",{className:"mx-auto dark:bg-slate-700 grid place-items-center",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-8 h-8 text-slate-400 dark:text-slate-300",children:a.jsx("path",{d:"M19.5 6.75v10.5A2.25 2.25 0 0 1 17.25 19.5H6.75A2.25 2.25 0 0 1 4.5 17.25V6.75A2.25 2.25 0 0 1 6.75 4.5h10.5A2.25 2.25 0 0 1 19.5 6.75ZM8.25 9A.75.75 0 0 0 7.5 9.75v6a.75.75 0 0 0 1.5 0v-6A.75.75 0 0 0 8.25 9Zm4.5 0a.75.75 0 0 0-.75.75v6a.75.75 0 0 0 1.5 0v-6A.75.75 0 0 0 12.75 9Zm4.5.75v6a.75.75 0 0 1-1.5 0v-6a.75.75 0 0 1 1.5 0Z"})})}),a.jsx("div",{className:"text-lg font-semibold",children:"Selecione uma conversa"}),a.jsx("div",{className:"text-sm",children:"Escolha um grupo ou contato  esquerda."})]})}),a.jsxs("div",{ref:$r,className:`flex-1 overflow-y-auto overflow-x-hidden overscroll-contain p-4 space-y-3 ${i?"":"hidden"}`,children:[c.map((o,h)=>{var M,Y,se,ne,we,Oe,Ue,Ae,_t;const p=(((M=o.author)==null?void 0:M.id)||o.authorId)===(Z==null?void 0:Z.id),v=p?"min-w-0 w-fit max-w-[min(75%,_600px)] bg-blue-600 text-white px-4 py-2.5 rounded-2xl rounded-tr-md shadow-md break-words":"min-w-0 w-fit max-w-[min(65%,_560px)] bg-white text-slate-800 px-4 py-2.5 rounded-2xl rounded-tl-md shadow-md border border-slate-200/60 break-words",N=p?"flex justify-end mb-2 items-end min-w-0":"flex justify-start mb-2 items-end min-w-0",S=c[h-1],F=!S||new Date(S.createdAt).toDateString()!==new Date(o.createdAt).toDateString(),E=(()=>{const Ve=new Date(o.createdAt),Dt=new Date,pt=Ke=>new Date(Ke.getFullYear(),Ke.getMonth(),Ke.getDate()),ms=(pt(Ve)-pt(Dt))/864e5;return ms===0?"Hoje":ms===-1?"Ontem":Ve.toLocaleDateString("pt-BR")})();return a.jsxs("div",{id:`msg-${o.id}`,className:"w-full",children:[F&&a.jsx("div",{className:"max-w-32 mx-auto rounded-full text-center text-xs bg-sky-600  text-slate-100 my-2",children:E}),a.jsxs("div",{className:`${N} group`,children:[!p&&a.jsx("div",{className:"mr-2",children:a.jsx(Fa,{url:(Y=o.author)==null?void 0:Y.avatarUrl,name:(se=o.author)==null?void 0:se.name,size:32})}),a.jsxs("div",{className:`${v} ${bl===o.id?"ring-2 ring-yellow-400":""} ${rr&&o.type==="text"&&(o.content||"").toLowerCase().includes((rr||"").toLowerCase())?"outline outline-2 outline-yellow-300":""}`,children:[!p&&a.jsx("div",{className:"mb-1 text-xs font-semibold text-slate-600",children:((ne=o.author)==null?void 0:ne.name)||"Contato"}),o.forwardedFrom&&a.jsxs("div",{className:"mb-1 w-full rounded-sm border-l-4 border-amber-400 bg-amber-50/80 px-2 py-1 text-xs text-slate-600 dark:border-amber-500 dark:bg-slate-800/70 dark:text-slate-200",children:[a.jsx("div",{className:"text-[10px] font-semibold uppercase tracking-wider text-amber-600 dark:text-amber-300",children:"Encaminhada"}),a.jsx("div",{className:"font-medium",children:((we=o.forwardedFrom.author)==null?void 0:we.name)||"Mensagem"}),a.jsx("div",{className:"truncate opacity-90",children:Br(o.forwardedFrom,{skipForward:!0})||"Mensagem"})]}),o.replyTo&&a.jsxs("button",{type:"button",onClick:()=>Js(o.replyTo.id),className:"mb-1 w-full text-left pl-2 border-l-4 border-blue-400 text-xs text-slate-600 hover:bg-blue-50 focus:bg-blue-100 focus:outline-none focus:ring-1 focus:ring-blue-300 rounded-sm transition dark:hover:bg-slate-800/60 dark:focus:bg-slate-800/90",title:"Abrir mensagem original",children:[a.jsx("div",{className:"font-medium",children:((Oe=o.replyTo.author)==null?void 0:Oe.name)||"Mensagem"}),a.jsx("div",{className:"truncate opacity-90",children:o.replyTo.type==="text"?o.replyTo.content:o.replyTo.type==="image"?"Imagem":o.replyTo.type==="audio"?"udio":"Anexo"})]}),o.deletedAt?a.jsx("div",{className:"italic opacity-70",children:"Mensagem apagada"}):o.type==="text"?a.jsx(Aw,{message:o,mine:p,onStartEdit:Ve=>{gr(Ve.id),Q(Ve.content||""),lt(null)},onSave:async(Ve,Dt)=>{try{const pt=await H.patch(`/messages/${Ve.id}`,{content:Dt.trim()});m(ms=>ms.map(Ke=>Ke.id===Ve.id?pt:Ke)),gr(""),Q("")}catch(pt){R((pt==null?void 0:pt.message)||"Falha ao editar")}},onCancel:()=>{gr(""),Q("")},editingId:kl,editText:jl,setEditText:Q}):o.type==="image"||o.type==="gif"?(()=>{const Ve=Bt(o.content),Dt=is(o.content)||"imagem";return a.jsxs("div",{className:"flex flex-col gap-2 items-start",children:[a.jsx("a",{href:Ve,target:"_blank",rel:"noopener noreferrer",className:"inline-block max-w-[220px]",children:a.jsx("img",{src:Ve,alt:Dt,className:"max-w-full max-h-60 rounded shadow-sm object-contain bg-slate-100"})}),a.jsx("button",{type:"button",onClick:()=>Ai(Ve,Dt),className:"inline-flex items-center gap-1 rounded px-3 py-1 text-xs font-semibold text-white bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-400 transition",children:"Baixar"})]})})():o.type==="audio"?a.jsx("audio",{src:Bt(o.content),controls:!0,className:"w-60"}):a.jsx("a",{className:"underline break-all",href:Bt(o.content),target:"_blank",rel:"noreferrer",title:is(o.content)||"Abrir anexo",children:is(o.content)||"Abrir anexo"}),a.jsxs("div",{className:"mt-1 text-[10px] opacity-80 flex items-center gap-2",children:[a.jsx("span",{children:new Date(o.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})}),p&&(()=>{const Ve=(o.reads||[]).map(Ke=>Ke.userId);if(Ql){const Ke=Ve.includes(Ql),Zl=Ke?"Visualizada":"Entregue";return a.jsx(Cu,{read:Ke,title:Zl})}const Dt=Ve.filter(Ke=>Ke&&Ke!==(Z==null?void 0:Z.id));if(Dt.length===0)return a.jsx(Cu,{read:!1,title:"Entregue"});const pt=Dt.map(Ke=>{var Zl;return((Zl=(s||[]).find(F0=>F0.id===Ke))==null?void 0:Zl.name)||""}).filter(Boolean),ms=pt.length?pt.join(", "):`Visto por ${Dt.length}`;return a.jsx(Cu,{read:!0,title:ms})})(),a.jsx("button",{type:"button",title:Tn(o.id)?"Remover favorito":"Favoritar",onClick:()=>Ui(o),className:`${Tn(o.id)?"text-yellow-400":"text-slate-300 hover:text-slate-500"} transition-colors`,children:a.jsx(hh,{className:"w-4 h-4",filled:Tn(o.id)})})]})]}),a.jsxs("div",{className:"ml-1 relative",ref:Zt===o.id?Zs:null,children:[a.jsx("button",{type:"button",className:"opacity-0 group-hover:opacity-100 p-1 text-slate-500 hover:text-slate-700",onClick:()=>lt(Zt===o.id?null:o.id),"aria-label":"Aes",children:"..."}),Zt===o.id&&a.jsxs("div",{className:"absolute right-0 mt-1 bg-white border border-slate-200 rounded shadow text-sm z-10",children:[a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{lt(null),p0(o)},children:"Responder"}),!o.deletedAt&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{lt(null),w(o),O(""),J(""),P("")},children:"Encaminhar"}),(((Ue=o.author)==null?void 0:Ue.id)||o.authorId)===(Z==null?void 0:Z.id)&&o.type==="text"&&!o.deletedAt&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{gr(o.id),Q(o.content||""),lt(null)},children:"Editar"}),a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{lt(null),Ui(o)},children:"Favoritar"}),(((Ae=o.author)==null?void 0:Ae.id)||o.authorId)===(Z==null?void 0:Z.id)&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 text-red-600 hover:bg-red-50",onClick:()=>{lt(null),m0(o)},children:"Apagar"}),((_t=o._count)==null?void 0:_t.replies)>0&&a.jsx("button",{className:"block w-full text-left px-3 py-1.5 hover:bg-slate-50",onClick:()=>{lt(null),g0(o)},children:"Ir para respostas"})]})]})]})]},o.id)}),a.jsx("div",{ref:Nn})]}),L&&a.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-slate-50 flex items-start gap-2",children:[a.jsxs("div",{className:"border-l-4 border-blue-500 pl-2 text-sm text-slate-700 flex-1",children:[a.jsxs("div",{className:"font-medium",children:["Respondendo ",((zd=L.author)==null?void 0:zd.name)||"mensagem"]}),a.jsx("div",{className:"truncate",children:L.type==="text"?L.content:L.type==="image"?"Imagem":L.type==="audio"?"udio":"Anexo"})]}),a.jsx("button",{className:"text-slate-500 hover:text-slate-700",onClick:()=>k(null),children:"Cancelar"}),B&&!((x||"").trim()||j.length)&&a.jsxs("span",{className:"text-xs text-red-600 inline-flex items-center gap-1","aria-live":"polite",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full"})," ",Fe>0?`${Fe}s`:"REC"]})]}),yr&&a.jsxs("div",{className:"px-3 py-2 border-t border-slate-200 bg-white dark:bg-slate-900",children:[a.jsx("audio",{ref:er,src:ot,onLoadedMetadata:w0,onEnded:b0,onPause:k0,onPlay:()=>Ot(!0),className:"hidden",preload:"metadata"}),a.jsxs("div",{className:"flex items-center justify-end gap-3",children:[a.jsx("button",{type:"button",onClick:j0,className:`inline-flex items-center justify-center w-9 h-9 rounded-full transition ${En?"bg-red-600 text-white hover:bg-red-500":"bg-slate-200 text-slate-600 hover:bg-slate-300"}`,"aria-label":En?"Pausar pr-escuta":"Reproduzir pr-escuta",disabled:qr,children:En?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M7 5.25h2.5c.414 0 .75.336.75.75v12a.75.75 0 0 1-.75.75H7a.75.75 0 0 1-.75-.75V6A.75.75 0 0 1 7 5.25Zm7.5 0H17c.414 0 .75.336.75.75v12a.75.75 0 0 1-.75.75h-2.5a.75.75 0 0 1-.75-.75V6a.75.75 0 0 1 .75-.75Z"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M5.87 3.52 18.5 10.3a1.5 1.5 0 0 1 0 2.6L5.87 19.68A1.5 1.5 0 0 1 3.5 18.5V5.5a1.5 1.5 0 0 1 2.37-1.98Z"})})}),a.jsxs("div",{className:"flex flex-col leading-tight text-right min-w-[120px]",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-200",children:"Pr-escuta do udio"}),a.jsx("span",{className:"text-xs text-slate-500 dark:text-slate-400",children:ta?`Durao ${ta}`:yr?`Tamanho ${(yr.size/(1024*1024)).toFixed(1)} MB`:""})]}),a.jsx("button",{type:"button",onClick:N0,disabled:qr,className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-60 transition","aria-label":"Enviar udio",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.31 20.87 22 12 2.31 3.13a.75.75 0 0 0-.98.97L4.7 11.1c.1.25.1.53 0 .78l-3.37 7a.75.75 0 0 0 .98.98Z"})})}),a.jsx("button",{type:"button",onClick:$d,className:"inline-flex items-center justify-center w-9 h-9 rounded-full bg-slate-100 text-slate-600 hover:bg-red-50 hover:text-red-600 transition","aria-label":"Excluir udio",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M9 3.75A.75.75 0 0 1 9.75 3h4.5a.75.75 0 0 1 .75.75V5h3a.75.75 0 0 1 0 1.5h-.522l-.73 12.035A2.25 2.25 0 0 1 14.508 20H9.492a2.25 2.25 0 0 1-2.19-1.965L6.57 6.5H6a.75.75 0 0 1 0-1.5h3V3.75Zm1.5 3.75a.75.75 0 0 0-1.5 0v9a.75.75 0 0 0 1.5 0v-9Zm4.5 0a.75.75 0 0 0-1.5 0v9a.75.75 0 0 0 1.5 0v-9Z"})})})]})]}),j.length>0&&a.jsx("div",{className:"px-3 py-2 border-t border-slate-200 bg-white dark:bg-slate-900 flex flex-wrap gap-3 flex-wrap",children:j.map(o=>{var h,p,v;return a.jsxs("div",{className:"flex items-center gap-3 border border-slate-200 dark:border-slate-700 rounded-lg px-2 py-1.5 bg-slate-50 dark:bg-slate-800/50",children:[o.preview?a.jsx("img",{src:o.preview,alt:o.file.name,className:"w-16 h-16 object-cover rounded border border-slate-200 dark:border-slate-600"}):a.jsx("div",{className:"w-16 h-16 flex items-center justify-center rounded border border-dashed border-slate-300 bg-slate-100 dark:bg-slate-700/40 text-[11px] font-semibold text-slate-600 dark:text-slate-200",children:(h=o.file.type)!=null&&h.startsWith("audio")?"udio":(p=o.file.type)!=null&&p.startsWith("Vdeo")?"Vdeo":(v=o.file.type)!=null&&v.includes("pdf")?"PDF":"Arquivo"}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"truncate text-xs font-medium text-slate-700 dark:text-slate-200",title:o.file.name,children:o.file.name}),a.jsxs("div",{className:"text-[10px] text-slate-500 dark:text-slate-400",children:[((o.file.size||0)/(1024*1024)).toFixed(2)," MB"]})]}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-red-600 text-sm",onClick:()=>Di(o.id),"aria-label":`Remover anexo ${o.file.name}`,children:"Remover"})]},o.id)})}),a.jsxs("form",{ref:Yn,onSubmit:Mi,className:`chat-composer relative flex flex-col gap-2 p-3 border-t border-slate-200/70 bg-white/90 dark:bg-slate-900/70 backdrop-blur ${i?"":"hidden"}`,children:[a.jsxs("div",{className:"flex w-full items-center gap-2 flex-wrap md:flex-nowrap",children:[a.jsx("button",{type:"button",ref:Xt,onClick:()=>xr?Yt(!1):Nt(),title:"Emojis",className:"flex-shrink-0 px-2 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Emojis",children:a.jsx(kw,{className:"w-5 h-5"})}),a.jsxs("button",{type:"button",onClick:()=>{var o;try{Et.current&&(Et.current.value="")}catch{}(o=Et.current)==null||o.click()},title:"Anexar",className:"inline-flex shrink-0 items-center justify-center p-2 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Anexar",style:{fontSize:0},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"w-5 h-5",children:a.jsx("path",{d:"M21.44 11.05l-9.19 9.19a5 5 0 11-7.07-7.07l9.19-9.19a3 3 0 114.24 4.24l-9.19 9.19a1 1 0 11-1.41-1.41l8.49-8.49"})}),a.jsx("span",{className:"sr-only",children:"Anexar arquivo"})]}),a.jsx("input",{ref:Et,type:"file",multiple:!0,accept:"*/*",onChange:o=>{const h=Array.from(o.target.files||[]);Al(h)},className:"hidden"}),a.jsx("textarea",{ref:Le,value:x,onChange:o=>b(o.target.value),onKeyDown:o=>{o.key==="Enter"&&!o.shiftKey&&!o.altKey&&!o.ctrlKey&&!o.metaKey&&!o.isComposing&&(o.preventDefault(),Mi())},onPaste:o=>{var h;try{const p=((h=o.clipboardData)==null?void 0:h.items)||[];for(let v=0;v<p.length;v++){const N=p[v];if(N&&typeof N.type=="string"&&N.type.startsWith("image/")){const S=N.getAsFile();if(S){const F=`paste-${Date.now()}.${(S.type.split("/")[1]||"png").replace(/[^a-z0-9]/gi,"")}`,E=new File([S],F,{type:S.type||"image/png"});Al([E]),o.preventDefault();break}}}}catch{}},placeholder:"Digite sua mensagem... (Enter envia, Shift+Enter quebra linha)",rows:1,className:"flex-1 min-w-0 border border-slate-300 dark:border-slate-700 rounded-xl px-3 py-3 bg-slate-50 dark:bg-slate-800 text-slate-900 dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:focus:ring-blue-800 resize-y min-h-[40px]"}),a.jsx("button",{type:"button",onClick:()=>{(x||"").trim()||j.length?qr||Mi():B?y0():v0()},className:`${qr?"bg-blue-400 text-white cursor-wait":(x||"").trim()||j.length?"bg-blue-600 text-white hover:bg-blue-700 shadow":B?"bg-red-600 text-white hover:bg-red-700 shadow":"bg-slate-200 text-slate-700 hover:bg-slate-300 shadow"} inline-flex items-center justify-center rounded-full h-10 flex-shrink-0 transition ${B&&!((x||"").trim()||j.length)?"px-4 gap-2":"w-10"}`,title:qr?"Enviando...":(x||"").trim()||j.length?"Enviar":B?"Parar gravao":"Gravar udio",disabled:qr,children:(x||"").trim()||j.length?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.31 20.87 22 12 2.31 3.13a.75.75 0 0 0-.98.97L4.7 11.1c.1.25.1.53 0 .78l-3.37 7a.75.75 0 0 0 .98.98Z"})}):B?a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("rect",{x:"6",y:"6",width:"12",height:"12",rx:"2"})}):a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M12 14.5a3.5 3.5 0 0 0 3.5-3.5V7a3.5 3.5 0 1 0-7 0v4a3.5 3.5 0 0 0 3.5 3.5Zm5-3.5a5 5 0 0 1-10 0H5a7 7 0 0 0 6 6.92V20h2v-2.08A7 7 0 0 0 19 11h-2Z"})})}),B&&!((x||"").trim()||j.length)&&a.jsxs("span",{className:"text-xs text-red-600 inline-flex items-center gap-1","aria-live":"polite",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full"})," ",Fe>0?`${Fe}s`:"REC"]})]}),((x||"").trim()||j.length)&&A&&a.jsx("div",{className:"text-sm text-red-600",children:A}),!(x||"").trim()&&!j.length&&me&&a.jsx("div",{className:"text-sm text-red-600",children:me}),xr&&a.jsxs("div",{className:"fixed mb-2 bg-white border border-slate-200 rounded-md p-2 shadow z-50 overflow-y-auto overflow-x-hidden",style:{left:Math.max(4,vr.left),bottom:Math.max(4,vr.bottom||0),width:`${vr.width||360}px`,maxHeight:`${vr.maxHeight||416}px`},children:[a.jsx("button",{type:"button",className:"absolute top-2 right-2 p-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700/60","aria-label":"Fechar",onClick:()=>Yt(!1),title:"Fechar",children:a.jsx(Eu,{className:"w-4 h-4"})}),!1,!1,a.jsx("div",{ref:Ur,className:"relative max-h-80 overflow-y-auto overflow-x-hidden pr-1",children:Cl.filter(o=>o!=="recent"||es.length>0).filter(o=>o!=="favoritos"||(kn||[]).length>0).filter(o=>o!=="recent"&&o!=="favoritos"?(vo[o]||[]).length>0:!0).map(o=>{var h;return a.jsxs("div",{children:[a.jsx("div",{ref:El(o),className:"sticky top-0 bg-white text-[11px] text-slate-500 mb-1 mt-1",children:o==="recent"?"Recentes":o==="favoritos"?"Favoritos":((h=_w.find(p=>p.key===o))==null?void 0:h.label)||o}),a.jsx("div",{className:"grid grid-cols-7 sm:grid-cols-8 md:grid-cols-10 gap-1 mb-2",children:(o==="recent"?es:o==="favoritos"?kn||[]:vo[o]||[]).map(p=>a.jsxs("button",{type:"button",onClick:()=>x0(p),onContextMenu:v=>{v.preventDefault(),Sl(p)},className:`relative inline-flex items-center justify-center w-8 h-8 md:w-9 md:h-9 text-2xl leading-none hover:bg-slate-100 dark:hover:bg-slate-700/60 rounded px-1.5 ${(kn||[]).includes(p)?"bg-yellow-50":""}`,children:[(kn||[]).includes(p)&&a.jsx("span",{className:"absolute -top-0.5 -left-0.5 text-[10px] text-yellow-600",children:""}),p]},`sec-${o}-${p}`))})]},`sec-${o}`)})}),bn==="recent"&&es.length===0&&a.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Sem recentes ainda"})]})]})]}),!Fn&&Ul&&a.jsx("button",{type:"button",className:"fixed inset-0 z-30 bg-slate-900/30 backdrop-blur-[1px] lg:hidden","aria-label":"Fechar detalhes",onClick:()=>aa(!1)}),Ul&&a.jsxs("aside",{className:`flex h-full flex-col border-l border-slate-200 bg-white dark:bg-slate-900/70 transition-transform duration-200 ease-out ${Fn?"w-[360px] max-w-sm flex-shrink-0":"fixed inset-y-0 right-0 z-40 w-full max-w-sm shadow-xl"}`,children:[a.jsxs("div",{className:"px-4 py-3 border-b border-slate-200 flex items-center justify-between",children:[a.jsx("div",{className:"font-semibold",children:"Detalhes"}),a.jsx("button",{type:"button",className:"text-slate-500 hover:text-slate-700","aria-label":"Fechar detalhes",onClick:()=>aa(!1),children:""}),B&&!((x||"").trim()||j.length)&&a.jsxs("span",{className:"text-xs text-red-600 inline-flex items-center gap-1","aria-live":"polite",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full"})," ",Fe>0?`${Fe}s`:"REC"]})]}),a.jsx("div",{className:"px-4 pt-2 border-b border-slate-200",children:a.jsxs("div",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("button",{className:`px-3 py-2 ${Nr==="perfil"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>Hr("perfil"),children:"Perfil"}),a.jsx("button",{className:`px-3 py-2 ${Nr==="arquivos"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>Hr("arquivos"),children:"Arquivos"}),a.jsx("button",{className:`px-3 py-2 ${Nr==="favoritos"?"border-b-2 border-blue-600 text-blue-700":"text-slate-600 hover:text-slate-800"}`,onClick:()=>Hr("favoritos"),children:"Favoritos"}),B&&!((x||"").trim()||j.length)&&a.jsxs("span",{className:"text-xs text-red-600 inline-flex items-center gap-1","aria-live":"polite",children:[a.jsx("span",{className:"inline-block w-2 h-2 bg-red-600 rounded-full"})," ",Fe>0?`${Fe}s`:"REC"]})]})}),a.jsx("div",{className:"p-4 space-y-4 overflow-auto flex-1",children:$l?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):a.jsxs(a.Fragment,{children:[Nr==="perfil"&&a.jsx(a.Fragment,{children:la==="contact"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:ve!=null&&ve.avatarUrl?a.jsx("img",{src:Bt(ve.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500 text-sm",children:"Sem foto"})}),a.jsxs("div",{className:"w-full",children:[a.jsx("div",{className:"text-center font-semibold truncate",children:(ve==null?void 0:ve.name)||"Contato"}),a.jsxs("div",{className:"mt-2 space-y-1 text-sm",children:[(ve==null?void 0:ve.email)&&a.jsx("div",{className:"px-3 py-1 rounded bg-slate-50 border border-slate-200 truncate text-center",children:ve.email}),(ve==null?void 0:ve.phone)&&a.jsx("div",{className:"px-3 py-1 rounded bg-slate-50 border border-slate-200 truncate text-center",children:ve.phone})]})]})]}),a.jsxs("div",{className:"mt-3 flex justify-center gap-2",children:[(ve==null?void 0:ve.phone)&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{const o=new URLSearchParams;ve.phone&&o.set("to",ve.phone),ve.name&&o.set("name",ve.name),ve.id&&o.set("id",ve.id),_l(`/telefonia?${o.toString()}`)},children:"Ligar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>Hr("arquivos"),children:"Ver arquivos"})]}),a.jsxs("div",{className:"mt-5",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Grupos em comum"}),zl?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):Rn?a.jsx("div",{className:"text-sm text-red-600",children:Rn}):oa.filter(o=>((o==null?void 0:o.name)||"").toUpperCase()!=="DM").length>0?a.jsx("ul",{className:"space-y-1",children:oa.filter(o=>((o==null?void 0:o.name)||"").toUpperCase()!=="DM").map(o=>a.jsx("li",{children:a.jsx("button",{type:"button",className:"w-full text-left px-2 py-1 rounded border border-slate-200 hover:bg-slate-50",onClick:()=>{u({id:o.id,name:o.name}),ar()},children:o.name})},o.id))}):a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum grupo em comum."})]})]}):la==="group"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col items-center gap-3",children:[a.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:i!=null&&i.avatarUrl?a.jsx("img",{src:Bt(i.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500 text-sm",children:"Grupo"})}),a.jsx("div",{className:"w-full",children:a.jsx("div",{className:"text-center font-semibold truncate",children:(i==null?void 0:i.name)||"Grupo"})})]}),a.jsxs("div",{className:"mt-5",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Participantes"}),An?a.jsx("div",{className:"text-sm text-slate-500",children:"Carregando..."}):Vl?a.jsx("div",{className:"text-sm text-red-600",children:Vl}):ua.length>0?a.jsx("ul",{className:"space-y-1",children:ua.map(o=>{var h,p,v,N,S;return a.jsxs("li",{className:"flex items-center gap-2 px-2 py-1 rounded border border-slate-200",children:[a.jsx("div",{className:"w-7 h-7 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center shrink-0",children:(h=o.user)!=null&&h.avatarUrl?a.jsx("img",{src:Bt(o.user.avatarUrl),alt:((p=o.user)==null?void 0:p.name)||"participante",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-[10px] text-slate-500",children:(((v=o.user)==null?void 0:v.name)||"?").slice(0,1).toUpperCase()})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"text-sm truncate",children:((N=o.user)==null?void 0:N.name)||"Participante"}),((S=o.user)==null?void 0:S.email)&&a.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:o.user.email})]}),o.role&&a.jsx("span",{className:"text-[11px] text-slate-500 ml-2",children:o.role})]},o.id)})}):a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum participante."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-slate-200 flex items-center justify-center",children:Ln?a.jsx("img",{src:URL.createObjectURL(Ln),alt:"avatar",className:"w-full h-full object-cover"}):Ut!=null&&Ut.avatarUrl?a.jsx("img",{src:Bt(Ut.avatarUrl),alt:"avatar",className:"w-full h-full object-cover"}):a.jsx("span",{className:"text-slate-500",children:"Sem foto"})}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"text-sm text-slate-600",children:"Foto de perfil"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"pfAvatar",type:"file",accept:"image/*",className:"hidden",onChange:o=>{var h;return In(((h=o.target.files)==null?void 0:h[0])||null)}}),a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var o;return(o=document.getElementById("pfAvatar"))==null?void 0:o.click()},children:"Alterar"}),Ln&&a.jsx("button",{type:"button",className:"px-2 py-1 rounded text-red-600 hover:bg-red-50",onClick:()=>In(null),children:"Remover"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Nome"}),a.jsx("input",{value:ca,onChange:o=>da(o.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"E-mail"}),a.jsx("input",{value:(Ut==null?void 0:Ut.email)||"",disabled:!0,className:"w-full border rounded px-3 py-2 bg-slate-50 text-slate-500"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Telefone"}),a.jsx("input",{value:Pn,onChange:o=>fa(o.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Endereo"}),a.jsx("input",{value:sr,onChange:o=>Hl(o.target.value),className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm text-slate-600 mb-1",children:"Status"}),a.jsx("input",{value:ha,onChange:o=>ds(o.target.value),placeholder:"Ex.: Disponvel",className:"w-full border rounded px-3 py-2"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",onClick:E0,children:"Salvar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{In(null),Md(void 0,{force:!0})},children:"Cancelar"})]})]}),a.jsxs("div",{className:"pt-3 border-t border-slate-200 space-y-2",children:[a.jsx("div",{className:"font-medium text-sm",children:"Alterar senha"}),a.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[a.jsx("input",{type:"password",value:pa,onChange:o=>ma(o.target.value),placeholder:"Senha atual",className:"w-full border rounded px-3 py-2"}),a.jsx("input",{type:"password",value:fs,onChange:o=>ga(o.target.value),placeholder:"Nova senha",className:"w-full border rounded px-3 py-2"}),a.jsx("div",{className:"flex gap-2",children:a.jsx("button",{type:"button",className:"px-3 py-2 rounded bg-slate-800 text-white hover:bg-slate-900",onClick:C0,children:"Atualizar senha"})})]})]})]})}),Nr==="arquivos"&&a.jsxs("div",{className:"space-y-2",children:[c.filter(o=>o.type!=="text"&&!o.deletedAt).map(o=>a.jsxs("div",{className:"flex items-center justify-between border rounded px-3 py-2 text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:o.type==="image"||o.type==="gif"?"Imagem":o.type==="audio"?"udio":"Anexo"}),a.jsx("div",{className:"text-slate-500 truncate max-w-[220px]",children:o.type==="text"?o.content:is(o.content)||o.content})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsxs("span",{className:"text-[11px] text-slate-500",children:[new Date(o.createdAt).toLocaleDateString("pt-BR")," ",new Date(o.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]}),a.jsx("a",{className:"px-2 py-1 rounded border border-slate-300 hover:bg-slate-50",href:Bt(o.content),target:"_blank",rel:"noreferrer",children:"Abrir"})]})]},o.id)),c.filter(o=>o.type!=="text"&&!o.deletedAt).length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhum arquivo nesta conversa."})]}),Nr==="favoritos"&&a.jsxs("div",{className:"space-y-2",children:[G.map(o=>{var h;return a.jsxs("div",{className:"border rounded px-3 py-2 text-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"font-medium truncate",children:((h=o.author)==null?void 0:h.name)||"Voc"}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:[new Date(o.createdAt).toLocaleDateString("pt-BR")," ",new Date(o.createdAt).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"})]})]}),a.jsx("div",{className:"mt-1",children:o.type==="text"?o.content:o.type==="image"||o.type==="gif"?"Imagem":o.type==="audio"?"udio":"Anexo"}),a.jsx("div",{className:"mt-1",children:a.jsx("button",{className:"text-[12px] text-red-600 hover:underline",onClick:()=>Ui(o),children:"Remover favorito"})})]},o.id)}),G.length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"Nenhuma mensagem favoritada nesta conversa."})]}),xa&&a.jsx("div",{className:"text-green-600 text-sm",children:xa}),y&&a.jsx("div",{className:"text-red-600 text-sm",children:y})]})})]}),g&&a.jsxs(a.Fragment,{children:[a.jsx("button",{type:"button","aria-label":"Fechar encaminhamento",className:`fixed inset-0 z-50 bg-slate-900/50 backdrop-blur-sm ${U?"cursor-wait":""}`,onClick:()=>{U||ue()},disabled:U}),a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center px-4 py-6",children:a.jsxs("div",{className:"relative w-full max-w-2xl rounded-xl border border-slate-200 bg-white p-5 shadow-2xl dark:border-slate-700 dark:bg-slate-900",children:[a.jsxs("div",{className:"flex items-start justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100",children:"Encaminhar mensagem"}),a.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Escolha uma conversa ou contato para encaminhar."})]}),a.jsx("button",{type:"button",className:`rounded p-1 text-slate-500 hover:bg-slate-100 hover:text-slate-700 dark:hover:bg-slate-800 ${U?"opacity-60 cursor-not-allowed":""}`,onClick:()=>{U||ue()},"aria-label":"Fechar",disabled:U,children:a.jsx(Eu,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"mt-3 rounded border-l-4 border-blue-500 bg-blue-50/70 px-3 py-2 text-sm text-slate-700 dark:border-blue-400 dark:bg-slate-800/70 dark:text-slate-100",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-blue-600 dark:text-blue-300",children:"Mensagem selecionada"}),a.jsx("div",{className:"mt-1 font-medium",children:((Vd=g.author)==null?void 0:Vd.name)||"Voc"}),a.jsx("div",{className:"truncate opacity-80",children:T0||"Mensagem"})]}),a.jsx("div",{className:"mt-4",children:a.jsx("input",{value:C,onChange:o=>P(o.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:bg-slate-800 dark:text-slate-100 dark:focus:border-blue-400 dark:focus:ring-blue-500/40",placeholder:"Buscar conversa ou contato..."})}),q&&a.jsx("div",{className:"mt-3 text-sm text-red-600",children:q}),$&&a.jsx("div",{className:"mt-3 text-sm text-green-600",children:$}),a.jsxs("div",{className:"mt-4 max-h-72 space-y-4 overflow-y-auto pr-1",children:[Hi.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Conversas"}),a.jsx("div",{className:"space-y-2",children:Hi.map(o=>a.jsxs("button",{type:"button",disabled:U,onClick:()=>Od(o),className:`flex w-full items-center gap-3 rounded-lg border border-slate-200 px-3 py-2 text-left transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:hover:bg-slate-800/70 ${U?"opacity-60":""}`,children:[a.jsx(Fa,{url:o.avatarUrl,name:o.label,size:40}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium truncate text-slate-800 dark:text-slate-100",children:o.label}),o.subtitle&&a.jsx("div",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:o.subtitle}),a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-400 dark:text-slate-500",children:o.sourceLabel})]})]},`conv-${o.groupId}`))})]}),qi.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"mb-2 text-xs font-semibold uppercase tracking-wide text-slate-500 dark:text-slate-400",children:"Contatos"}),a.jsx("div",{className:"space-y-2",children:qi.map(o=>a.jsxs("button",{type:"button",disabled:U,onClick:()=>Od(o),className:`flex w-full items-center gap-3 rounded-lg border border-slate-200 px-3 py-2 text-left transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-blue-200 dark:border-slate-700 dark:hover:bg-slate-800/70 ${U?"opacity-60":""}`,children:[a.jsx(Fa,{url:o.avatarUrl,name:o.label,size:40,showStatus:!1}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("div",{className:"font-medium truncate text-slate-800 dark:text-slate-100",children:o.label}),o.subtitle&&a.jsx("div",{className:"truncate text-xs text-slate-500 dark:text-slate-400",children:o.subtitle}),a.jsxs("div",{className:"text-[11px] uppercase tracking-wide text-slate-400 dark:text-slate-500",children:["Contato",o.existingGroupId?"  DM existente":""]})]})]},`person-${o.userId}`))})]}),Hi.length===0&&qi.length===0&&a.jsx("div",{className:"text-sm text-slate-500 dark:text-slate-300",children:"Nenhum destino encontrado."})]}),U&&a.jsxs("div",{className:"mt-3 flex items-center gap-2 text-sm text-slate-500 dark:text-slate-300",children:[a.jsx("span",{className:"inline-block h-3 w-3 animate-spin rounded-full border-2 border-slate-400 border-t-transparent"}),"Encaminhando..."]}),a.jsx("div",{className:"mt-4 flex items-center justify-end gap-2",children:a.jsx("button",{type:"button",className:"rounded border border-slate-200 px-4 py-2 text-sm text-slate-600 hover:bg-slate-100 dark:border-slate-600 dark:text-slate-300 dark:hover:bg-slate-800",onClick:ue,disabled:U,children:"Cancelar"})})]})})]})]})}function Aw({message:e,mine:t,editingId:r,editText:n,setEditText:s,onStartEdit:l,onSave:i,onCancel:u}){return r===e.id?a.jsxs("div",{children:[a.jsx("textarea",{value:n,onChange:m=>s(m.target.value),className:"w-full border rounded px-2 py-1 text-sm text-slate-800",rows:2}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-2 py-1 rounded bg-blue-600 text-white text-xs hover:bg-blue-700",onClick:()=>i(e,n),children:"Salvar"}),a.jsx("button",{type:"button",className:"px-2 py-1 rounded border border-slate-300 text-xs hover:bg-slate-50",onClick:()=>u(),children:"Cancelar"})]})]}):a.jsxs("div",{children:[a.jsx("div",{className:"whitespace-pre-wrap break-words",style:{overflowWrap:"anywhere",wordBreak:"break-word"},children:Rw(e.content||"")}),e.editedAt&&a.jsx("div",{className:"text-[10px] opacity-70",children:"(editado)"})]})}function Cu({read:e,title:t}){const r=e?"#ffffff":"#94a3b8",n=e?"rgba(0,0,0,0.35)":"none",s=2.2,l=e?3.2:0;return a.jsx("span",{title:t,"aria-label":t,className:"inline-flex items-center ml-1",children:a.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M7 13l-2 2 3 3 2-2-3-3z",fill:r,opacity:"0.0"}),e&&a.jsxs(a.Fragment,{children:[a.jsx("path",{d:"M1.5 13.5l4 4 7-7",stroke:n,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8.5 13.5l4 4 9-9",stroke:n,strokeWidth:l,strokeLinecap:"round",strokeLinejoin:"round"})]}),a.jsx("path",{d:"M1.5 13.5l4 4 7-7",stroke:r,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"}),a.jsx("path",{d:"M8.5 13.5l4 4 9-9",stroke:r,strokeWidth:s,strokeLinecap:"round",strokeLinejoin:"round"})]})})}function Fa({url:e,name:t,size:r=28,status:n,showStatus:s=!1}){const[l,i]=d.useState(!1),u={position:"relative",width:r,height:r,display:"inline-block"},c={width:r,height:r,borderRadius:"50%",objectFit:"cover",flexShrink:0,display:"block"},m=(t||"U").trim().slice(0,2).toUpperCase(),x=(()=>{const _=String(n||"").toLowerCase();return _==="online"?"#16a34a":_==="busy"||_==="ocupado"?"#dc2626":_==="away"||_==="ausente"?"#f59e0b":"#94a3b8"})(),b=Math.max(8,Math.floor(r*.32)),j={position:"absolute",right:-1,bottom:-1,width:b,height:b,borderRadius:"50%",background:x,border:"2px solid rgba(255,255,255,0.95)",boxShadow:"0 0 0 1px rgba(15,23,42,0.08)"};return a.jsxs("span",{style:u,children:[e&&!l?a.jsx("img",{src:Bt(e),alt:t||"avatar",style:c,onError:()=>i(!0)}):a.jsx("div",{style:{...c,background:"#cbd5e1",color:"#334155",display:"grid",placeItems:"center",fontSize:Math.max(10,Math.floor(r*.42)),fontWeight:"bold"},children:m}),s&&a.jsx("span",{style:j})]})}function Pw(){return a.jsx(s0,{})}function Lw(){const e=vn(),t=d.useMemo(()=>new URLSearchParams(e.search),[e.search]),[r,n]=d.useState(t.get("to")||""),[s]=d.useState(t.get("name")||""),[l,i]=d.useState("idle"),[u,c]=d.useState(""),[m,x]=d.useState({loading:!0,data:null,error:""}),[b,j]=d.useState({registered:!1}),[_,A]=d.useState({phase:"idle",reason:""}),[R,L]=d.useState(0),k=d.useRef(null),g=d.useRef(null),w=d.useRef(null);d.useEffect(()=>{(async()=>{try{const $=await H.get("/phone/me");x({loading:!1,data:$,error:""})}catch($){x({loading:!1,data:null,error:$.message||"Falha ao carregar SIP"})}})()},[]),d.useEffect(()=>{const $=J=>{var ue;return j({registered:!!((ue=J==null?void 0:J.detail)!=null&&ue.registered)})};window.addEventListener("sip:reg",$);try{j({registered:localStorage.getItem("sip_registered")==="1"})}catch{}return()=>window.removeEventListener("sip:reg",$)},[]);function C(){P(),L(0),k.current=setInterval(()=>L($=>$+1),1e3)}function P(){try{clearInterval(k.current)}catch{}k.current=null}async function U(){c("");const $=String(r||"").replace(/\D/g,"");if($.length<2){c("Informe um nmero/ramal vlido");return}try{const J=w.current||pw();if(!J){c("SIP no inicializado/registrado"),i("error");return}w.current=J,i("calling"),A({phase:"progress",reason:""}),await J.call($,{onProgress:()=>A({phase:"progress",reason:""}),onAccepted:()=>{i("in-call"),A({phase:"accepted",reason:""}),C()},onEnded:()=>{i("ended"),A({phase:"ended",reason:""}),P()},onFailed:B=>{var ge;const ee=(B==null?void 0:B.response)&&(B.response.status_code||((ge=B.response)==null?void 0:ge.statusCode)),me=(B==null?void 0:B.cause)||(B==null?void 0:B.message)||"";i("error"),A({phase:"failed",reason:ee?`${ee} ${me}`.trim():me||"Falha SIP"}),P(),c(ee?`Falha SIP: ${ee} ${me||""}`.trim():"Falha SIP ou destino ocupado")},onTrack:B=>{try{g.current&&(g.current.srcObject=B)}catch{}}})||i("ended")}catch(J){c(J.message||"Falha ao iniciar chamada"),i("error")}}function V(){var $,J;try{(J=($=w.current)==null?void 0:$.hangup)==null||J.call($)}catch{}i("ended"),P()}const q=(()=>{var J,ue,B;return String(r||"").replace(/\D/g,"").length>=2&&!!b.registered&&!!((J=m==null?void 0:m.data)!=null&&J.hasPassword&&((ue=m==null?void 0:m.data)!=null&&ue.domain)&&((B=m==null?void 0:m.data)!=null&&B.extension))})();function O($){var J,ue;if(l==="in-call"||l==="calling")try{(ue=(J=w.current)==null?void 0:J.dtmf)==null||ue.call(J,$)}catch{}else n(B=>(B||"")+String($))}return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Telefonia"}),a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"max-w-xl mx-auto bg-white/80 dark:bg-slate-800/70 backdrop-blur border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-6 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Discador"}),s&&a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mb-2",children:["Contato: ",a.jsx("span",{className:"font-medium",children:s})]}),a.jsx("div",{className:"mb-3",children:m.loading?a.jsx("div",{className:"text-xs text-slate-500",children:"Carregando configurao SIP..."}):m.error?a.jsx("div",{className:"p-2 rounded border border-red-300 bg-red-50 text-sm text-red-700",children:m.error}):!m.data||!m.data.hasPassword?a.jsx("div",{className:"p-2 rounded border border-yellow-300 bg-yellow-50 text-sm text-yellow-800",children:"Sua conta SIP ainda no est configurada. Solicite ao administrador para cadastrar domnio, ramal e senha."}):a.jsxs("div",{className:"p-2 rounded border border-green-300 bg-green-50 text-sm text-green-800",children:["Conta SIP configurada: ",a.jsx("span",{className:"font-medium",children:m.data.domain}),"  Ramal ",a.jsx("span",{className:"font-medium",children:m.data.extension})]})}),a.jsxs("div",{className:"mb-2 text-xs text-slate-600",children:["SIP registro: ",b.registered?"registrado":"no registrado"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{value:r,onChange:$=>n($.target.value),placeholder:"Nmero/Ramal",className:"flex-1 border rounded px-3 py-2"}),a.jsx("button",{disabled:!q||l==="calling"||l==="in-call",className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",onClick:U,children:"Ligar"}),a.jsx("button",{disabled:!(l==="calling"||l==="in-call"),className:"inline-flex items-center gap-2 px-3 py-2 rounded bg-red-600 text-white hover:bg-red-700 disabled:opacity-50",onClick:V,children:"Desligar"})]}),u&&a.jsx("div",{className:"mt-2 text-sm text-red-600",children:u}),a.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-2 max-w-xs",children:[["1","2","3","4","5","6","7","8","9","*","0","#"].map($=>a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>O($),children:$},$)),a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50 col-span-2",onClick:()=>n(""),children:"Limpar"}),a.jsx("button",{className:"px-4 py-3 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>n($=>String($||"").slice(0,-1)),children:""})]}),a.jsxs("div",{className:"mt-4 text-xs text-slate-600 dark:text-slate-300",children:["Status: ",l," ",l==="in-call"&&`(${Math.floor(R/60).toString().padStart(2,"0")}:${(R%60).toString().padStart(2,"0")})`]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs mb-1 text-slate-500",children:"udio remoto"}),a.jsx("audio",{ref:g,autoPlay:!0,playsInline:!0})]})]})})]})}function Iw(){const e=pr(),[t,r]=d.useState([]),[n,s]=d.useState(!0),[l,i]=d.useState(""),[u,c]=d.useState("Reunio"),[m,x]=d.useState(""),[b,j]=d.useState(!0),[_,A]=d.useState(""),[R,L]=d.useState(""),[k,g]=d.useState(""),[w,C]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const O=await H.get("/meetings");r(O)}catch(O){i(O.message||"Falha ao carregar reunies")}finally{s(!1)}})()},[]);async function P(O){var $;($=O==null?void 0:O.preventDefault)==null||$.call(O),i(""),C(!0);try{const J=k.split(",").map(me=>me.trim()).filter(Boolean).map(me=>({email:me})),ue={title:u||"Reunio",description:m||void 0,isInstant:b,scheduledStart:!b&&_?new Date(_).toISOString():void 0,scheduledEnd:!b&&R?new Date(R).toISOString():void 0,participants:J},B=await H.post("/meetings",ue),ee=await H.get("/meetings");r(ee),c("Reunio"),x(""),j(!0),A(""),L(""),g(""),B!=null&&B.code&&(B!=null&&B.isInstant)&&e(`/telefonia?to=${B.code}&name=${encodeURIComponent(B.title)}`)}catch(J){i(J.message||"Falha ao criar reunio")}finally{C(!1)}}async function U(O){const $=prompt("Informe e-mails separados por vrgula:");if($)try{const J=$.split(",").map(B=>B.trim()).filter(Boolean).map(B=>({email:B}));await H.post(`/meetings/${O}/participants`,{participants:J});const ue=await H.get("/meetings");r(ue)}catch(J){alert(J.message||"Falha ao adicionar convidados")}}function V(O,$){e(`/telefonia?to=${O}&name=${encodeURIComponent($||"Reunio")}`)}function q(O){try{navigator.clipboard.writeText(O),alert("Copiado!")}catch{alert(O)}}return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Reunies"}),a.jsxs("div",{className:"flex-1 p-4 space-y-6",children:[a.jsxs("form",{onSubmit:P,className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Nova reunio"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Ttulo"}),a.jsx("input",{value:u,onChange:O=>c(O.target.value),className:"border rounded px-3 py-2"})]}),a.jsxs("label",{className:"flex items-center gap-2 text-sm mt-6 md:mt-0",children:[a.jsx("input",{type:"checkbox",checked:b,onChange:O=>j(O.target.checked)}),"Instantnea"]}),!b&&a.jsxs(a.Fragment,{children:[a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Incio"}),a.jsx("input",{type:"datetime-local",value:_,onChange:O=>A(O.target.value),className:"border rounded px-3 py-2"})]}),a.jsxs("label",{className:"flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Fim"}),a.jsx("input",{type:"datetime-local",value:R,onChange:O=>L(O.target.value),className:"border rounded px-3 py-2"})]})]}),a.jsxs("label",{className:"md:col-span-2 flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Descrio (opcional)"}),a.jsx("textarea",{value:m,onChange:O=>x(O.target.value),className:"border rounded px-3 py-2",rows:2})]}),a.jsxs("label",{className:"md:col-span-2 flex flex-col text-sm",children:[a.jsx("span",{className:"text-slate-600 mb-1",children:"Convidados (e-mails, separados por vrgula)"}),a.jsx("input",{value:k,onChange:O=>g(O.target.value),className:"border rounded px-3 py-2",placeholder:"exemplo@dominio.com, outro@dominio.com"})]})]}),a.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[a.jsx("button",{type:"submit",disabled:w,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700 disabled:opacity-50",children:w?"Criando...":"Criar"}),l&&a.jsx("span",{className:"text-sm text-red-600",children:l})]})]}),a.jsxs("div",{className:"max-w-4xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("h3",{className:"font-semibold mb-3",children:"Minhas reunies"}),n?a.jsx("div",{className:"text-sm text-slate-600",children:"Carregando..."}):t.length===0?a.jsx("div",{className:"text-sm text-slate-600",children:"Nenhuma reunio encontrada"}):a.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:t.map(O=>a.jsxs("li",{className:"py-3 flex items-center gap-3 justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"font-medium truncate",children:[O.title," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["#",O.code]})]}),a.jsxs("div",{className:"text-xs text-slate-500 truncate",children:[O.isInstant?"Instantnea":"Agendada",O.scheduledStart?`  ${new Date(O.scheduledStart).toLocaleString()}`:""]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>V(O.code,O.title),children:"Entrar"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>U(O.id),children:"Convidar"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>e(`/reunioes/${O.id}`),children:"Detalhes"}),a.jsx("button",{className:"px-2 py-1.5 text-sm rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50",onClick:()=>q(O.code),children:"Copiar cdigo"})]})]},O.id))})]})]})]})}function Tw(){const{id:e}=Tm(),t=pr(),[r,n]=d.useState(null),[s,l]=d.useState(""),[i,u]=d.useState(!0);d.useEffect(()=>{(async()=>{try{const x=await H.get(`/meetings/${e}`);n(x)}catch(x){l(x.message||"Falha ao carregar")}finally{u(!1)}})()},[e]);function c(x){try{navigator.clipboard.writeText(x)}catch{}}async function m(){const x=prompt("Informe e-mails separados por vrgula:");if(x)try{const b=x.split(",").map(_=>_.trim()).filter(Boolean).map(_=>({email:_}));await H.post(`/meetings/${e}/participants`,{participants:b});const j=await H.get(`/meetings/${e}`);n(j)}catch(b){alert(b.message||"Falha ao adicionar")}}return i?a.jsx("div",{className:"p-4",children:"Carregando..."}):s?a.jsx("div",{className:"p-4 text-red-600",children:s}):r?a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Detalhes da reunio"}),a.jsxs("div",{className:"flex-1 p-4 space-y-4",children:[a.jsxs("div",{className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsxs("div",{className:"text-xl font-semibold",children:[r.title," ",a.jsxs("span",{className:"text-xs text-slate-500",children:["#",r.code]})]}),a.jsxs("div",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1",children:[r.isInstant?"Instantnea":"Agendada",r.scheduledStart?`  ${new Date(r.scheduledStart).toLocaleString()}`:""]}),r.description&&a.jsx("div",{className:"mt-2 text-sm",children:r.description}),a.jsxs("div",{className:"mt-3 flex gap-2",children:[a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:()=>t(`/telefonia?to=${r.code}&name=${encodeURIComponent(r.title)}`),children:"Entrar"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:()=>c(r.code),children:"Copiar cdigo"}),a.jsx("button",{className:"px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600",onClick:m,children:"Convidar"})]})]}),a.jsxs("div",{className:"max-w-3xl bg-white/80 dark:bg-slate-800/70 border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Participantes"}),a.jsx("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:r.participants.map(x=>a.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-sm",children:x.name||x.email}),a.jsx("div",{className:"text-xs text-slate-500",children:x.email})]}),a.jsx("div",{className:"flex items-center gap-2",children:x.inviteToken&&a.jsx("button",{className:"px-2 py-1 text-xs rounded border border-slate-300 dark:border-slate-600",onClick:()=>c(`${window.location.origin}/join/${x.inviteToken}`),children:"Copiar link"})})]},x.id))})]})]})]}):a.jsx("div",{className:"p-4",children:"No encontrado"})}const Fw="http://localhost:3001/api";async function Ow(e){const t=await fetch(e);if(!t.ok)throw new Error(await t.text());return t.json()}function Uw(){const{token:e}=Tm();pr();const[t,r]=d.useState(null),[n,s]=d.useState("");if(d.useEffect(()=>{(async()=>{try{const c=await Ow(`${Fw}/meetings/invite/${e}`);r(c)}catch(c){s(c.message||"Convite invlido")}})()},[e]),n)return a.jsxs("div",{className:"p-6 max-w-xl mx-auto text-center",children:[a.jsx("div",{className:"text-xl font-semibold mb-2",children:"Convite invlido"}),a.jsx("div",{className:"text-slate-600",children:String(n)})]});if(!t)return a.jsx("div",{className:"p-6 max-w-xl mx-auto text-center",children:"Carregando..."});const{meeting:l,participant:i}=t,u=`/telefonia?to=${l.code}&name=${encodeURIComponent(l.title)}`;return a.jsx("div",{className:"p-6 max-w-xl mx-auto",children:a.jsxs("div",{className:"bg-white/80 border border-slate-200 rounded-xl p-6 shadow-sm",children:[a.jsx("div",{className:"text-xl font-semibold",children:"Convite para reunio"}),a.jsx("div",{className:"mt-2 text-slate-700",children:l.title}),l.scheduledStart&&a.jsx("div",{className:"text-sm text-slate-500",children:new Date(l.scheduledStart).toLocaleString()}),a.jsxs("div",{className:"mt-4 text-sm text-slate-600",children:["Convidado: ",i.name||i.email||"Convidado"]}),a.jsxs("div",{className:"mt-6 flex gap-3",children:[a.jsx("a",{href:u,className:"px-3 py-2 rounded bg-blue-600 text-white hover:bg-blue-700",children:"Abrir no app"}),a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(l.code).then(()=>alert("Cdigo copiado"))},className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",children:"Copiar cdigo"})]}),a.jsx("div",{className:"mt-4 text-xs text-slate-500",children:"Se necessrio, faa login para entrar."})]})})}function $w(){const e=pr(),[t,r]=d.useState([]),[n,s]=d.useState(""),[l,i]=d.useState(!0),[u,c]=d.useState("");d.useEffect(()=>{(async()=>{try{const x=await H.get("/users/all");r(x)}catch(x){c(x.message||"Falha ao carregar contatos")}finally{i(!1)}})()},[]);const m=t.filter(x=>(x.name+" "+(x.email||"")).toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("div",{className:"px-4 py-3 sticky top-0 z-10 border-b border-slate-200/70 bg-white/70 dark:bg-slate-900/60 backdrop-blur supports-[backdrop-filter]:bg-white/50 font-medium",children:"Contatos"}),a.jsx("div",{className:"flex-1 p-4",children:a.jsxs("div",{className:"max-w-3xl mx-auto bg-white/80 dark:bg-slate-800/70 backdrop-blur border border-slate-200/60 dark:border-slate-700/60 rounded-xl p-4 shadow-sm",children:[a.jsx("div",{className:"flex items-center gap-2 mb-3",children:a.jsx("input",{value:n,onChange:x=>s(x.target.value),placeholder:"Buscar por nome ou e-mail",className:"flex-1 border rounded px-3 py-2"})}),l?a.jsx("div",{className:"text-sm text-slate-600",children:"Carregando..."}):u?a.jsx("div",{className:"text-sm text-red-600",children:u}):a.jsxs("ul",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:[m.map(x=>a.jsxs("li",{className:"py-2 flex items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[x.avatarUrl?a.jsx("img",{src:Bt(x.avatarUrl),alt:x.name,className:"w-8 h-8 rounded-full object-cover"}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-300"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:x.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:x.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[x.phone&&a.jsx("span",{className:"text-xs text-slate-500 hidden md:inline",children:x.phone}),a.jsxs("button",{className:"inline-flex items-center gap-2 px-3 py-1.5 rounded border border-slate-300 dark:border-slate-600 hover:bg-slate-50 dark:hover:bg-slate-700/60",onClick:()=>{const b=new URLSearchParams;x.phone&&b.set("to",x.phone),b.set("name",x.name),b.set("id",x.id),e(`/telefonia?${b.toString()}`)},children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5",children:a.jsx("path",{d:"M2.25 6.75c0-1.24 1.01-2.25 2.25-2.25h3c.97 0 1.8.62 2.1 1.54l.86 2.58a2.25 2.25 0 0 1-.57 2.31l-1.21 1.21a12.06 12.06 0 0 0 4.88 4.88l1.21-1.21a2.25 2.25 0  1  2.31-.57l2.58.86c.92.3 1.54 1.13 1.54 2.1v3c0 1.24-1.01 2.25-2.25 2.25H18c-8.28 0-15-6.72-15-15v-3Z"})}),"Ligar"]})]})]},x.id)),m.length===0&&a.jsx("li",{className:"py-6 text-sm text-slate-500 text-center",children:"Nenhum contato encontrado"})]})]})})]})}function Mw(){var ma,fs,ga,xa;const e=Ts(),[t,r]=d.useState("usuarios"),[n,s]=d.useState(""),[l,i]=d.useState([]),[u,c]=d.useState(""),[m,x]=d.useState(""),[b,j]=d.useState(""),[_,A]=d.useState(""),[R,L]=d.useState(""),[k,g]=d.useState(!1),[w,C]=d.useState(""),[P,U]=d.useState(null),[V,q]=d.useState(!1),[O,$]=d.useState(""),[J,ue]=d.useState(""),B=f=>(f||"").replace(/\D/g,""),ee=f=>{const y=B(f).slice(0,11);return y.length<=2?y:y.length<=6?`(${y.slice(0,2)}) ${y.slice(2)}`:y.length===10?`(${y.slice(0,2)}) ${y.slice(2,6)}-${y.slice(6)}`:y.length>=11?`(${y.slice(0,2)}) ${y.slice(2,7)}-${y.slice(7)}`:y},[me,ge]=d.useState([]),[Fe,W]=d.useState(""),[D,te]=d.useState(null),[I,re]=d.useState([]),[xe,he]=d.useState(""),[ke,de]=d.useState(!1),[ye,at]=d.useState(""),[jt,Zt]=d.useState([]),[lt,Ks]=d.useState(!1),[Zs,bl]=d.useState(null),[Or,mr]=d.useState(""),[Js,kl]=d.useState(!1),[gr,jl]=d.useState(null);function Q(f,y="info",T=3e3){jl({message:f,type:y});try{T&&setTimeout(()=>jl(null),T)}catch{}}const Jt=d.useCallback(f=>{if(!f)return"";try{return new Date(f).toLocaleString("pt-BR")}catch{return f}},[]),Ci=d.useCallback(f=>{const y=Number(f);if(!Number.isFinite(y)||y<0)return"";if(y===0)return"0 B";const T=["B","KB","MB","GB","TB"],G=Math.min(T.length-1,Math.floor(Math.log(y)/Math.log(1024))),X=y/Math.pow(1024,G);return`${X>=10?X.toFixed(0):X.toFixed(1)} ${T[G]}`},[]),[xr,Yt]=d.useState(""),[Xt,vr]=d.useState(""),[yn,Yn]=d.useState(""),[Nt,ae]=d.useState(""),[St,wn]=d.useState([]),[bn,Xn]=d.useState(null),[es,Ys]=d.useState(""),[Xs,ea]=d.useState(!1),[kn,Nl]=d.useState(""),Sl=d.useRef(null),Ur=d.useRef(null),jn=d.useMemo(()=>({autoEnabled:!1,time:"02:00",retentionDays:7,lastAutoRunAt:null,lastManualRunAt:null,lastManualResult:null,lastAutoResult:null,lastRestoreAt:null,lastRestoreName:null,lastRestoreActor:null}),[]),[El,Cl]=d.useState([]),[Le,Et]=d.useState(jn),[$r,Nn]=d.useState(!1),[ts,rs]=d.useState(!1),[et,Z]=d.useState(""),[_l,yr]=d.useState(""),[ns,ot]=d.useState(""),[ss,er]=d.useState(!1),[Mr,wr]=d.useState(()=>{try{return localStorage.getItem("chat_bg")||"default"}catch{return"default"}}),[ta,Sn]=d.useState(""),[En,Ot]=d.useState(""),[as,Cn]=d.useState("");function tr(f,y){if(!(typeof window>"u"))try{const T=Array.isArray(f)?f:[];if(y){const G=T.find(X=>X.id===y);if(G!=null&&G.url){localStorage.setItem("notif_sound_url",G.url),window.dispatchEvent(new Event("chat:alertSoundUpdated"));return}}localStorage.removeItem("notif_sound_url"),window.dispatchEvent(new Event("chat:alertSoundUpdated"))}catch{}}async function Dl({silent:f}={}){try{const y=await H.get("/admin/config");Yn((y==null?void 0:y.chatIconUrl)||""),ae((y==null?void 0:y.chatWallpaperUrl)||"");const T=Array.isArray(y==null?void 0:y.alertSounds)?y.alertSounds:[];wn(T),Xn((y==null?void 0:y.activeAlertSoundId)||null),tr(T,(y==null?void 0:y.activeAlertSoundId)||null)}catch(y){f||Q(y.message||"Falha ao carregar configuraes","error")}}d.useEffect(()=>{try{const f=localStorage.getItem("chat_icon");f&&(Yt(f.startsWith("data:")?f:""),vr(f.startsWith("data:")?"":f))}catch{}(async()=>{try{const f=await(await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/public")).json();f!=null&&f.chatIconUrl&&Yn(f.chatIconUrl),f!=null&&f.chatWallpaperUrl&&ae(f.chatWallpaperUrl)}catch{}})(),(async()=>{try{await Dl({silent:!0})}catch{}})()},[]);function _i(f){var G;const y=(G=f.target.files)==null?void 0:G[0];if(!y)return;if(!y.type.startsWith("image/")){Q("Selecione uma imagem","error");return}const T=new FileReader;T.onload=()=>{Yt(String(T.result)),vr("")},T.readAsDataURL(y)}function Rl(f){var y,T,G;(y=f==null?void 0:f.preventDefault)==null||y.call(f);try{const X=(Xt==null?void 0:Xt.trim())||xr;if(!X){Q("Defina uma imagem ou URL","error");return}localStorage.setItem("chat_icon",X);try{window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}try{localStorage.setItem("chat_bg",Mr||"default"),(G=(T=document.body)==null?void 0:T.setAttribute)==null||G.call(T,"data-chat-bg",Mr||"default"),window.dispatchEvent(new Event("chat:bgUpdated"))}catch{}Q("Configuraes salvas","success")}catch{Q("Falha ao salvar configuraes","error")}}async function Al(f){if(!f)return;const y=new FormData;y.append("icon",f);try{const T=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/icon",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:y});if(!T.ok){const X=await T.text();throw new Error(X||"Falha no upload")}const G=await T.json();if(G!=null&&G.chatIconUrl){Yn(G.chatIconUrl),Q("cone global atualizado","success");try{localStorage.setItem("chat_icon",G.chatIconUrl),window.dispatchEvent(new Event("chat:iconUpdated"))}catch{}}}catch(T){Q(T.message||"Falha ao enviar cone","error")}}async function Di(f){if(!f)return;const y=new FormData;y.append("wallpaper",f);try{const T=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/wallpaper",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:y});if(!T.ok){const X=await T.text();throw new Error(X||"Falha no upload")}const G=await T.json();if(G!=null&&G.chatWallpaperUrl){ae(G.chatWallpaperUrl),document.documentElement.style.setProperty("--chat-wallpaper",`url('${G.chatWallpaperUrl}')`);try{localStorage.setItem("chat_wallpaper",G.chatWallpaperUrl),window.dispatchEvent(new Event("chat:wallpaperUpdated"))}catch{}Q("Papel de parede global atualizado","success")}}catch(T){Q(T.message||"Falha ao enviar papel de parede","error")}}async function Ri(){try{if(!Nt){Q("Nenhum papel de parede para salvar","error");return}const f=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config",{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")||""}`},body:JSON.stringify({chatWallpaperUrl:Nt})});if(!f.ok){const y=await f.text();throw new Error(y||"Falha ao salvar")}Q("Papel de parede salvo para todos","success")}catch(f){Q(f.message||"Falha ao salvar papel de parede","error")}}async function Ai(){try{if(!(typeof window<"u"?window.confirm("Excluir papel de parede global?"):!0))return;const y=await fetch((typeof window<"u"?`${window.location.origin}/api`:"http://localhost:3000/api")+"/admin/config/wallpaper",{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")||""}`}});if(!y.ok){const T=await y.text();throw new Error(T||"Falha ao excluir")}ae("");try{localStorage.removeItem("chat_wallpaper"),document.documentElement.style.removeProperty("--chat-wallpaper"),window.dispatchEvent(new Event("chat:wallpaperUpdated"))}catch{}Q("Papel de parede global excludo","success")}catch(f){Q(f.message||"Falha ao excluir papel de parede","error")}}const Ct=d.useCallback(async()=>{Nn(!0);try{const f=await H.get("/admin/backup");Cl(Array.isArray(f==null?void 0:f.backups)?f.backups:[]);const y={...jn,...(f==null?void 0:f.settings)||{}};Et(y)}catch(f){Q(f.message||"Falha ao carregar backups","error")}finally{Nn(!1)}},[jn]);async function Pi(){rs(!0);try{await H.post("/admin/backup/run",{}),Q("Backup criado com sucesso","success"),await Ct()}catch(f){Q(f.message||"Falha ao executar backup","error")}finally{rs(!1)}}async function ra(f){if(!f)return;let y=!0;if(typeof window<"u"&&(y=window.confirm(`Restaurar o backup "${f}"? Esta ao substituir mensagens e arquivos atuais.`)),!!y){Z(f);try{await H.post("/admin/backup/restore",{name:f,confirm:!0}),Q("Backup restaurado com sucesso","success")}catch(T){Q(T.message||"Falha ao restaurar backup","error")}finally{Z(""),await Ct()}}}async function Pl(f){if(!f)return;let y=!0;if(typeof window<"u"&&(y=window.confirm(`Excluir backup "${f}"?`)),!!y){yr(f);try{await H.delete(`/admin/backup/${encodeURIComponent(f)}`),Q("Backup excludo","success")}catch(T){Q(T.message||"Falha ao excluir backup","error")}finally{yr(""),await Ct()}}}async function Ll(f){if(f){ot(f);try{const y=await fetch(`${qt}/admin/backup/download/${encodeURIComponent(f)}`,{headers:{Authorization:`Bearer ${xt()||""}`}});if(!y.ok){const De=await y.text();throw new Error(De||"Falha ao preparar download")}const T=await y.blob(),G=window.URL.createObjectURL(T),X=document.createElement("a");X.href=G,X.download=`${f}.zip`,document.body.appendChild(X),X.click(),document.body.removeChild(X),window.URL.revokeObjectURL(G)}catch(y){Q(y.message||"Falha ao baixar backup","error")}finally{ot("")}}}async function ls(f){var y;(y=f==null?void 0:f.preventDefault)==null||y.call(f),er(!0);try{const T={autoEnabled:Le.autoEnabled,time:Le.time,retentionDays:Le.retentionDays},G=await H.post("/admin/backup/settings",T),X={...jn,...(G==null?void 0:G.settings)||T};Et(X),Q("Configuraes de backup salvas","success")}catch(T){Q(T.message||"Falha ao salvar configuraes de backup","error")}finally{er(!1)}}d.useEffect(()=>{t==="configuracoes"&&Ct()},[t,Ct]);function br(){var f,y;try{(y=(f=Sl.current)==null?void 0:f.click)==null||y.call(f)}catch{}}async function Li(f){var T,G;const y=(G=(T=f==null?void 0:f.target)==null?void 0:T.files)==null?void 0:G[0];if(y){if(y.type&&!y.type.startsWith("audio/")){Q("Selecione um arquivo de udio","error"),f!=null&&f.target&&(f.target.value="");return}ea(!0);try{const X=new FormData;X.append("sound",y);const De=(es||"").trim();De&&X.append("name",De);const Re=await H.upload("/admin/config/alert-sounds",X),Tn=Array.isArray(Re==null?void 0:Re.alertSounds)?Re.alertSounds:[];wn(Tn),Xn((Re==null?void 0:Re.activeAlertSoundId)||null),tr(Tn,(Re==null?void 0:Re.activeAlertSoundId)||null),De&&Ys(""),Q("Som enviado","success")}catch(X){Q(X.message||"Falha ao enviar som","error")}finally{ea(!1),f!=null&&f.target&&(f.target.value="")}}}async function na(f){try{const y=await H.post(`/admin/config/alert-sounds/${f||"none"}/activate`,{}),T=Array.isArray(y==null?void 0:y.alertSounds)?y.alertSounds:[];wn(T),Xn((y==null?void 0:y.activeAlertSoundId)||null),tr(T,(y==null?void 0:y.activeAlertSoundId)||null),Q(f?"Som de alerta atualizado":"Bip padro ativado","success")}catch(y){Q(y.message||"Falha ao atualizar som de alerta","error")}}async function Ii(f){if(f)try{if(typeof window<"u"&&!window.confirm("Excluir este som de alerta?"))return;Nl(f);const y=await H.del(`/admin/config/alert-sounds/${f}`),T=Array.isArray(y==null?void 0:y.alertSounds)?y.alertSounds:[];wn(T),Xn((y==null?void 0:y.activeAlertSoundId)||null),tr(T,(y==null?void 0:y.activeAlertSoundId)||null),Q("Som excludo","success")}catch(y){Q(y.message||"Falha ao excluir som","error")}finally{Nl("")}}function Il(f){var y,T;if(!f){Q("Som indisponvel","error");return}try{(T=(y=Ur.current)==null?void 0:y.pause)==null||T.call(y),Ur.current=new Audio(f),Ur.current.onended=()=>{Ur.current=null},Ur.current.play().catch(()=>{Q("No foi possvel reproduzir o som","error")})}catch{Q("No foi possvel reproduzir o som","error")}}async function Tl(f){var y;(y=f==null?void 0:f.preventDefault)==null||y.call(f);try{const T=(ta||"").trim(),G=(En||"").trim(),X=(as||"").trim();if(!T){Q("Informe a senha atual","error");return}if(G.length<6){Q("Nova senha deve ter 6+ caracteres","error");return}if(G!==X){Q("Confirmao no confere","error");return}await H.post("/users/me/password",{current:T,password:G}),Sn(""),Ot(""),Cn(""),Q("Senha do admin alterada","success")}catch(T){Q(T.message||"Falha ao alterar senha","error")}}d.useEffect(()=>{(async()=>{try{const f=await H.get("/users");i(Array.isArray(f)?f:[])}catch(f){s(y=>y?y+"  Usurios: "+(f.message||"falha"):"Usurios: "+(f.message||"falha"))}})()},[]),d.useEffect(()=>{(async()=>{try{const f=await H.get("/groups/all?includeDMs=false");ge(Array.isArray(f)?f:[])}catch(f){s(y=>y?y+"  Grupos: "+(f.message||"falha"):"Grupos: "+(f.message||"falha"))}})()},[]);const Br=d.useMemo(()=>{const f=w.trim().toLowerCase();return f?l.filter(y=>`${y.name} ${y.email}`.toLowerCase().includes(f)):l},[l,w]),fe=d.useMemo(()=>l.filter(f=>!I.some(y=>y.userId===f.id)),[l,I]),Ti=d.useMemo(()=>{const f=xe.trim().toLowerCase();return f?fe.filter(y=>`${y.name} ${y.email}`.toLowerCase().includes(f)):fe},[fe,xe]);async function os(){try{const f=await H.get("/users");i(Array.isArray(f)?f:[])}catch{}}async function ht(f){var De;(De=f==null?void 0:f.preventDefault)==null||De.call(f),s("");const y=ee(_),T=B(y),G=(R||"").trim();if(T&&(T.length<10||T.length>11))return s("Telefone invlido (use DDD + nmero).");const X={name:u.trim(),email:m.trim(),password:b,isAdmin:!!k,phone:T?y:null,address:G||null};if(!X.name||X.name.length<2)return s("Informe um nome vlido.");if(!/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(X.email))return s("E-mail invlido.");if(!X.password||X.password.length<6)return s("Senha com 6+ caracteres.");try{await H.post("/users",X),await os(),c(""),x(""),j(""),A(""),L(""),g(!1)}catch(Re){s(Re.message||"Falha ao criar usurio")}}function zr(f){U({...f}),$("")}function kr(){V||(U(null),$(""))}async function is(f){var y;if((y=f==null?void 0:f.preventDefault)==null||y.call(f),!!P){q(!0),s("");try{const T=ee(P.phone||""),G=B(T);if(G&&(G.length<10||G.length>11))throw new Error("Telefone invlido (use DDD + nmero).");const X={name:(P.name||"").trim(),email:(P.email||"").trim(),phone:G?T:null,address:(P.address||"").trim()||null,isAdmin:!!P.isAdmin,isBlocked:!!P.isBlocked};if(await H.patch(`/users/${P.id}`,X),O&&O.trim().length>=6)if(e!=null&&e.id&&P.id===e.id){if(!J.trim())throw new Error("Informe a senha atual para alterar a sua senha.");await H.post("/users/me/password",{current:J.trim(),password:O.trim()})}else await H.post(`/users/${P.id}/password`,{password:O.trim()});await os(),kr()}catch(T){s(T.message||"Falha ao salvar usurio")}finally{q(!1)}}}async function Fi(f){if(confirm("Excluir este usurio?"))try{await H.del(`/users/${f}`),i(y=>y.filter(T=>T.id!==f)),Q("Usurio excludo","success")}catch(y){Q(y.message||"Falha ao excluir","error")}}function Oi(f){bl(f.id),mr("")}function rr(){bl(null),mr("")}async function Fl(){if(!(!Zs||!Or)){kl(!0);try{await H.post(`/groups/${Or}/members`,{userId:Zs}),(D==null?void 0:D.id)===Or&&await sr(),rr(),Q("Usurio adicionado ao grupo","success")}catch(f){Q(f.message||"Falha ao adicionar ao grupo","error")}finally{kl(!1)}}}async function Vr(f){var T;(T=f==null?void 0:f.preventDefault)==null||T.call(f),s("");const y=(Fe||"").trim();if(y.length<2)return s("Informe um nome de grupo com 2+ caracteres.");try{await H.post("/groups",{name:y});const G=await H.get("/groups/all?includeDMs=false");ge(Array.isArray(G)?G:[]),W("")}catch(G){s(G.message||"Falha ao criar grupo")}}const[sa,Ol]=d.useState([]),[_n,Ul]=d.useState(""),[aa,$l]=d.useState(!1),[Dn,la]=d.useState(""),[us,Ut]=d.useState(""),[Ml,ve]=d.useState(""),[Bl,oa]=d.useState(""),[ia,zl]=d.useState(""),[Wr,Rn]=d.useState(!1),[cs,ua]=d.useState(null),[nr,An]=d.useState({domain:"",extension:"",password:""});async function jr(){$l(!0),la("");try{const f=await H.get("/phone");Ol(Array.isArray(f)?f:[])}catch(f){la(f.message||"Falha ao carregar contas SIP")}finally{$l(!1)}}d.useEffect(()=>{(async()=>{try{await jr()}catch{}})()},[]);async function Vl(f){var y;(y=f==null?void 0:f.preventDefault)==null||y.call(f),Rn(!0);try{const T=(us||"").trim(),G=(Ml||"").trim(),X=(Bl||"").trim(),De=(ia||"").trim();if(!T||!G||!X){Q("Informe usurio, domnio e ramal.","error");return}await H.patch(`/phone/${T}`,{domain:G,extension:X,...De?{password:De}:{}}),await jr(),Ut(""),ve(""),oa(""),zl(""),Q("Conta SIP salva","success")}catch(T){Q(T.message||"Falha ao salvar conta SIP","error")}finally{Rn(!1)}}function Wl(f){ua(f.user.id),An({domain:f.domain||"",extension:f.extension||"",password:""})}function Nr(){ua(null),An({domain:"",extension:"",password:""})}async function Hr(){if(cs){Rn(!0);try{const f={domain:(nr.domain||"").trim(),extension:(nr.extension||"").trim()};if(!f.domain||!f.extension){Q("Domnio e ramal so obrigatrios.","error");return}(nr.password||"").trim()&&(f.password=(nr.password||"").trim()),await H.patch(`/phone/${cs}`,f),await jr(),Nr(),Q("Conta SIP atualizada","success")}catch(f){Q(f.message||"Falha ao atualizar conta SIP","error")}finally{Rn(!1)}}}async function ca(f){try{await H.post(`/phone/${f}/disconnect`,{}),await jr(),Q("Desconectado","success")}catch(y){Q(y.message||"Falha ao desconectar","error")}}async function da(f){try{if(typeof window<"u"&&!window.confirm("Excluir ramal/conta SIP deste usurio?"))return;await H.delete(`/phone/${f}`),await jr(),Q("Ramal excludo","success")}catch(y){Q(y.message||"Falha ao excluir ramal","error")}}async function Pn(f){te(f),he(""),at(""),Zt([]);try{const y=await H.get(`/groups/${f.id}/members`);re(Array.isArray(y)?y:[])}catch(y){re([]),s(y.message||"Falha ao carregar membros")}}async function fa(f){if(f)try{if((D==null?void 0:D.id)===f){if(I.length>0){Q("Remova todos os membros antes de excluir o grupo.","error");return}}else try{const y=await H.get(`/groups/${f}/members`);if(Array.isArray(y)&&y.length>0){Q("Remova todos os membros antes de excluir o grupo.","error");return}}catch{}if(typeof window<"u"&&!window.confirm("Excluir este grupo? Esta ao no pode ser desfeita."))return;await H.delete(`/groups/${f}`),ge(y=>y.filter(T=>T.id!==f)),(D==null?void 0:D.id)===f&&(te(null),re([])),Q("Grupo excludo","success")}catch(y){Q(y.message||"Falha ao excluir grupo","error")}}async function sr(){if(D)try{const f=await H.get(`/groups/${D.id}/members`);re(Array.isArray(f)?f:[])}catch{}}async function Hl(){if(!(!D||!ye)){de(!0);try{await H.post(`/groups/${D.id}/members`,{userId:ye}),at(""),await sr()}catch(f){Q(f.message||"Falha ao adicionar membro","error")}finally{de(!1)}}}async function ha(f){if(D)try{await H.delete(`/groups/${D.id}/members/${f}`),re(y=>y.filter(T=>T.userId!==f))}catch(y){Q(y.message||"Falha ao remover","error")}}function ds(f){Zt(y=>y.includes(f)?y.filter(T=>T!==f):[...y,f])}function Ln(){Zt(I.map(f=>f.userId))}function In(){Zt([])}async function pa(){if(!(!D||!jt.length)&&!(typeof window<"u"&&!window.confirm(`Remover ${jt.length} membro(s) de ${D.name}?`))){Ks(!0);try{const f=jt.map(X=>H.delete(`/groups/${D.id}/members/${X}`)),y=await Promise.allSettled(f),T=y.filter(X=>X.status==="fulfilled").length,G=y.length-T;T&&await sr(),In(),G?Q(`Removidos: ${T}. Falhas: ${G}.`,"error"):Q(`Removidos: ${T}.`,"success")}catch(f){Q(f.message||"Falha ao remover seleo","error")}finally{Ks(!1)}}}return a.jsxs("div",{className:"p-4 overflow-auto h-full",children:[gr&&a.jsx("div",{className:`fixed bottom-4 right-4 z-50 px-4 py-2 rounded shadow border text-sm ${gr.type==="success"?"bg-green-50 text-green-800 border-green-200":gr.type==="error"?"bg-red-50 text-red-800 border-red-200":"bg-slate-50 text-slate-800 border-slate-200"}`,children:gr.message}),a.jsx("h2",{className:"text-2xl font-semibold",children:"Admin"}),a.jsx("div",{className:"mt-3 border-b border-slate-200",children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("button",{onClick:()=>r("usuarios"),className:`px-2 py-2 -mb-px border-b-2 ${t==="usuarios"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Usurios"}),a.jsx("button",{onClick:()=>r("grupos"),className:`px-2 py-2 -mb-px border-b-2 ${t==="grupos"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Grupos"}),a.jsx("button",{onClick:()=>r("telefonia"),className:`px-2 py-2 -mb-px border-b-2 ${t==="telefonia"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Telefonia"}),a.jsx("button",{onClick:()=>r("configuracoes"),className:`px-2 py-2 -mb-px border-b-2 ${t==="configuracoes"?"border-blue-600 text-blue-700":"border-transparent text-slate-600 hover:text-slate-800"}`,children:"Configuraes"})]})}),n&&a.jsx("div",{className:"mt-3 rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2",children:n}),t==="usuarios"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("form",{onSubmit:ht,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2",children:[a.jsx("h4",{className:"font-medium",children:"Novo Usurio"}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:u,onChange:f=>c(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"E-mail",value:m,onChange:f=>x(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Telefone (opcional)",value:_,onChange:f=>A(ee(f.target.value))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Endereo (opcional)",value:R,onChange:f=>L(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha",type:"password",value:b,onChange:f=>j(f.target.value)}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:k,onChange:f=>g(f.target.checked)})," Admin"]}),a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Criar"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Lista"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Buscar...",value:w,onChange:f=>C(f.target.value)}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:os,children:"Atualizar"})]})]}),Br.length?a.jsx("ul",{className:"mt-2 divide-y divide-slate-200",children:Br.map(f=>a.jsxs("li",{className:"py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:f.email}),a.jsxs("div",{className:"text-xs text-slate-500",children:[f.isAdmin?"admin":"",f.isBlocked?(f.isAdmin?"  ":"")+"bloqueado":""]})]}),a.jsxs("div",{className:"shrink-0 flex items-center gap-3",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>zr(f),children:"Editar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>Fi(f.id),children:"Excluir"}),a.jsx("div",{className:"relative inline-block",children:Zs===f.id?a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:Or,onChange:y=>mr(y.target.value),children:[a.jsx("option",{value:"",children:"Escolha o grupo"}),me.map(y=>a.jsx("option",{value:y.id,children:y.name},y.id))]}),a.jsx("button",{className:"px-2 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",disabled:!Or||Js,onClick:Fl,children:Js?"Adicionando...":"Adicionar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border",onClick:rr,children:"Cancelar"})]}):a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-slate-300 text-slate-700 hover:bg-slate-50",onClick:()=>Oi(f),children:"Adicionar ao grupo"})})]})]},f.id))}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum usurio encontrado."})]})]}),t==="grupos"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[a.jsxs("form",{onSubmit:Vr,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2",children:[a.jsx("h4",{className:"font-medium",children:"Novo Grupo"}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome do grupo",value:Fe,onChange:f=>W(f.target.value)}),a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Criar"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Lista"}),a.jsxs("div",{className:"text-xs text-slate-500",children:[me.length," grupo(s)"]})]}),me.length?a.jsx("ul",{className:"mt-2 space-y-1",children:me.map(f=>a.jsx("li",{className:`px-2 py-1 rounded border cursor-pointer ${(D==null?void 0:D.id)===f.id?"border-blue-400 bg-blue-50":"border-slate-200 hover:bg-slate-50"}`,onClick:()=>Pn(f),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"truncate",children:f.name}),(()=>{const y=(D==null?void 0:D.id)===f.id&&I.length>0;return a.jsx("button",{type:"button",className:`px-2 py-1 text-sm rounded border ml-3 border-red-300 text-red-700 ${y?"opacity-50 cursor-not-allowed":"hover:bg-red-50"}`,disabled:y,title:y?"Remova todos os membros antes de excluir":"Excluir",onClick:T=>{T.stopPropagation(),y||fa(f.id)},children:"Excluir"})})()]})},f.id))}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum grupo encontrado."})]}),D&&a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("h4",{className:"font-medium",children:["Membros  ",D.name]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:`text-xs rounded border px-2 py-1 border-red-300 text-red-700 ${I.length>0?"opacity-50 cursor-not-allowed":"hover:bg-red-50"}`,disabled:I.length>0,title:I.length>0?"Remova todos os membros antes de excluir":"Excluir grupo",onClick:()=>{I.length===0&&fa(D.id)},children:"Excluir grupo"}),a.jsx("button",{type:"button",className:"text-xs rounded border px-2 py-1 hover:bg-slate-50",onClick:Ln,children:"Selecionar todos"}),a.jsx("button",{type:"button",className:"text-xs rounded border px-2 py-1 hover:bg-slate-50",onClick:In,children:"Limpar seleo"}),a.jsx("button",{type:"button",className:"text-xs rounded bg-red-600 text-white px-2 py-1 disabled:opacity-60",disabled:!jt.length||lt,onClick:pa,children:lt?"Removendo...":"Remover seleo"}),a.jsx("button",{type:"button",className:"text-xs text-slate-600 underline",onClick:sr,children:"Atualizar"})]})]}),a.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm flex-1",placeholder:"Buscar usurio...",value:xe,onChange:f=>he(f.target.value)}),a.jsxs("select",{className:"border rounded px-2 py-1 text-sm",value:ye,onChange:f=>at(f.target.value),children:[a.jsx("option",{value:"",children:"Selecionar usurio"}),Ti.map(f=>a.jsxs("option",{value:f.id,children:[f.name,"  ",f.email]},f.id))]}),a.jsx("button",{type:"button",className:"px-3 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",disabled:!ye||ke,onClick:Hl,children:ke?"Adicionando...":"Adicionar"})]}),I.length?a.jsx("ul",{className:"mt-3 divide-y divide-slate-200",children:I.map(f=>{var y,T;return a.jsxs("li",{className:"py-2 flex items-center justify-between",children:[a.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:jt.includes(f.userId),onChange:()=>ds(f.userId)}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium truncate",children:((y=f.user)==null?void 0:y.name)||f.userId}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(T=f.user)==null?void 0:T.email})]})]}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>ha(f.userId),children:"Remover"})]},f.userId)})}):a.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Sem membros ainda."})]})]}),t==="telefonia"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 md:grid-cols-3 gap-4 items-start",children:[a.jsxs("form",{onSubmit:Vl,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2 md:col-span-1",children:[a.jsx("h4",{className:"font-medium",children:"Nova/Atualizar conta SIP"}),a.jsxs("select",{className:"border rounded px-3 py-2",value:us,onChange:f=>Ut(f.target.value),children:[a.jsx("option",{value:"",children:"Selecione o usurio"}),l.map(f=>a.jsxs("option",{value:f.id,children:[f.name,"  ",f.email]},f.id))]}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Domnio (ex.: sip.empresa.com)",value:Ml,onChange:f=>ve(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Ramal/Extenso",value:Bl,onChange:f=>oa(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha (opcional para manter)",type:"password",value:ia,onChange:f=>zl(f.target.value)}),a.jsx("button",{disabled:Wr,className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700 disabled:opacity-60",children:Wr?"Salvando...":"Salvar conta SIP"})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 md:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Contas SIP"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{className:"border rounded px-2 py-1 text-sm w-64 shrink-0",placeholder:"Buscar por nome, e-mail, ramal, domnio",value:_n,onChange:f=>Ul(f.target.value)}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:jr,children:"Atualizar"})]})]}),Dn&&a.jsx("div",{className:"mt-2 rounded border border-red-200 bg-red-50 text-red-700 px-3 py-2 text-sm",children:Dn}),aa?a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Carregando..."}):sa.length?a.jsx("ul",{className:"mt-2 divide-y divide-slate-200",children:sa.filter(f=>{var G,X;const y=_n.trim().toLowerCase();return y?`${((G=f.user)==null?void 0:G.name)||""} ${((X=f.user)==null?void 0:X.email)||""} ${f.extension||""} ${f.domain||""}`.toLowerCase().includes(y):!0}).map(f=>{var y,T,G,X;return a.jsx("li",{className:"py-2",children:cs===f.user.id?a.jsxs("div",{className:"grid md:grid-cols-6 gap-2 items-center",children:[a.jsxs("div",{className:"md:col-span-2 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:(y=f.user)==null?void 0:y.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(T=f.user)==null?void 0:T.email})]}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Domnio",value:nr.domain,onChange:De=>An(Re=>({...Re,domain:De.target.value}))}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Ramal",value:nr.extension,onChange:De=>An(Re=>({...Re,extension:De.target.value}))}),a.jsx("input",{className:"border rounded px-2 py-1 text-sm",placeholder:"Senha (opcional)",type:"password",value:nr.password,onChange:De=>An(Re=>({...Re,password:De.target.value}))}),a.jsxs("div",{className:"flex items-center gap-2 justify-end whitespace-nowrap",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border",onClick:Nr,disabled:Wr,children:"Cancelar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded bg-blue-600 text-white disabled:opacity-60",onClick:Hr,disabled:Wr,children:"Salvar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>da(f.user.id),disabled:Wr,children:"Excluir"})]})]}):a.jsxs("div",{className:"grid md:grid-cols-6 gap-2 items-center",children:[a.jsxs("div",{className:"md:col-span-2 min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:(G=f.user)==null?void 0:G.name}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(X=f.user)==null?void 0:X.email})]}),a.jsx("div",{className:"text-sm truncate",children:f.domain}),a.jsx("div",{className:"text-sm",children:f.extension}),a.jsx("div",{className:"text-xs",children:a.jsx("span",{className:`px-2 py-0.5 rounded-full border ${f.regRegistered?"bg-green-50 text-green-700 border-green-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:f.regRegistered?"registrado":f.regStatus||"desconectado"})}),a.jsxs("div",{className:"flex items-center gap-3 justify-end whitespace-nowrap",children:[a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>Wl(f),children:"Editar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-amber-300 text-amber-700 hover:bg-amber-50",onClick:()=>ca(f.user.id),children:"Desconectar"}),a.jsx("button",{className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>da(f.user.id),children:"Excluir"})]})]})},f.id)})}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhuma conta SIP encontrada."})]})]}),t==="configuracoes"&&a.jsxs("section",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4 items-start",children:[a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 lg:col-span-3",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Backups do chat"}),a.jsx("p",{className:"text-sm text-slate-500",children:"Gera cpias do banco de dados e da pasta de uploads. Restaurar um backup substitui dados atuais."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50 disabled:opacity-60",onClick:Pi,disabled:ts,children:ts?"Executando...":"Executar backup agora"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border hover:bg-slate-50 disabled:opacity-60",onClick:Ct,disabled:$r,children:$r?"Atualizando...":"Atualizar lista"})]})]}),a.jsxs("form",{onSubmit:ls,className:"mt-4 space-y-3",children:[a.jsxs("label",{className:"inline-flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:!!Le.autoEnabled,onChange:f=>Et(y=>({...y,autoEnabled:f.target.checked}))}),"Ativar backup automtico dirio"]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-3 md:items-end",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Horrio"}),a.jsx("input",{type:"time",className:"mt-1 border rounded px-3 py-2 w-full",value:Le.time||"02:00",onChange:f=>Et(y=>({...y,time:f.target.value})),disabled:!Le.autoEnabled})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Reteno (dias)"}),a.jsx("input",{type:"number",min:"0",max:"365",className:"mt-1 border rounded px-3 py-2 w-full",value:Le.retentionDays??7,onChange:f=>Et(y=>({...y,retentionDays:Math.max(0,Number(f.target.value))})),disabled:!Le.autoEnabled})]}),a.jsx("div",{className:"flex items-end",children:a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-60",disabled:ss,children:ss?"Salvando...":"Salvar agendamento"})})]}),a.jsxs("div",{className:"text-xs text-slate-500 space-y-1",children:[a.jsxs("div",{children:["ltimo backup manual: ",Jt(Le.lastManualRunAt)," ",((ma=Le.lastManualResult)==null?void 0:ma.ok)===!1?`(erro: ${((fs=Le.lastManualResult)==null?void 0:fs.error)||"desconhecido"})`:""]}),a.jsxs("div",{children:["ltimo backup automtico: ",Jt(Le.lastAutoRunAt)," ",((ga=Le.lastAutoResult)==null?void 0:ga.ok)===!1?`(erro: ${((xa=Le.lastAutoResult)==null?void 0:xa.error)||"desconhecido"})`:""]}),a.jsxs("div",{children:["ltima restaurao: ",Jt(Le.lastRestoreAt)," ",Le.lastRestoreName?`(${Le.lastRestoreName})`:""]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("h4",{className:"font-medium",children:"Backups disponveis"}),$r?a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Carregando backups..."}):El.length?a.jsx("div",{className:"mt-2 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm border border-slate-200 rounded",children:[a.jsx("thead",{className:"bg-slate-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Nome"}),a.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Criado em"}),a.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Tamanho"}),a.jsx("th",{className:"px-3 py-2 text-left font-medium text-slate-600",children:"Origem"}),a.jsx("th",{className:"px-3 py-2 text-right font-medium text-slate-600",children:"Aes"})]})}),a.jsx("tbody",{children:El.map(f=>{var y;return a.jsxs("tr",{className:"border-t border-slate-200",children:[a.jsx("td",{className:"px-3 py-2 font-mono text-xs md:text-sm",children:f.name}),a.jsx("td",{className:"px-3 py-2",children:Jt(f.createdAt)}),a.jsx("td",{className:"px-3 py-2",children:Ci(f.size)}),a.jsx("td",{className:"px-3 py-2",children:((y=f==null?void 0:f.meta)==null?void 0:y.reason)==="auto"?"Automtico":"Manual"}),a.jsx("td",{className:"px-3 py-2",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded border hover:bg-slate-50 disabled:opacity-60",onClick:()=>Ll(f.name),disabled:ns===f.name,children:ns===f.name?"Baixando...":"Download"}),a.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded border border-blue-300 text-blue-700 hover:bg-blue-50 disabled:opacity-60",onClick:()=>ra(f.name),disabled:et===f.name,children:et===f.name?"Restaurando...":"Restaurar"}),a.jsx("button",{type:"button",className:"px-2 py-1 text-xs rounded border border-red-300 text-red-700 hover:bg-red-50 disabled:opacity-60",onClick:()=>Pl(f.name),disabled:_l===f.name,children:_l===f.name?"Excluindo...":"Excluir"})]})})]},f.name)})})]})}):a.jsx("div",{className:"mt-2 text-sm text-slate-500",children:"Nenhum backup encontrado ainda."})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200 lg:col-span-2",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Chat da organizao (Global)"}),a.jsxs("div",{className:"mt-3 grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"cone do chat"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[yn?a.jsx("img",{src:yn,alt:"global",className:"w-12 h-12 rounded-full object-cover border"}):a.jsx("div",{className:"w-12 h-12 rounded-full border bg-slate-100"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{id:"cfg-file-global",className:"hidden",type:"file",accept:"image/*",onChange:f=>{var y;return Al((y=f.target.files)==null?void 0:y[0])}}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var f;return(f=document.getElementById("cfg-file-global"))==null?void 0:f.click()},children:"Enviar"}),yn&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{try{localStorage.setItem("chat_icon",yn),window.dispatchEvent(new Event("chat:iconUpdated")),Q("Aplicado cone global neste navegador","success")}catch{}},children:"Aplicar local"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Papel de parede (conversas)"}),a.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[a.jsx("div",{className:"w-28 h-16 rounded border bg-slate-100 overflow-hidden",children:a.jsx("div",{className:"w-full h-full chat-bg",style:{"--chat-wallpaper":Nt?`url('${Nt}')`:void 0}})}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("input",{id:"cfg-file-wallpaper",className:"hidden",type:"file",accept:"image/*",onChange:f=>{var y;return Di((y=f.target.files)==null?void 0:y[0])}}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var f;return(f=document.getElementById("cfg-file-wallpaper"))==null?void 0:f.click()},children:"Enviar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-green-300 text-green-700 hover:bg-green-50",onClick:Ri,disabled:!Nt,children:"Salvar"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>{try{if(!Nt){Q("Nenhum wallpaper para aplicar","error");return}localStorage.setItem("chat_wallpaper",Nt),document.documentElement.style.setProperty("--chat-wallpaper",`url('${Nt}')`),window.dispatchEvent(new Event("chat:wallpaperUpdated")),Q("Aplicado localmente","success")}catch{}},disabled:!Nt,children:"Aplicar local"}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:Ai,disabled:!Nt,children:"Excluir"})]})]}),a.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Afeta todos os usurios. A aplicao local funciona apenas neste navegador."})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("h4",{className:"font-medium",children:"Sons de alerta"}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:"Faa upload de arquivos de udio (mp3, wav, ogg) para usar como alerta padro do chat."}),a.jsxs("div",{className:"mt-3 flex flex-col md:flex-row md:items-end gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"text-xs text-slate-500 uppercase tracking-wide",children:"Nome (opcional)"}),a.jsx("input",{className:"mt-1 border rounded px-3 py-2 w-full",placeholder:"Ex.: Alerta ping",value:es,onChange:f=>Ys(f.target.value)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{ref:Sl,type:"file",accept:"audio/*",className:"hidden",onChange:Li}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50 disabled:opacity-60",onClick:br,disabled:Xs,children:Xs?"Enviando...":"Enviar som"}),Xs&&a.jsx("span",{className:"text-xs text-slate-500",children:"Aguarde..."})]})]}),St.length?a.jsx("ul",{className:"mt-3 divide-y divide-slate-200",children:St.map(f=>a.jsxs("li",{className:"py-2 flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium truncate",children:f.name||"Som"}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:f.url})]}),a.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border hover:bg-slate-50",onClick:()=>Il(f.url),children:"Ouvir"}),bn===f.id?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-50 text-blue-700 border border-blue-200",children:"Ativo"}):a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-blue-300 text-blue-700 hover:bg-blue-50",onClick:()=>na(f.id),children:"Definir"}),a.jsx("button",{type:"button",className:"px-2 py-1 text-sm rounded border border-red-300 text-red-700 hover:bg-red-50 disabled:opacity-60",onClick:()=>Ii(f.id),disabled:kn===f.id,children:kn===f.id?"Excluindo...":"Excluir"})]})]},f.id))}):a.jsx("div",{className:"mt-3 text-sm text-slate-500",children:"Nenhum som cadastrado ainda."}),a.jsx("div",{className:"mt-3",children:a.jsx("button",{type:"button",className:"text-xs text-slate-600 underline disabled:opacity-60",onClick:()=>na(null),disabled:!bn,children:"Usar bip padro"})})]})]})]}),a.jsxs("div",{className:"bg-white p-4 rounded border border-slate-200",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Aparncia Local"}),a.jsxs("form",{onSubmit:Rl,className:"mt-2 flex flex-col gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"cone local"}),a.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[a.jsx("input",{id:"cfg-file",className:"hidden",type:"file",accept:"image/*",onChange:_i}),a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-slate-300 hover:bg-slate-50",onClick:()=>{var f;return(f=document.getElementById("cfg-file"))==null?void 0:f.click()},children:"Escolher"}),(xr||Xt)&&a.jsx("button",{type:"button",className:"px-3 py-2 rounded border border-red-300 text-red-700 hover:bg-red-50",onClick:()=>{Yt(""),vr("")},children:"Limpar"})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Preview"}),xr||Xt?a.jsx("img",{src:xr||Xt,alt:"cone",className:"mt-1 w-10 h-10 rounded-full object-cover border"}):a.jsx("div",{className:"mt-1 w-10 h-10 rounded-full border bg-slate-100"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"URL (opcional)"}),a.jsx("input",{className:"border rounded px-3 py-2 w-full",placeholder:"https://...",value:Xt,onChange:f=>{vr(f.target.value),f.target.value&&Yt("")}})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Tema do papel de parede"}),a.jsxs("select",{className:"mt-1 border rounded px-3 py-2 w-full",value:Mr,onChange:f=>wr(f.target.value),children:[a.jsx("option",{value:"default",children:"Padro"}),a.jsx("option",{value:"whatsapp",children:"WhatsApp"})]})]}),a.jsx("div",{className:"flex items-center justify-end gap-2",children:a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Salvar local"})})]})]}),a.jsxs("form",{onSubmit:Tl,className:"bg-white p-4 rounded border border-slate-200 flex flex-col gap-2 lg:col-span-3",children:[a.jsx("h3",{className:"text-lg font-semibold",children:"Conta do administrador"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-2 mt-2",children:[a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Senha atual",type:"password",value:ta,onChange:f=>Sn(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nova senha (6+)",type:"password",value:En,onChange:f=>Ot(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Confirmar nova senha",type:"password",value:as,onChange:f=>Cn(f.target.value)})]}),a.jsx("div",{className:"flex items-center justify-end",children:a.jsx("button",{className:"px-3 py-2 rounded bg-blue-600 text-white",children:"Alterar senha"})})]})]}),P&&a.jsx("div",{className:"fixed inset-0 z-50 bg-black/30 grid place-items-center",onClick:kr,children:a.jsxs("div",{className:"bg-white w-full max-w-lg rounded border border-slate-200 p-4",onClick:f=>f.stopPropagation(),children:[a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Editar Usurio"}),a.jsxs("form",{onSubmit:is,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Nome",value:P.name||"",onChange:f=>U(y=>({...y,name:f.target.value}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"E-mail",value:P.email||"",onChange:f=>U(y=>({...y,email:f.target.value}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Telefone",value:P.phone||"",onChange:f=>U(y=>({...y,phone:ee(f.target.value)}))}),a.jsx("input",{className:"border rounded px-3 py-2",placeholder:"Endereo",value:P.address||"",onChange:f=>U(y=>({...y,address:f.target.value}))}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!P.isAdmin,onChange:f=>U(y=>({...y,isAdmin:f.target.checked}))})," Admin"]}),a.jsxs("label",{className:"text-sm inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:!!P.isBlocked,onChange:f=>U(y=>({...y,isBlocked:f.target.checked}))})," Bloqueado"]}),(e==null?void 0:e.id)&&P.id===e.id&&a.jsx("input",{className:"border rounded px-3 py-2 md:col-span-2",placeholder:"Senha atual (obrigatria para trocar a sua senha)",type:"password",value:J,onChange:f=>ue(f.target.value)}),a.jsx("input",{className:"border rounded px-3 py-2 md:col-span-2",placeholder:"Nova senha (opcional, 6+)",type:"password",value:O,onChange:f=>$(f.target.value)}),a.jsxs("div",{className:"md:col-span-2 flex items-center justify-end gap-2 mt-2",children:[a.jsx("button",{type:"button",className:"px-3 py-2 rounded border",onClick:kr,disabled:V,children:"Cancelar"}),a.jsx("button",{type:"submit",className:"px-3 py-2 rounded bg-blue-600 text-white disabled:opacity-60",disabled:V,children:V?"Salvando...":"Salvar"})]})]})]})})]})}function Bw(){const[e,t]=d.useState(""),[r,n]=d.useState(""),[s,l]=d.useState(""),[i,u]=d.useState(null),[c,m]=d.useState(""),[x,b]=d.useState(""),[j,_]=d.useState(""),[A,R]=d.useState(""),[L,k]=d.useState(""),[g,w]=d.useState(""),C=d.useRef(null),P=d.useRef(""),U=B=>(B||"").replace(/\D/g,""),V=B=>{const ee=U(B).slice(0,11);return ee.length<=2?ee:ee.length<=6?`(${ee.slice(0,2)}) ${ee.slice(2)}`:ee.length===10?`(${ee.slice(0,2)}) ${ee.slice(2,6)}-${ee.slice(6)}`:ee.length>=11?`(${ee.slice(0,2)}) ${ee.slice(2,7)}-${ee.slice(7)}`:ee},q=()=>{if(P.current){if(typeof URL<"u"&&typeof URL.revokeObjectURL=="function")try{URL.revokeObjectURL(P.current)}catch{}P.current=""}};d.useEffect(()=>()=>{q()},[]),d.useEffect(()=>{(async()=>{try{const B=await H.get("/users/me");t(B.name||""),n(B.phone?V(B.phone):""),l(B.address||"");const ee=B.avatarUrl||"";b(ee),m(ee)}catch{w("Falha ao carregar perfil")}})()},[]);const O=()=>{var B;(B=C.current)==null||B.click()},$=B=>{var me;const ee=((me=B.target.files)==null?void 0:me[0])||null;if(u(ee),q(),ee)try{const ge=URL.createObjectURL(ee);P.current=ge,m(ge)}catch{m(x)}else m(x)};async function J(B){B.preventDefault(),k(""),w("");try{const ee=V(r),me=U(ee);if(me&&(me.length<10||me.length>11))throw new Error("Telefone invalido (use DDD + numero).");const ge=(e||"").trim(),Fe=(s||"").trim(),W={phone:me?ee:null,address:Fe||null};if(ge&&(W.name=ge),i){await H.patch("/users/me",W);const D=new FormData;D.append("avatar",i),await H.uploadPatch("/users/me",D)}else await H.patch("/users/me",W);try{const D=await H.get("/users/me"),te=D.avatarUrl||"";t(D.name||""),n(D.phone?V(D.phone):""),l(D.address||""),q(),b(te),m(te),u(null),C.current&&(C.current.value="");const I=xt();I&&Mm(I,D);try{window.dispatchEvent(new Event("chat:userUpdated"))}catch{}}catch{}k("Perfil atualizado!")}catch(ee){w(ee.message||"Erro ao salvar")}}async function ue(B){B.preventDefault(),k(""),w("");try{await H.post("/users/me/password",{current:j,password:A}),_(""),R(""),k("Senha alterada!")}catch(ee){w(ee.message||"Erro ao alterar senha")}}return a.jsxs("div",{className:"p-4 overflow-auto h-full",children:[a.jsx("h2",{className:"text-xl font-semibold",children:"Meu perfil"}),L&&a.jsx("div",{className:"text-green-600 text-sm mt-2",children:L}),g&&a.jsx("div",{className:"text-red-600 text-sm mt-2",children:g}),a.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-[260px,1fr]",children:[a.jsxs("section",{className:"bg-white p-4 rounded border border-slate-200 flex flex-col items-center gap-3 text-center",children:[a.jsx("div",{className:"w-28 h-28 md:w-32 md:h-32 rounded-full border border-slate-200 dark:border-slate-700 overflow-hidden bg-slate-100 flex items-center justify-center text-slate-500",children:c?a.jsx("img",{src:c,alt:"avatar",className:"w-full h-full object-cover",onError:()=>m("")}):a.jsx("span",{className:"text-sm",children:"Sem foto"})}),a.jsx("button",{type:"button",onClick:O,className:"w-full inline-flex items-center justify-center gap-2 px-3 py-2 text-sm rounded border border-slate-300 hover:bg-slate-50",children:"Alterar foto"}),a.jsx("input",{ref:C,type:"file",accept:"image/*",className:"hidden",onChange:$}),i&&a.jsx("div",{className:"w-full text-xs text-slate-500 truncate",children:i.name}),a.jsx("p",{className:"text-xs text-slate-500",children:"Utilize imagens quadradas para melhor resultado."})]}),a.jsxs("form",{onSubmit:J,className:"bg-white p-4 rounded border border-slate-200 grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Nome"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:e,onChange:B=>t(B.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Telefone"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:r,onChange:B=>n(V(B.target.value))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Endereco"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",value:s,onChange:B=>l(B.target.value)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-blue-600 text-white px-3 py-2 hover:bg-blue-700",children:"Salvar"})})]})]}),a.jsxs("form",{onSubmit:ue,className:"mt-4 bg-white p-4 rounded border border-slate-200 grid md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Senha atual"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:j,onChange:B=>_(B.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-slate-700",children:"Nova senha"}),a.jsx("input",{className:"mt-1 w-full border rounded px-3 py-2",type:"password",value:A,onChange:B=>R(B.target.value)})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{className:"inline-flex items-center justify-center rounded bg-slate-700 text-white px-3 py-2 hover:bg-slate-800",children:"Alterar senha"})})]})]})}function zw({children:e}){return xt()?e:a.jsx(bc,{to:"/login",replace:!0})}function Vw({children:e}){const t=xt(),r=Ts();return t?r!=null&&r.isAdmin?e:a.jsx(bc,{to:"/",replace:!0}):a.jsx(bc,{to:"/login",replace:!0})}_m(document.getElementById("root")).render(a.jsx(oi.StrictMode,{children:a.jsx(dy,{children:a.jsxs(sy,{children:[a.jsx(mt,{path:"/login",element:a.jsx(gw,{})}),a.jsx(mt,{path:"/register",element:a.jsx(xw,{})}),a.jsx(mt,{path:"/join/:token",element:a.jsx(Uw,{})}),a.jsxs(mt,{path:"/",element:a.jsx(zw,{children:a.jsx(mw,{})}),children:[a.jsx(mt,{index:!0,element:a.jsx(s0,{})}),a.jsx(mt,{path:"conversas",element:a.jsx(Pw,{})}),a.jsx(mt,{path:"telefonia",element:a.jsx(Lw,{})}),a.jsx(mt,{path:"reunioes",element:a.jsx(Iw,{})}),a.jsx(mt,{path:"reunioes/:id",element:a.jsx(Tw,{})}),a.jsx(mt,{path:"contatos",element:a.jsx($w,{})}),a.jsx(mt,{path:"admin",element:a.jsx(Vw,{children:a.jsx(Mw,{})})}),a.jsx(mt,{path:"profile",element:a.jsx(Bw,{})})]})]})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{try{navigator.serviceWorker.register("/sw.js")}catch(e){console.error("Falha ao registrar o Service Worker",e)}});
